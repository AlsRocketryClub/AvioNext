ARM GAS  /tmp/ccxppnfb.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"stm32h7xx_hal_sd.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.SD_PowerON,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	SD_PowerON:
  25              	.LVL0:
  26              	.LFB379:
  27              		.file 1 "Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c"
   1:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
   2:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @file    stm32h7xx_hal_sd.c
   4:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  13:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
  14:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @attention
  15:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  16:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * Copyright (c) 2017 STMicroelectronics.
  17:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * All rights reserved.
  18:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  19:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * This software is licensed under terms that can be found in the LICENSE file
  20:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * in the root directory of this software component.
  21:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  22:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  23:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
  24:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @verbatim
  25:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  26:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### How to use this driver #####
  27:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  28:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  29:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  30:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
  31:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
ARM GAS  /tmp/ccxppnfb.s 			page 2


  32:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  33:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     examples.
  34:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  35:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  36:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  37:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  38:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC driver functions to interface with SD and uSD cards devices.
  39:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     It is used as follows:
  40:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  41:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#)Initialize the SDMMC low level resources by implementing the HAL_SD_MspInit() API:
  42:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC_CLK_ENABLE();
  43:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) SDMMC pins configuration for SD card
  44:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  45:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  46:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and according to your pin assignment;
  47:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  48:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  49:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  50:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  51:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  52:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  53:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  54:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  55:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) No general propose DMA Configuration is needed, an Internal DMA for SDMMC Peripheral a
  56:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  57:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  58:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  59:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  60:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  61:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ================================================
  62:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  63:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  64:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tra
  65:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function provide the following operations:
  66:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  67:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  68:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  69:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  70:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The SD Card frequency (SDMMC_CK) is computed as follows:
  71:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  72:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (2 * ClockDiv)
  73:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  74:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  75:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  76:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  77:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase of initialization is done through SDMMC_Init() and
  78:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  79:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  80:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  81:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase allows the card initialization and identification
  82:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  83:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  84:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  85:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
  86:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         of plug-off plug-in.
  87:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  88:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
ARM GAS  /tmp/ccxppnfb.s 			page 3


  89:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  90:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
  91:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
  92:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  93:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  94:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  95:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  96:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  97:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Read operation ***
  98:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================
  99:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Write operation ***
 127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===============================
 128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 4


 146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card status ***
 156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ======================
 157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card information ***
 162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===========================
 163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         block number ...
 167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CSD register ***
 169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CID register ***
 174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD HAL driver macros list ***
 179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==================================
 180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
 184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** Callback registration ***
 191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   =============================================
 192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use Functions HAL_SD_RegisterCallback() to register a user callback,
 197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     it allows to register following callbacks:
 198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
ARM GAS  /tmp/ccxppnfb.s 			page 5


 203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and a pointer to the user callback function.
 210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated register callbacks:
 211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively HAL_SD_RegisterTransceiverCallback().
 212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use function HAL_SD_UnRegisterCallback() to reset a callback to the default
 214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated unregister callbacks:
 227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively HAL_SD_UnRegisterTransceiverCallback().
 228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     By default, after the HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the HAL_SD_Init
 233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the HAL_SD_Init and HAL_SD_DeInit
 235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     during the Init/DeInit.
 241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     using HAL_SD_RegisterCallback before calling HAL_SD_DeInit
 243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     or HAL_SD_Init function.
 244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     not defined, the callback registering feature is not available
 247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @endverbatim
 250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
 251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #include "stm32h7xx_hal.h"
 255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup STM32H7xx_HAL_Driver
 257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 6


 260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD
 261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Frequencies used in the driver for clock divider calculation */
 272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_INIT_FREQ                   400000U   /* Initialization phase : 400 kHz max */
 273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_NORMAL_SPEED_FREQ           25000000U /* Normal speed phase : 25 MHz max */
 274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_HIGH_SPEED_FREQ             50000000U /* High speed phase : 50 MHz max */
 275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) && defined (DLYB_SDMMC2)
 277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) (((SDMMC_INSTANCE) == SDMMC1)?  \
 278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                               DLYB_SDMMC1 : DLYB_SDMMC2 )
 279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (DLYB_SDMMC1)
 280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) ( DLYB_SDMMC1 )
 281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) && defined (DLYB_SDMMC2) */
 282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd);
 294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd);
 295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);
 300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_PowerOFF(SD_HandleTypeDef *hsd);
 301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Write_IT(SD_HandleTypeDef *hsd);
 302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Read_IT(SD_HandleTypeDef *hsd);
 303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SwitchSpeed(SD_HandleTypeDef *hsd, uint32_t SwitchSpeedMode);
 304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd, uint32_t UltraHighSpeedMode);
 306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd);
 307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 7


 317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Initialization and de-initialization functions
 319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     card device to be ready for use.
 327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
 336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_RESET)
 360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
 363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Force  SDMMC_TRANSCEIVER_PRESENT for Legacy usage */
 366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_UNKNOWN)
 367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Init.TranceiverPresent = SDMMC_TRANSCEIVER_PRESENT;
 369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /*USE_SD_TRANSCEIVER */
 371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
ARM GAS  /tmp/ccxppnfb.s 			page 8


 374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
 378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
 379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
 380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
 381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->MspInitCallback == NULL)
 389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware */
 394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
 398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_PROGRAMMING;
 402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the Card parameters */
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
 405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardStatus(hsd, &CardStatus) != HAL_OK)
 410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get Initial Card Speed from Card Status*/
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   speedgrade = CardStatus.UhsSpeedGrade;
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_HIGH_SPEED;
 425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_NORMAL_SPEED;
 429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 9


 431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the bus wide */
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_ConfigWideBusOperation(hsd, hsd->Init.BusWide) != HAL_OK)
 434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Initialization */
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the error code */
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD operation */
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD state */
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             re-initialization is needed.
 467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Default SDMMC peripheral configuration for SD card initialization */
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Init Clock should be less or equal to 400Khz*/
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
ARM GAS  /tmp/ccxppnfb.s 			page 10


 488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockDiv = sdmmc_clk / (2U * SD_INIT_FREQ);
 490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.TranceiverPresent = hsd->Init.TranceiverPresent;
 493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Transceiver polarity */
 497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (USE_SD_DIRPOL)
 500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Transceiver polarity */
 501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
 503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, Init);
 506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to ON */
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_ON(hsd->Instance);
 509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* wait 74 Cycles: required power up waiting time before starting
 511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****      the SD initialization sequence */
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (Init.ClockDiv != 0U)
 513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_clk = sdmmc_clk / (2U * Init.ClockDiv);
 515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk != 0U)
 518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Identify card operating voltage */
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Card initialization */
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
ARM GAS  /tmp/ccxppnfb.s 			page 11


 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Deactivate the 1.8V Mode */
 574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->DriveTransceiver_1_8V_Callback == NULL)
 578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback(RESET);
 582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_DriveTransceiver_1_8V_Callback(RESET);
 584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER   */
 587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set SD power state to off */
 589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_PowerOFF(hsd);
 590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->MspDeInitCallback == NULL)
 593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* DeInit the low level hardware */
 598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
ARM GAS  /tmp/ccxppnfb.s 			page 12


 602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Data transfer functions
 647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### IO operation functions #####
 651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     transfer from/to SD card.
 655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
ARM GAS  /tmp/ccxppnfb.s 			page 13


 659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by polling mode.
 663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the received data
 667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read
 669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                     uint32_t Timeout)
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
ARM GAS  /tmp/ccxppnfb.s 			page 14


 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read block(s) in polling mode */
 721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Poll on SDMMC flags */
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) && (dataremaining >= 32U))
 750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Read data from SDMMC Rx FIFO */
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = SDMMC_ReadFIFO(hsd->Instance);
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= 32U;
 765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
ARM GAS  /tmp/ccxppnfb.s 			page 15


 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccxppnfb.s 			page 16


 830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
 832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         transfer is managed by polling mode.
 848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
 853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write
 854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, const uint8_t *pData, uint32_t BlockAdd
 858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                      uint32_t NumberOfBlocks, uint32_t Timeout)
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   const uint8_t *tempbuff = pData;
 868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 17


 887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write block(s) in polling mode */
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) && (dataremaining >= 32U))
 936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Write data to SDMMC Tx FIFO */
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
ARM GAS  /tmp/ccxppnfb.s 			page 18


 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= 32U;
 951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
ARM GAS  /tmp/ccxppnfb.s 			page 19


1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR))
1004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
1018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
1027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
1037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                        uint32_t NumberOfBlocks)
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
ARM GAS  /tmp/ccxppnfb.s 			page 20


1058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in IT mode */
1091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
1101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 21


1115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
1116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
1117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, const uint8_t *pData, uint32_t Block
1140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccxppnfb.s 			page 22


1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
1197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
1214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
ARM GAS  /tmp/ccxppnfb.s 			page 23


1229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer SD handle
1231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
1244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in DMA mode */
ARM GAS  /tmp/ccxppnfb.s 			page 24


1286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
1296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
1312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, const uint8_t *pData, uint32_t Bloc
1336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          uint32_t NumberOfBlocks)
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
1341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
ARM GAS  /tmp/ccxppnfb.s 			page 25


1343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
1369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
1379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
1382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
1385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
1388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
1397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
ARM GAS  /tmp/ccxppnfb.s 			page 26


1400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
1413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockStartAdd: Start Block address
1428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockEndAdd: End Block address
1429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
1435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
1436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add < start_add)
1442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add > (hsd->SdCard.LogBlockNbr))
1448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (((hsd->SdCard.Class) & SDMMC_CCCC_ERASE) == 0U)
ARM GAS  /tmp/ccxppnfb.s 			page 27


1457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
1466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
1476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       start_add *= 512U;
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
1479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SECURED)
1483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
1487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
1493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
1498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
1504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD38 ERASE */
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance, 0UL);
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
1510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
ARM GAS  /tmp/ccxppnfb.s 			page 28


1514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
1516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
1521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
1525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
1537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check for SDMMC interrupt flags */
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
1540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Read_IT(hsd);
1542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) != RESET)
1545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DATAEND);
1547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
1550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_RXFIFOHF);
1551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 29


1571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
1585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DLEN = 0;
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
ARM GAS  /tmp/ccxppnfb.s 			page 30


1628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 
1640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Write_IT(hsd);
1642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR |
1645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
1646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Error code */
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DCRCFAIL) != RESET)
1649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DTIMEOUT) != RESET)
1653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_RXOVERR) != RESET)
1657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_TXUNDERR) != RESET)
1661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear All flags */
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Disable all interrupts */
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
1671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
1678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
ARM GAS  /tmp/ccxppnfb.s 			page 31


1685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
1693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Disable Internal DMA */
1695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Set the SD state to ready to be able to start again the process */
1699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback(hsd);
1702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_ErrorCallback(hsd);
1704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_IDMABTC) != RESET)
1714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_IDMABTC);
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback(hsd);
1723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf1CpltCallback(hsd);
1725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback(hsd);
1731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf1CpltCallback(hsd);
1733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else /* SD_DMA_BUFFER1 */
1737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
ARM GAS  /tmp/ccxppnfb.s 			page 32


1742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback(hsd);
1743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf0CpltCallback(hsd);
1745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback(hsd);
1751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf0CpltCallback(hsd);
1753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
1760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief return the SD state
1765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to sd handle
1766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL state
1767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
1769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
1771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Return the SD error code
1775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
1776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
1777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Error Code
1778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
1780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
1782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
1786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to SD handle
1787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
1790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
1796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 33


1799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
1801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
1805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
1811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD error callbacks
1816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
1820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
1826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD Abort callbacks
1831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
1835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
1841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
1845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enable/Disable the SD Transceiver 1.8V Mode Callback.
1847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  status: Voltage Switch State
1848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak  void HAL_SD_DriveTransceiver_1_8V_Callback(FlagStatus status)
1851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(status);
1854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_EnableTransceiver could be implemented in the user file
ARM GAS  /tmp/ccxppnfb.s 			page 34


1856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
1859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Callback
1863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
1864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   The HAL_SD_RegisterCallback() may be called before HAL_SD_Init() in 
1865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_STATE_RESET to register callbacks for HAL_SD_MSP_INIT_CB_ID 
1866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         and HAL_SD_MSP_DEINIT_CB_ID.
1867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
1869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
1881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
1884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                           pSD_CallbackTypeDef pCallback)
1885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
1889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = pCallback;
1901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = pCallback;
1904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = pCallback;
1907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
1909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = pCallback;
1910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
1912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = pCallback;
ARM GAS  /tmp/ccxppnfb.s 			page 35


1913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
1915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = pCallback;
1916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
1918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = pCallback;
1919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
1921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = pCallback;
1922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
1960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
1961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
1964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
1968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
1969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   The HAL_SD_UnRegisterCallback() may be called before HAL_SD_Init() in 
ARM GAS  /tmp/ccxppnfb.s 			page 36


1970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_STATE_RESET to register callbacks for HAL_SD_MSP_INIT_CB_ID 
1971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         and HAL_SD_MSP_DEINIT_CB_ID.
1972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
1974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
1988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
1997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
2000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
2002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = HAL_SD_ErrorCallback;
2003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
2005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = HAL_SD_AbortCallback;
2006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
2009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
2012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
2015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
2018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
ARM GAS  /tmp/ccxppnfb.s 			page 37


2027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
2036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Transceiver Callback
2065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterTransceiverCallback(SD_HandleTypeDef *hsd, pSD_TransceiverCallback
2071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
2075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 38


2084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = pCallback;
2087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Transceiver Callback
2103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterTransceiverCallback(SD_HandleTypeDef *hsd)
2108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
2117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   management functions
2139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
2140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
ARM GAS  /tmp/ccxppnfb.s 			page 39


2141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
2142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
2144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
2145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     operations and get the related information
2147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
2149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
2150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CID register.
2155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCID: Pointer to a HAL_SD_CardCIDTypeDef structure that
2157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CID register parameters
2158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
2163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
2165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
2167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
2169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
2171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
2173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
2175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
2177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
2179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved2 = 1U;
2181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CSD register.
2188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCSD: Pointer to a HAL_SD_CardCSDTypeDef structure that
2190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CSD register parameters
2191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
2196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
ARM GAS  /tmp/ccxppnfb.s 			page 40


2198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
2200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
2202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
2204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
2206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
2208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
2210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
2212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
2214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
2216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
2218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
2220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType == CARD_SDSC)
2222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
2224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
2226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
2228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
2230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
2232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
2234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
2238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
2240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
2241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
2243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Byte 7 */
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
2246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
2248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
2249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
2250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
2251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
ARM GAS  /tmp/ccxppnfb.s 			page 41


2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
2262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
2264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
2266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
2268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
2270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
2272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxWrBlockLen = (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
2274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
2276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved3 = 0;
2278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
2280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
2282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
2284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
2286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
2288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
2290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ECC = (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
2292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
2294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved4 = 1;
2296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD status info.( shall be called if there is no SD transaction ongoing )
2302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pStatus: Pointer to the HAL_SD_CardStatusTypeDef structure that
2304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
ARM GAS  /tmp/ccxppnfb.s 			page 42


2312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_BUSY)
2314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
2330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
2332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
2334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
2336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
2337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
2339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
2341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
2343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
2345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
2347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
2349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsSpeedGrade = (uint8_t)((sd_status[3] & 0x00F0U) >> 4U);
2351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
2352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
2353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
2362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
ARM GAS  /tmp/ccxppnfb.s 			page 43


2369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD card info.
2372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardInfo: Pointer to the HAL_SD_CardInfoTypeDef structure that
2374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
2387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         card.
2394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode
2396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
2405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
2416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (WideMode == SDMMC_BUS_WIDE_8B)
2418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_4B)
2422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
2424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
ARM GAS  /tmp/ccxppnfb.s 			page 44


2426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_1B)
2428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
2430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SD Card does not support this feature */
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
2446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
2455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Configure the SDMMC peripheral */
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockEdge           = hsd->Init.ClockEdge;
2458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
2459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
2461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Check if user Clock div < Normal speed 25Mhz, no change in Clockdiv */
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->Init.ClockDiv >= (sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ)))
2464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
2468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* UltraHigh speed SD card,user Clock div */
2470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
2471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
2473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* High speed SD card, Max Frequency = 50Mhz */
2475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_HIGH_SPEED_FREQ)
2478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
ARM GAS  /tmp/ccxppnfb.s 			page 45


2483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk / (2U * hsd->Init.ClockDiv)) > SD_HIGH_SPEED_FREQ)
2489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
2491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* No High speed SD card, Max Frequency = 25Mhz */
2501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
2502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_NORMAL_SPEED_FREQ)
2504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk / (2U * hsd->Init.ClockDiv)) > SD_NORMAL_SPEED_FREQ)
2515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
2517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
2521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.TranceiverPresent = hsd->Init.TranceiverPresent;
2527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_Init(hsd->Instance, Init);
2530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_ERROR_INVALID_PARAMETER;
2534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
2535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
ARM GAS  /tmp/ccxppnfb.s 			page 46


2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Configure the speed bus mode
2556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
2557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  SpeedMode: Specifies the SD card speed bus mode
2558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed/SDR12 mode
2561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed/SDR25 mode
2562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_ULTRA: Ultra high speed mode
2563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigSpeedBusOperation(SD_HandleTypeDef *hsd, uint32_t SpeedMode)
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
2569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
2579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Ultra High Speed */
2589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd, SDMMC_SDR104_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
2593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               status = HAL_ERROR;
2595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
2596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
ARM GAS  /tmp/ccxppnfb.s 			page 47


2597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else if (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED)
2599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA_SDR104:
2614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd, SDMMC_SDR104_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA_SDR50:
2634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd, SDMMC_SDR50_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
2645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DDR:
ARM GAS  /tmp/ccxppnfb.s 			page 48


2654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable DDR Mode*/
2659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_DDR_Mode(hsd) != HAL_SD_ERROR_NONE)
2660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |=  SDMMC_CLKCR_BUSSPEED | SDMMC_CLKCR_DDR;
2665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Switch to default Speed */
2696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR12_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
ARM GAS  /tmp/ccxppnfb.s 			page 49


2711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
2744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Switch to default Speed */
2756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR12_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
ARM GAS  /tmp/ccxppnfb.s 			page 50


2768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
2772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   switch (SpeedMode)
2773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_AUTO:
2775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /*Nothing to do, Use defaultSpeed */
2790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_HIGH:
2794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_SwitchSpeed(hsd, SDMMC_SDR25_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_DEFAULT:
2814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Switch to default Speed */
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (SD_SwitchSpeed(hsd, SDMMC_SDR12_SWITCH_PATTERN) != HAL_SD_ERROR_NONE)
2817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
ARM GAS  /tmp/ccxppnfb.s 			page 51


2825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     default:
2826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
2828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Speed mode switch*/
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
2835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
2840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
2841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
2850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
2852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
2861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval Card state
2863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
2867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
2869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
2871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
2872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
2877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
ARM GAS  /tmp/ccxppnfb.s 			page 52


2882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
2883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t error_code;
2890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
2891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_BUSY)
2893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* DIsable All interrupts */
2895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
2896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                          SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
2898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*we will send the CMD12 in all cases in order to stop the data transfers*/
2900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*In case the data transfer just finished , the external memory will not respond and will retur
2901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*In case the data transfer aborted , the external memory will respond and will return HAL_SD_E
2902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*Other scenario will return HAL_ERROR*/
2903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((error_code != HAL_SD_ERROR_NONE) && (error_code != HAL_SD_ERROR_CMD_RSP_TIMEOUT))
2907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
2909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     tickstart = HAL_GetTick();
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
2913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode == HAL_SD_ERROR_NONE)
2915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****          while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DABORT | SDMMC_FLAG_BUSYD0END))
2917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
2922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
2923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
2924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode == HAL_SD_ERROR_CMD_RSP_TIMEOUT)
2928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND))
2930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
2936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
2937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
ARM GAS  /tmp/ccxppnfb.s 			page 53


2939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_SDMMC)
2941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       while(!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DABORT | SDMMC_FLAG_DATAEND))
2943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
2947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
2949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
2950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do*/
2955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*The reason of all these while conditions previously is that we need to wait the SDMMC and cle
2958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       the appropriate flags that will be set depending of the abort/non abort of the memory */
2959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*Not waiting the SDMMC flags will cause the next SDMMC_DISABLE_IDMA to not get cleared
2960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       and will result in next SDMMC read/write operation to fail */
2961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /*SDMMC ready for clear data flags*/
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_BUSYD0END);
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
2965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* If IDMA Context, disable Internal DMA */
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the SD operation */
2971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
2972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
2979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
2984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Disable All interrupts */
2988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
2989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
2993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear All flags */
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
ARM GAS  /tmp/ccxppnfb.s 			page 54


2996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
3001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
3003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
3006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
3008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
3013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
3015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
3019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
3023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
3027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
3030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
3031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
3032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the sd card.
3037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
3043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 0U;
3045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the power State */
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (SDMMC_GetPowerState(hsd->Instance) == 0U)
3049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Power off */
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccxppnfb.s 			page 55


3053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
3055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
3057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
3058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card identification number data */
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
3069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
3073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
3075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SD Card publishes its RCA. */
3076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (sd_rca == 0U)
3077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
3080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return errorstate;
3082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - tickstart) >=  SDMMC_CMDTIMEOUT)
3084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
3090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get the SD card RCA */
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
3093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card Specific Data */
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
3105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
3107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 56


3110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get the Card Class */
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.Class = (SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2) >> 20U);
3112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get CSD parameters */
3114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
3115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Select the Card */
3120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
3121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* All cards are initialized */
3127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
3132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
3133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         in the SD handle.
3134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
3138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
  28              		.loc 1 3138 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 3138 1 is_stmt 0 view .LVU1
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
  40 0002 82B0     		sub	sp, sp, #8
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  43 0004 0446     		mov	r4, r0
3139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __IO uint32_t count = 0U;
  44              		.loc 1 3139 3 is_stmt 1 view .LVU2
  45              		.loc 1 3139 17 is_stmt 0 view .LVU3
  46 0006 0023     		movs	r3, #0
  47 0008 0193     		str	r3, [sp, #4]
3140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t response = 0U;
  48              		.loc 1 3140 3 is_stmt 1 view .LVU4
  49              	.LVL1:
3141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t validvoltage = 0U;
  50              		.loc 1 3141 3 view .LVU5
3142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
  51              		.loc 1 3142 3 view .LVU6
ARM GAS  /tmp/ccxppnfb.s 			page 57


3143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3145:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
3146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3147:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
3148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
  52              		.loc 1 3148 3 view .LVU7
  53              		.loc 1 3148 16 is_stmt 0 view .LVU8
  54 000a 0068     		ldr	r0, [r0]
  55              	.LVL2:
  56              		.loc 1 3148 16 view .LVU9
  57 000c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
  58              	.LVL3:
3149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
  59              		.loc 1 3149 3 is_stmt 1 view .LVU10
  60              		.loc 1 3149 6 is_stmt 0 view .LVU11
  61 0010 0546     		mov	r5, r0
  62 0012 10B1     		cbz	r0, .L18
  63              	.LVL4:
  64              	.L1:
3150:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3151:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3153:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
3155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
3157:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
3159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
3160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
3161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
3170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3171:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardVersion == CARD_V2_X)
3173:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
3176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* SD CARD */
3182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
3184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3185:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
ARM GAS  /tmp/ccxppnfb.s 			page 58


3187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3188:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3190:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3191:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD41 */
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
3194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
3195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
3198:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3200:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get command response */
3201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     response = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3202:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get operating voltage*/
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
3205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     count++;
3207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (count >= SDMMC_MAX_VOLT_TRIAL)
3210:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
3212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3214:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set default card type */
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.CardType = CARD_SDSC;
3216:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY)
3218:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
3220:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
3222:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((response & SD_SWITCH_1_8V_CAPACITY) == SD_SWITCH_1_8V_CAPACITY)
3224:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
3226:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Start switching procedue */
3228:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->POWER |= SDMMC_POWER_VSWITCHEN;
3229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3230:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send CMD11 to switch 1.8V mode */
3231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdVoltageSwitch(hsd->Instance);
3232:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
3233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3234:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return errorstate;
3235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to CKSTOP */
3238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while ((hsd->Instance->STA & SDMMC_FLAG_CKSTOP) != SDMMC_FLAG_CKSTOP)
3239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_TIMEOUT;
3243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
ARM GAS  /tmp/ccxppnfb.s 			page 59


3244:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear CKSTOP Flag */
3247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->ICR = SDMMC_FLAG_CKSTOP;
3248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to BusyD0 */
3250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) != SDMMC_FLAG_BUSYD0)
3251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3252:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Error when activate Voltage Switch in SDMMC Peripheral */
3253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return SDMMC_ERROR_UNSUPPORTED_FEATURE;
3254:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
3256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Transceiver Switch PIN */
3258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->DriveTransceiver_1_8V_Callback(SET);
3260:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch ready */
3265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER |= SDMMC_POWER_VSWITCH;
3266:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check VSWEND Flag */
3268:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           while ((hsd->Instance->STA & SDMMC_FLAG_VSWEND) != SDMMC_FLAG_VSWEND)
3269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3270:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
3272:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_SD_ERROR_TIMEOUT;
3273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
3274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear VSWEND Flag */
3277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = SDMMC_FLAG_VSWEND;
3278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check BusyD0 status */
3280:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) == SDMMC_FLAG_BUSYD0)
3281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             /* Error when enabling 1.8V mode */
3283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_INVALID_VOLTRANGE;
3284:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch to 1.8V OK */
3286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Disable VSWITCH FLAG from SDMMC Peripheral */
3288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER = 0x13U;
3289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3290:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clean Status flags */
3291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = 0xFFFFFFFFU;
3292:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3294:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
3296:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3299:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
  65              		.loc 1 3299 1 view .LVU12
ARM GAS  /tmp/ccxppnfb.s 			page 60


  66 0014 2846     		mov	r0, r5
  67 0016 02B0     		add	sp, sp, #8
  68              	.LCFI2:
  69              		.cfi_remember_state
  70              		.cfi_def_cfa_offset 16
  71              		@ sp needed
  72 0018 70BD     		pop	{r4, r5, r6, pc}
  73              	.LVL5:
  74              	.L18:
  75              	.LCFI3:
  76              		.cfi_restore_state
3155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  77              		.loc 1 3155 3 is_stmt 1 view .LVU13
3155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  78              		.loc 1 3155 16 is_stmt 0 view .LVU14
  79 001a 2068     		ldr	r0, [r4]
  80              	.LVL6:
3155:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate == SDMMC_ERROR_TIMEOUT) /* No response to CMD8 */
  81              		.loc 1 3155 16 view .LVU15
  82 001c FFF7FEFF 		bl	SDMMC_CmdOperCond
  83              	.LVL7:
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  84              		.loc 1 3156 3 is_stmt 1 view .LVU16
3156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  85              		.loc 1 3156 6 is_stmt 0 view .LVU17
  86 0020 B0F1004F 		cmp	r0, #-2147483648
  87 0024 07D0     		beq	.L19
3169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
  88              		.loc 1 3169 5 is_stmt 1 view .LVU18
3169:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
  89              		.loc 1 3169 29 is_stmt 0 view .LVU19
  90 0026 0123     		movs	r3, #1
  91 0028 E363     		str	r3, [r4, #60]
  92              	.L4:
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  93              		.loc 1 3172 3 is_stmt 1 view .LVU20
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  94              		.loc 1 3172 18 is_stmt 0 view .LVU21
  95 002a E36B     		ldr	r3, [r4, #60]
3172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
  96              		.loc 1 3172 6 view .LVU22
  97 002c 012B     		cmp	r3, #1
  98 002e 0BD0     		beq	.L5
  99              	.L7:
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 100              		.loc 1 3204 52 view .LVU23
 101 0030 2E46     		mov	r6, r5
 102 0032 2846     		mov	r0, r5
 103              	.LVL8:
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 104              		.loc 1 3204 52 view .LVU24
 105 0034 14E0     		b	.L6
 106              	.LVL9:
 107              	.L19:
3158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 108              		.loc 1 3158 5 is_stmt 1 view .LVU25
3158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
ARM GAS  /tmp/ccxppnfb.s 			page 61


 109              		.loc 1 3158 29 is_stmt 0 view .LVU26
 110 0036 0023     		movs	r3, #0
 111 0038 E363     		str	r3, [r4, #60]
3160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 112              		.loc 1 3160 5 is_stmt 1 view .LVU27
3160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 113              		.loc 1 3160 18 is_stmt 0 view .LVU28
 114 003a 2068     		ldr	r0, [r4]
 115              	.LVL10:
3160:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 116              		.loc 1 3160 18 view .LVU29
 117 003c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 118              	.LVL11:
3161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 119              		.loc 1 3161 5 is_stmt 1 view .LVU30
3161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 120              		.loc 1 3161 8 is_stmt 0 view .LVU31
 121 0040 0028     		cmp	r0, #0
 122 0042 F2D0     		beq	.L4
3163:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 123              		.loc 1 3163 14 view .LVU32
 124 0044 0546     		mov	r5, r0
 125 0046 E5E7     		b	.L1
 126              	.L5:
3175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 127              		.loc 1 3175 5 is_stmt 1 view .LVU33
3175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 128              		.loc 1 3175 18 is_stmt 0 view .LVU34
 129 0048 0021     		movs	r1, #0
 130 004a 2068     		ldr	r0, [r4]
 131              	.LVL12:
3175:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 132              		.loc 1 3175 18 view .LVU35
 133 004c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 134              	.LVL13:
3176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 135              		.loc 1 3176 5 is_stmt 1 view .LVU36
3176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 136              		.loc 1 3176 8 is_stmt 0 view .LVU37
 137 0050 0028     		cmp	r0, #0
 138 0052 EDD0     		beq	.L7
3178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 139              		.loc 1 3178 14 view .LVU38
 140 0054 4FF08055 		mov	r5, #268435456
 141 0058 DCE7     		b	.L1
 142              	.LVL14:
 143              	.L8:
3206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 144              		.loc 1 3206 5 is_stmt 1 discriminator 4 view .LVU39
3206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 145              		.loc 1 3206 10 is_stmt 0 discriminator 4 view .LVU40
 146 005a 019B     		ldr	r3, [sp, #4]
 147 005c 0133     		adds	r3, r3, #1
 148 005e 0193     		str	r3, [sp, #4]
 149              	.LVL15:
 150              	.L6:
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /tmp/ccxppnfb.s 			page 62


 151              		.loc 1 3183 9 is_stmt 1 view .LVU41
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 152              		.loc 1 3183 17 is_stmt 0 view .LVU42
 153 0060 019A     		ldr	r2, [sp, #4]
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 154              		.loc 1 3183 9 view .LVU43
 155 0062 4FF6FE73 		movw	r3, #65534
 156 0066 9A42     		cmp	r2, r3
 157 0068 13D8     		bhi	.L9
3183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 158              		.loc 1 3183 41 discriminator 1 view .LVU44
 159 006a 96B9     		cbnz	r6, .L9
3186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 160              		.loc 1 3186 5 is_stmt 1 view .LVU45
3186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 161              		.loc 1 3186 18 is_stmt 0 view .LVU46
 162 006c 0021     		movs	r1, #0
 163 006e 2068     		ldr	r0, [r4]
 164              	.LVL16:
3186:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 165              		.loc 1 3186 18 view .LVU47
 166 0070 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 167              	.LVL17:
3187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 168              		.loc 1 3187 5 is_stmt 1 view .LVU48
3187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 169              		.loc 1 3187 8 is_stmt 0 view .LVU49
 170 0074 D0B9     		cbnz	r0, .L13
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 171              		.loc 1 3193 5 is_stmt 1 view .LVU50
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 172              		.loc 1 3193 18 is_stmt 0 view .LVU51
 173 0076 1249     		ldr	r1, .L20
 174 0078 2068     		ldr	r0, [r4]
 175              	.LVL18:
3193:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
 176              		.loc 1 3193 18 view .LVU52
 177 007a FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 178              	.LVL19:
3195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 179              		.loc 1 3195 5 is_stmt 1 view .LVU53
3195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 180              		.loc 1 3195 8 is_stmt 0 view .LVU54
 181 007e 0646     		mov	r6, r0
 182              	.LVL20:
3195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 183              		.loc 1 3195 8 view .LVU55
 184 0080 B0B9     		cbnz	r0, .L14
3201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 185              		.loc 1 3201 5 is_stmt 1 view .LVU56
3201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 186              		.loc 1 3201 16 is_stmt 0 view .LVU57
 187 0082 0021     		movs	r1, #0
 188 0084 2068     		ldr	r0, [r4]
 189              	.LVL21:
3201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 190              		.loc 1 3201 16 view .LVU58
ARM GAS  /tmp/ccxppnfb.s 			page 63


 191 0086 FFF7FEFF 		bl	SDMMC_GetResponse
 192              	.LVL22:
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 193              		.loc 1 3204 5 is_stmt 1 view .LVU59
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 194              		.loc 1 3204 52 is_stmt 0 view .LVU60
 195 008a C30F     		lsrs	r3, r0, #31
 196 008c E5D0     		beq	.L8
 197 008e 1E46     		mov	r6, r3
 198              	.LVL23:
3204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 199              		.loc 1 3204 52 view .LVU61
 200 0090 E3E7     		b	.L8
 201              	.LVL24:
 202              	.L9:
3209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 203              		.loc 1 3209 3 is_stmt 1 view .LVU62
3209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 204              		.loc 1 3209 13 is_stmt 0 view .LVU63
 205 0092 019A     		ldr	r2, [sp, #4]
3209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 206              		.loc 1 3209 6 view .LVU64
 207 0094 4FF6FE73 		movw	r3, #65534
 208 0098 9A42     		cmp	r2, r3
 209 009a 0CD8     		bhi	.L15
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 210              		.loc 1 3215 3 is_stmt 1 view .LVU65
3215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 211              		.loc 1 3215 24 is_stmt 0 view .LVU66
 212 009c 0023     		movs	r3, #0
 213 009e A363     		str	r3, [r4, #56]
3217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 214              		.loc 1 3217 3 is_stmt 1 view .LVU67
3217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 215              		.loc 1 3217 6 is_stmt 0 view .LVU68
 216 00a0 10F08043 		ands	r3, r0, #1073741824
 217 00a4 0AD0     		beq	.L16
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 218              		.loc 1 3219 5 is_stmt 1 view .LVU69
3219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 219              		.loc 1 3219 26 is_stmt 0 view .LVU70
 220 00a6 0123     		movs	r3, #1
 221 00a8 A363     		str	r3, [r4, #56]
 222 00aa B3E7     		b	.L1
 223              	.LVL25:
 224              	.L13:
3189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 225              		.loc 1 3189 14 view .LVU71
 226 00ac 0546     		mov	r5, r0
 227 00ae B1E7     		b	.L1
 228              	.LVL26:
 229              	.L14:
3197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 230              		.loc 1 3197 14 view .LVU72
 231 00b0 4FF08055 		mov	r5, #268435456
 232 00b4 AEE7     		b	.L1
 233              	.LVL27:
ARM GAS  /tmp/ccxppnfb.s 			page 64


 234              	.L15:
3211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 235              		.loc 1 3211 12 view .LVU73
 236 00b6 4FF08075 		mov	r5, #16777216
 237 00ba ABE7     		b	.L1
 238              	.L16:
3298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 239              		.loc 1 3298 10 view .LVU74
 240 00bc 1D46     		mov	r5, r3
 241 00be A9E7     		b	.L1
 242              	.L21:
 243              		.align	2
 244              	.L20:
 245 00c0 000010C1 		.word	-1055916032
 246              		.cfi_endproc
 247              	.LFE379:
 249              		.section	.text.SD_PowerOFF,"ax",%progbits
 250              		.align	1
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv5-d16
 256              	SD_PowerOFF:
 257              	.LVL28:
 258              	.LFB380:
3300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3301:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3302:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Turns the SDMMC output signals off.
3303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
3307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 259              		.loc 1 3307 1 is_stmt 1 view -0
 260              		.cfi_startproc
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		.loc 1 3307 1 is_stmt 0 view .LVU76
 264 0000 08B5     		push	{r3, lr}
 265              	.LCFI4:
 266              		.cfi_def_cfa_offset 8
 267              		.cfi_offset 3, -8
 268              		.cfi_offset 14, -4
3308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to OFF */
3309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_OFF(hsd->Instance);
 269              		.loc 1 3309 3 is_stmt 1 view .LVU77
 270              		.loc 1 3309 9 is_stmt 0 view .LVU78
 271 0002 0068     		ldr	r0, [r0]
 272              	.LVL29:
 273              		.loc 1 3309 9 view .LVU79
 274 0004 FFF7FEFF 		bl	SDMMC_PowerState_OFF
 275              	.LVL30:
3310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 276              		.loc 1 3310 1 view .LVU80
 277 0008 08BD     		pop	{r3, pc}
 278              		.cfi_endproc
 279              	.LFE380:
ARM GAS  /tmp/ccxppnfb.s 			page 65


 281              		.section	.text.SD_Read_IT,"ax",%progbits
 282              		.align	1
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv5-d16
 288              	SD_Read_IT:
 289              	.LVL31:
 290              	.LFB386:
3311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3312:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Send Status info command.
3314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status
3316:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Status register)
3317:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
3326:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3327:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check SD response */
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3332:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 */
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3347:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3349:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
3353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
ARM GAS  /tmp/ccxppnfb.s 			page 66


3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
3360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3365:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get status data */
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3370:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       for (count = 0U; count < 8U; count++)
3372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         *pData = SDMMC_ReadFIFO(hsd->Instance);
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
3375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3391:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3393:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3395:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3398:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
3399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3400:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DPSMACT)))
3402:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *pData = SDMMC_ReadFIFO(hsd->Instance);
3404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
3405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear all the static status flags*/
3413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
ARM GAS  /tmp/ccxppnfb.s 			page 67


3416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns the current card's status.
3420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card
3422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         status (Card Status register)
3423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
3426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCardStatus == NULL)
3430:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
3432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send Status command */
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3438:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SD card status */
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *pCardStatus = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
3443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables the SDMMC wide bus mode.
3449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3452:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3466:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
3471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
ARM GAS  /tmp/ccxppnfb.s 			page 68


3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
3481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3484:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3493:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3495:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Disables the SDMMC wide bus mode.
3496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3498:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3499:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3507:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
3518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3522:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3525:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
3528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccxppnfb.s 			page 69


3530:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3531:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3538:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value
3546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
3556:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3561:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3563:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
3573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
3574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
3577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
3578:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3579:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
3582:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3583:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
3584:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3585:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
ARM GAS  /tmp/ccxppnfb.s 			page 70


3587:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
3588:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOE)) && (index == 0U))
3590:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[0] = SDMMC_ReadFIFO(hsd->Instance);
3592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
3594:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
3598:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3606:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3610:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3612:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3618:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3620:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3622:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3623:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* No error flag set */
3624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3626:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) | \
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
3629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
3631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
3632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3633:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3637:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3638:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
3640:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3642:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3643:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
ARM GAS  /tmp/ccxppnfb.s 			page 71


3644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
3645:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 291              		.loc 1 3645 1 is_stmt 1 view -0
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295              		.loc 1 3645 1 is_stmt 0 view .LVU82
 296 0000 70B5     		push	{r4, r5, r6, lr}
 297              	.LCFI5:
 298              		.cfi_def_cfa_offset 16
 299              		.cfi_offset 4, -16
 300              		.cfi_offset 5, -12
 301              		.cfi_offset 6, -8
 302              		.cfi_offset 14, -4
3646:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 303              		.loc 1 3646 3 is_stmt 1 view .LVU83
3647:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 304              		.loc 1 3647 3 view .LVU84
3648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tmp;
 305              		.loc 1 3648 3 view .LVU85
3649:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 306              		.loc 1 3650 3 view .LVU86
 307              		.loc 1 3650 7 is_stmt 0 view .LVU87
 308 0002 446A     		ldr	r4, [r0, #36]
 309              	.LVL32:
3651:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->RxXferSize >= 32U)
 310              		.loc 1 3652 3 is_stmt 1 view .LVU88
 311              		.loc 1 3652 10 is_stmt 0 view .LVU89
 312 0004 836A     		ldr	r3, [r0, #40]
 313              		.loc 1 3652 6 view .LVU90
 314 0006 1F2B     		cmp	r3, #31
 315 0008 16D9     		bls	.L24
 316 000a 0646     		mov	r6, r0
3653:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read data from SDMMC Rx FIFO */
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < 8U; count++)
 317              		.loc 1 3655 16 view .LVU91
 318 000c 0025     		movs	r5, #0
 319 000e 0DE0     		b	.L25
 320              	.LVL33:
 321              	.L27:
3656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3657:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
 322              		.loc 1 3657 7 is_stmt 1 discriminator 3 view .LVU92
 323              		.loc 1 3657 14 is_stmt 0 discriminator 3 view .LVU93
 324 0010 3068     		ldr	r0, [r6]
 325 0012 FFF7FEFF 		bl	SDMMC_ReadFIFO
 326              	.LVL34:
3658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 327              		.loc 1 3658 7 is_stmt 1 discriminator 3 view .LVU94
 328              		.loc 1 3658 12 is_stmt 0 discriminator 3 view .LVU95
 329 0016 2070     		strb	r0, [r4]
3659:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 330              		.loc 1 3659 7 is_stmt 1 discriminator 3 view .LVU96
 331              	.LVL35:
ARM GAS  /tmp/ccxppnfb.s 			page 72


3660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 332              		.loc 1 3660 7 discriminator 3 view .LVU97
 333              		.loc 1 3660 14 is_stmt 0 discriminator 3 view .LVU98
 334 0018 C0F30723 		ubfx	r3, r0, #8, #8
 335              		.loc 1 3660 12 discriminator 3 view .LVU99
 336 001c 6370     		strb	r3, [r4, #1]
3661:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 337              		.loc 1 3661 7 is_stmt 1 discriminator 3 view .LVU100
 338              	.LVL36:
3662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 339              		.loc 1 3662 7 discriminator 3 view .LVU101
 340              		.loc 1 3662 14 is_stmt 0 discriminator 3 view .LVU102
 341 001e C0F30743 		ubfx	r3, r0, #16, #8
 342              		.loc 1 3662 12 discriminator 3 view .LVU103
 343 0022 A370     		strb	r3, [r4, #2]
3663:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 344              		.loc 1 3663 7 is_stmt 1 discriminator 3 view .LVU104
 345              	.LVL37:
3664:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 346              		.loc 1 3664 7 discriminator 3 view .LVU105
 347              		.loc 1 3664 14 is_stmt 0 discriminator 3 view .LVU106
 348 0024 000E     		lsrs	r0, r0, #24
 349              	.LVL38:
 350              		.loc 1 3664 12 discriminator 3 view .LVU107
 351 0026 E070     		strb	r0, [r4, #3]
3665:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 352              		.loc 1 3665 7 is_stmt 1 discriminator 3 view .LVU108
 353              		.loc 1 3665 10 is_stmt 0 discriminator 3 view .LVU109
 354 0028 0434     		adds	r4, r4, #4
 355              	.LVL39:
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 356              		.loc 1 3655 34 is_stmt 1 discriminator 3 view .LVU110
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 357              		.loc 1 3655 39 is_stmt 0 discriminator 3 view .LVU111
 358 002a 0135     		adds	r5, r5, #1
 359              	.LVL40:
 360              	.L25:
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 361              		.loc 1 3655 22 is_stmt 1 discriminator 1 view .LVU112
3655:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 362              		.loc 1 3655 5 is_stmt 0 discriminator 1 view .LVU113
 363 002c 072D     		cmp	r5, #7
 364 002e EFD9     		bls	.L27
3666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3667:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3668:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
 365              		.loc 1 3668 5 is_stmt 1 view .LVU114
 366              		.loc 1 3668 21 is_stmt 0 view .LVU115
 367 0030 7462     		str	r4, [r6, #36]
3669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= 32U;
 368              		.loc 1 3669 5 is_stmt 1 view .LVU116
 369              		.loc 1 3669 21 is_stmt 0 view .LVU117
 370 0032 B36A     		ldr	r3, [r6, #40]
 371 0034 203B     		subs	r3, r3, #32
 372 0036 B362     		str	r3, [r6, #40]
 373              	.LVL41:
 374              	.L24:
ARM GAS  /tmp/ccxppnfb.s 			page 73


3670:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3671:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 375              		.loc 1 3671 1 view .LVU118
 376 0038 70BD     		pop	{r4, r5, r6, pc}
 377              		.loc 1 3671 1 view .LVU119
 378              		.cfi_endproc
 379              	.LFE386:
 381              		.section	.text.SD_Write_IT,"ax",%progbits
 382              		.align	1
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 386              		.fpu fpv5-d16
 388              	SD_Write_IT:
 389              	.LVL42:
 390              	.LFB387:
3672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
3675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
3680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 391              		.loc 1 3680 1 is_stmt 1 view -0
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 8
 394              		@ frame_needed = 0, uses_anonymous_args = 0
 395              		.loc 1 3680 1 is_stmt 0 view .LVU121
 396 0000 70B5     		push	{r4, r5, r6, lr}
 397              	.LCFI6:
 398              		.cfi_def_cfa_offset 16
 399              		.cfi_offset 4, -16
 400              		.cfi_offset 5, -12
 401              		.cfi_offset 6, -8
 402              		.cfi_offset 14, -4
 403 0002 82B0     		sub	sp, sp, #8
 404              	.LCFI7:
 405              		.cfi_def_cfa_offset 24
3681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 406              		.loc 1 3681 3 is_stmt 1 view .LVU122
3682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 407              		.loc 1 3682 3 view .LVU123
3683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   const uint8_t *tmp;
 408              		.loc 1 3683 3 view .LVU124
3684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3685:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 409              		.loc 1 3685 3 view .LVU125
 410              		.loc 1 3685 7 is_stmt 0 view .LVU126
 411 0004 C469     		ldr	r4, [r0, #28]
 412              	.LVL43:
3686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->TxXferSize >= 32U)
 413              		.loc 1 3687 3 is_stmt 1 view .LVU127
 414              		.loc 1 3687 10 is_stmt 0 view .LVU128
 415 0006 036A     		ldr	r3, [r0, #32]
ARM GAS  /tmp/ccxppnfb.s 			page 74


 416              		.loc 1 3687 6 view .LVU129
 417 0008 1F2B     		cmp	r3, #31
 418 000a 1CD9     		bls	.L30
 419 000c 0646     		mov	r6, r0
3688:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3689:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write data to SDMMC Tx FIFO */
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < 8U; count++)
 420              		.loc 1 3690 16 view .LVU130
 421 000e 0025     		movs	r5, #0
 422 0010 13E0     		b	.L31
 423              	.LVL44:
 424              	.L33:
3691:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = (uint32_t)(*tmp);
 425              		.loc 1 3692 7 is_stmt 1 discriminator 3 view .LVU131
 426              		.loc 1 3692 25 is_stmt 0 discriminator 3 view .LVU132
 427 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 428              		.loc 1 3692 12 discriminator 3 view .LVU133
 429 0014 0193     		str	r3, [sp, #4]
3693:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 430              		.loc 1 3693 7 is_stmt 1 discriminator 3 view .LVU134
 431              	.LVL45:
3694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 432              		.loc 1 3694 7 discriminator 3 view .LVU135
 433              		.loc 1 3694 27 is_stmt 0 discriminator 3 view .LVU136
 434 0016 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 435              		.loc 1 3694 12 discriminator 3 view .LVU137
 436 0018 43EA0223 		orr	r3, r3, r2, lsl #8
 437 001c 0193     		str	r3, [sp, #4]
3695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 438              		.loc 1 3695 7 is_stmt 1 discriminator 3 view .LVU138
 439              	.LVL46:
3696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 440              		.loc 1 3696 7 discriminator 3 view .LVU139
 441              		.loc 1 3696 27 is_stmt 0 discriminator 3 view .LVU140
 442 001e A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 443              		.loc 1 3696 12 discriminator 3 view .LVU141
 444 0020 43EA0243 		orr	r3, r3, r2, lsl #16
 445 0024 0193     		str	r3, [sp, #4]
3697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 446              		.loc 1 3697 7 is_stmt 1 discriminator 3 view .LVU142
 447              	.LVL47:
3698:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 448              		.loc 1 3698 7 discriminator 3 view .LVU143
 449              		.loc 1 3698 27 is_stmt 0 discriminator 3 view .LVU144
 450 0026 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 451              		.loc 1 3698 12 discriminator 3 view .LVU145
 452 0028 43EA0263 		orr	r3, r3, r2, lsl #24
 453 002c 0193     		str	r3, [sp, #4]
3699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 454              		.loc 1 3699 7 is_stmt 1 discriminator 3 view .LVU146
 455              		.loc 1 3699 10 is_stmt 0 discriminator 3 view .LVU147
 456 002e 0434     		adds	r4, r4, #4
 457              	.LVL48:
3700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 458              		.loc 1 3700 7 is_stmt 1 discriminator 3 view .LVU148
 459              		.loc 1 3700 13 is_stmt 0 discriminator 3 view .LVU149
ARM GAS  /tmp/ccxppnfb.s 			page 75


 460 0030 01A9     		add	r1, sp, #4
 461 0032 3068     		ldr	r0, [r6]
 462 0034 FFF7FEFF 		bl	SDMMC_WriteFIFO
 463              	.LVL49:
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 464              		.loc 1 3690 34 is_stmt 1 discriminator 3 view .LVU150
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 465              		.loc 1 3690 39 is_stmt 0 discriminator 3 view .LVU151
 466 0038 0135     		adds	r5, r5, #1
 467              	.LVL50:
 468              	.L31:
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 469              		.loc 1 3690 22 is_stmt 1 discriminator 1 view .LVU152
3690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 470              		.loc 1 3690 5 is_stmt 0 discriminator 1 view .LVU153
 471 003a 072D     		cmp	r5, #7
 472 003c E9D9     		bls	.L33
3701:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3702:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
 473              		.loc 1 3703 5 is_stmt 1 view .LVU154
 474              		.loc 1 3703 21 is_stmt 0 view .LVU155
 475 003e F461     		str	r4, [r6, #28]
3704:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= 32U;
 476              		.loc 1 3704 5 is_stmt 1 view .LVU156
 477              		.loc 1 3704 21 is_stmt 0 view .LVU157
 478 0040 336A     		ldr	r3, [r6, #32]
 479 0042 203B     		subs	r3, r3, #32
 480 0044 3362     		str	r3, [r6, #32]
 481              	.LVL51:
 482              	.L30:
3705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3706:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 483              		.loc 1 3706 1 view .LVU158
 484 0046 02B0     		add	sp, sp, #8
 485              	.LCFI8:
 486              		.cfi_def_cfa_offset 16
 487              		@ sp needed
 488 0048 70BD     		pop	{r4, r5, r6, pc}
 489              		.loc 1 3706 1 view .LVU159
 490              		.cfi_endproc
 491              	.LFE387:
 493              		.section	.text.SD_SendSDStatus,"ax",%progbits
 494              		.align	1
 495              		.syntax unified
 496              		.thumb
 497              		.thumb_func
 498              		.fpu fpv5-d16
 500              	SD_SendSDStatus:
 501              	.LVL52:
 502              	.LFB381:
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 503              		.loc 1 3320 1 is_stmt 1 view -0
 504              		.cfi_startproc
 505              		@ args = 0, pretend = 0, frame = 24
 506              		@ frame_needed = 0, uses_anonymous_args = 0
3320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
ARM GAS  /tmp/ccxppnfb.s 			page 76


 507              		.loc 1 3320 1 is_stmt 0 view .LVU161
 508 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 509              	.LCFI9:
 510              		.cfi_def_cfa_offset 20
 511              		.cfi_offset 4, -20
 512              		.cfi_offset 5, -16
 513              		.cfi_offset 6, -12
 514              		.cfi_offset 7, -8
 515              		.cfi_offset 14, -4
 516 0002 87B0     		sub	sp, sp, #28
 517              	.LCFI10:
 518              		.cfi_def_cfa_offset 48
 519 0004 0546     		mov	r5, r0
 520 0006 0E46     		mov	r6, r1
3321:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 521              		.loc 1 3321 3 is_stmt 1 view .LVU162
3322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 522              		.loc 1 3322 3 view .LVU163
3323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 523              		.loc 1 3323 3 view .LVU164
3323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 524              		.loc 1 3323 24 is_stmt 0 view .LVU165
 525 0008 FFF7FEFF 		bl	HAL_GetTick
 526              	.LVL53:
3323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 527              		.loc 1 3323 24 view .LVU166
 528 000c 0746     		mov	r7, r0
 529              	.LVL54:
3324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 530              		.loc 1 3324 3 is_stmt 1 view .LVU167
3325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 531              		.loc 1 3325 3 view .LVU168
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 532              		.loc 1 3328 3 view .LVU169
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 533              		.loc 1 3328 8 is_stmt 0 view .LVU170
 534 000e 0021     		movs	r1, #0
 535 0010 2868     		ldr	r0, [r5]
 536              	.LVL55:
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 537              		.loc 1 3328 8 view .LVU171
 538 0012 FFF7FEFF 		bl	SDMMC_GetResponse
 539              	.LVL56:
3328:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 540              		.loc 1 3328 6 view .LVU172
 541 0016 10F0007F 		tst	r0, #33554432
 542 001a 64D1     		bne	.L47
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 543              		.loc 1 3334 3 is_stmt 1 view .LVU173
3334:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 544              		.loc 1 3334 16 is_stmt 0 view .LVU174
 545 001c 4021     		movs	r1, #64
 546 001e 2868     		ldr	r0, [r5]
 547 0020 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 548              	.LVL57:
3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 549              		.loc 1 3335 3 is_stmt 1 view .LVU175
ARM GAS  /tmp/ccxppnfb.s 			page 77


3335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 550              		.loc 1 3335 6 is_stmt 0 view .LVU176
 551 0024 0346     		mov	r3, r0
 552 0026 10B1     		cbz	r0, .L38
3337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 553              		.loc 1 3337 5 is_stmt 1 view .LVU177
3337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 554              		.loc 1 3337 20 is_stmt 0 view .LVU178
 555 0028 6A6B     		ldr	r2, [r5, #52]
 556 002a 6A63     		str	r2, [r5, #52]
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 557              		.loc 1 3338 5 is_stmt 1 view .LVU179
3338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 558              		.loc 1 3338 12 is_stmt 0 view .LVU180
 559 002c 5DE0     		b	.L36
 560              	.L38:
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 561              		.loc 1 3342 3 is_stmt 1 view .LVU181
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 562              		.loc 1 3342 73 is_stmt 0 view .LVU182
 563 002e 696C     		ldr	r1, [r5, #68]
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 564              		.loc 1 3342 16 view .LVU183
 565 0030 0904     		lsls	r1, r1, #16
 566 0032 2868     		ldr	r0, [r5]
 567              	.LVL58:
3342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 568              		.loc 1 3342 16 view .LVU184
 569 0034 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 570              	.LVL59:
3343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 571              		.loc 1 3343 3 is_stmt 1 view .LVU185
3343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 572              		.loc 1 3343 6 is_stmt 0 view .LVU186
 573 0038 0346     		mov	r3, r0
 574 003a 10B1     		cbz	r0, .L39
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 575              		.loc 1 3345 5 is_stmt 1 view .LVU187
3345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 576              		.loc 1 3345 20 is_stmt 0 view .LVU188
 577 003c 6A6B     		ldr	r2, [r5, #52]
 578 003e 6A63     		str	r2, [r5, #52]
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 579              		.loc 1 3346 5 is_stmt 1 view .LVU189
3346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 580              		.loc 1 3346 12 is_stmt 0 view .LVU190
 581 0040 53E0     		b	.L36
 582              	.L39:
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 583              		.loc 1 3350 3 is_stmt 1 view .LVU191
3350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 584              		.loc 1 3350 24 is_stmt 0 view .LVU192
 585 0042 4FF0FF33 		mov	r3, #-1
 586 0046 0093     		str	r3, [sp]
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 587              		.loc 1 3351 3 is_stmt 1 view .LVU193
3351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
ARM GAS  /tmp/ccxppnfb.s 			page 78


 588              		.loc 1 3351 24 is_stmt 0 view .LVU194
 589 0048 4023     		movs	r3, #64
 590 004a 0193     		str	r3, [sp, #4]
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 591              		.loc 1 3352 3 is_stmt 1 view .LVU195
3352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 592              		.loc 1 3352 24 is_stmt 0 view .LVU196
 593 004c 6023     		movs	r3, #96
 594 004e 0293     		str	r3, [sp, #8]
3353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 595              		.loc 1 3353 3 is_stmt 1 view .LVU197
3353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 596              		.loc 1 3353 24 is_stmt 0 view .LVU198
 597 0050 0223     		movs	r3, #2
 598 0052 0393     		str	r3, [sp, #12]
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 599              		.loc 1 3354 3 is_stmt 1 view .LVU199
3354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 600              		.loc 1 3354 24 is_stmt 0 view .LVU200
 601 0054 0023     		movs	r3, #0
 602 0056 0493     		str	r3, [sp, #16]
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 603              		.loc 1 3355 3 is_stmt 1 view .LVU201
3355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 604              		.loc 1 3355 24 is_stmt 0 view .LVU202
 605 0058 0123     		movs	r3, #1
 606 005a 0593     		str	r3, [sp, #20]
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 607              		.loc 1 3356 3 is_stmt 1 view .LVU203
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 608              		.loc 1 3356 9 is_stmt 0 view .LVU204
 609 005c 6946     		mov	r1, sp
 610 005e 2868     		ldr	r0, [r5]
 611              	.LVL60:
3356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 612              		.loc 1 3356 9 view .LVU205
 613 0060 FFF7FEFF 		bl	SDMMC_ConfigData
 614              	.LVL61:
3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 615              		.loc 1 3359 3 is_stmt 1 view .LVU206
3359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 616              		.loc 1 3359 16 is_stmt 0 view .LVU207
 617 0064 2868     		ldr	r0, [r5]
 618 0066 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 619              	.LVL62:
3360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 620              		.loc 1 3360 3 is_stmt 1 view .LVU208
3360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 621              		.loc 1 3360 6 is_stmt 0 view .LVU209
 622 006a 0346     		mov	r3, r0
 623 006c 80B1     		cbz	r0, .L40
3362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 624              		.loc 1 3362 5 is_stmt 1 view .LVU210
3362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 625              		.loc 1 3362 20 is_stmt 0 view .LVU211
 626 006e 6A6B     		ldr	r2, [r5, #52]
 627 0070 6A63     		str	r2, [r5, #52]
ARM GAS  /tmp/ccxppnfb.s 			page 79


3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 628              		.loc 1 3363 5 is_stmt 1 view .LVU212
3363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 629              		.loc 1 3363 12 is_stmt 0 view .LVU213
 630 0072 3AE0     		b	.L36
 631              	.LVL63:
 632              	.L43:
3373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 633              		.loc 1 3373 9 is_stmt 1 discriminator 3 view .LVU214
3373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 634              		.loc 1 3373 18 is_stmt 0 discriminator 3 view .LVU215
 635 0074 2868     		ldr	r0, [r5]
 636 0076 FFF7FEFF 		bl	SDMMC_ReadFIFO
 637              	.LVL64:
3373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 638              		.loc 1 3373 16 discriminator 3 view .LVU216
 639 007a 46F8040B 		str	r0, [r6], #4
 640              	.LVL65:
3374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 641              		.loc 1 3374 9 is_stmt 1 discriminator 3 view .LVU217
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 642              		.loc 1 3371 36 discriminator 3 view .LVU218
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 643              		.loc 1 3371 41 is_stmt 0 discriminator 3 view .LVU219
 644 007e 0134     		adds	r4, r4, #1
 645              	.LVL66:
 646              	.L41:
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 647              		.loc 1 3371 24 is_stmt 1 discriminator 1 view .LVU220
3371:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 648              		.loc 1 3371 7 is_stmt 0 discriminator 1 view .LVU221
 649 0080 072C     		cmp	r4, #7
 650 0082 F7D9     		bls	.L43
 651              	.LVL67:
 652              	.L42:
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 653              		.loc 1 3378 5 is_stmt 1 view .LVU222
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 654              		.loc 1 3378 10 is_stmt 0 view .LVU223
 655 0084 FFF7FEFF 		bl	HAL_GetTick
 656              	.LVL68:
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 657              		.loc 1 3378 24 view .LVU224
 658 0088 C01B     		subs	r0, r0, r7
3378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 659              		.loc 1 3378 8 view .LVU225
 660 008a B0F1FF3F 		cmp	r0, #-1
 661 008e 2FD0     		beq	.L48
 662              	.L40:
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 663              		.loc 1 3367 9 is_stmt 1 view .LVU226
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 664              		.loc 1 3367 11 is_stmt 0 view .LVU227
 665 0090 2B68     		ldr	r3, [r5]
 666 0092 5C6B     		ldr	r4, [r3, #52]
3367:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 667              		.loc 1 3367 9 view .LVU228
ARM GAS  /tmp/ccxppnfb.s 			page 80


 668 0094 14F49574 		ands	r4, r4, #298
 669 0098 04D1     		bne	.L54
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 670              		.loc 1 3369 5 is_stmt 1 view .LVU229
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 671              		.loc 1 3369 9 is_stmt 0 view .LVU230
 672 009a 5B6B     		ldr	r3, [r3, #52]
3369:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 673              		.loc 1 3369 8 view .LVU231
 674 009c 13F4004F 		tst	r3, #32768
 675 00a0 F0D0     		beq	.L42
 676 00a2 EDE7     		b	.L41
 677              	.L54:
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 678              		.loc 1 3384 3 is_stmt 1 view .LVU232
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 679              		.loc 1 3384 7 is_stmt 0 view .LVU233
 680 00a4 5A6B     		ldr	r2, [r3, #52]
3384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 681              		.loc 1 3384 6 view .LVU234
 682 00a6 12F0080F 		tst	r2, #8
 683 00aa 24D1     		bne	.L49
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 684              		.loc 1 3388 8 is_stmt 1 view .LVU235
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 685              		.loc 1 3388 12 is_stmt 0 view .LVU236
 686 00ac 5A6B     		ldr	r2, [r3, #52]
3388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 687              		.loc 1 3388 11 view .LVU237
 688 00ae 12F0020F 		tst	r2, #2
 689 00b2 22D1     		bne	.L50
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 690              		.loc 1 3392 8 is_stmt 1 view .LVU238
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 691              		.loc 1 3392 12 is_stmt 0 view .LVU239
 692 00b4 5B6B     		ldr	r3, [r3, #52]
3392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 693              		.loc 1 3392 11 view .LVU240
 694 00b6 13F0200F 		tst	r3, #32
 695 00ba 20D1     		bne	.L55
 696              	.L45:
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 697              		.loc 1 3401 9 is_stmt 1 view .LVU241
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 698              		.loc 1 3401 11 is_stmt 0 view .LVU242
 699 00bc 2868     		ldr	r0, [r5]
 700 00be 436B     		ldr	r3, [r0, #52]
3401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 701              		.loc 1 3401 9 view .LVU243
 702 00c0 13F48053 		ands	r3, r3, #4096
 703 00c4 0CD0     		beq	.L56
3403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 704              		.loc 1 3403 5 is_stmt 1 view .LVU244
3403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 705              		.loc 1 3403 14 is_stmt 0 view .LVU245
 706 00c6 FFF7FEFF 		bl	SDMMC_ReadFIFO
 707              	.LVL69:
ARM GAS  /tmp/ccxppnfb.s 			page 81


3403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 708              		.loc 1 3403 12 view .LVU246
 709 00ca 46F8040B 		str	r0, [r6], #4
 710              	.LVL70:
3404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 711              		.loc 1 3404 5 is_stmt 1 view .LVU247
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 712              		.loc 1 3406 5 view .LVU248
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 713              		.loc 1 3406 10 is_stmt 0 view .LVU249
 714 00ce FFF7FEFF 		bl	HAL_GetTick
 715              	.LVL71:
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 716              		.loc 1 3406 24 view .LVU250
 717 00d2 C01B     		subs	r0, r0, r7
3406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 718              		.loc 1 3406 8 view .LVU251
 719 00d4 B0F1FF3F 		cmp	r0, #-1
 720 00d8 F0D1     		bne	.L45
3408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 721              		.loc 1 3408 14 view .LVU252
 722 00da 4FF00043 		mov	r3, #-2147483648
 723 00de 04E0     		b	.L36
 724              	.L56:
3413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 725              		.loc 1 3413 3 is_stmt 1 view .LVU253
 726 00e0 084A     		ldr	r2, .L57
 727 00e2 8263     		str	r2, [r0, #56]
3415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 728              		.loc 1 3415 3 view .LVU254
3415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 729              		.loc 1 3415 10 is_stmt 0 view .LVU255
 730 00e4 01E0     		b	.L36
 731              	.LVL72:
 732              	.L47:
3330:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 733              		.loc 1 3330 12 view .LVU256
 734 00e6 4FF40063 		mov	r3, #2048
 735              	.LVL73:
 736              	.L36:
3416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 737              		.loc 1 3416 1 view .LVU257
 738 00ea 1846     		mov	r0, r3
 739 00ec 07B0     		add	sp, sp, #28
 740              	.LCFI11:
 741              		.cfi_remember_state
 742              		.cfi_def_cfa_offset 20
 743              		@ sp needed
 744 00ee F0BD     		pop	{r4, r5, r6, r7, pc}
 745              	.LVL74:
 746              	.L48:
 747              	.LCFI12:
 748              		.cfi_restore_state
3380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 749              		.loc 1 3380 14 view .LVU258
 750 00f0 4FF00043 		mov	r3, #-2147483648
 751 00f4 F9E7     		b	.L36
ARM GAS  /tmp/ccxppnfb.s 			page 82


 752              	.L49:
3386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 753              		.loc 1 3386 12 view .LVU259
 754 00f6 0823     		movs	r3, #8
 755 00f8 F7E7     		b	.L36
 756              	.L50:
3390:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 757              		.loc 1 3390 12 view .LVU260
 758 00fa 0223     		movs	r3, #2
 759 00fc F5E7     		b	.L36
 760              	.L55:
3394:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 761              		.loc 1 3394 12 view .LVU261
 762 00fe 2023     		movs	r3, #32
 763 0100 F3E7     		b	.L36
 764              	.L58:
 765 0102 00BF     		.align	2
 766              	.L57:
 767 0104 3A0F0018 		.word	402657082
 768              		.cfi_endproc
 769              	.LFE381:
 771              		.section	.text.SD_FindSCR,"ax",%progbits
 772              		.align	1
 773              		.syntax unified
 774              		.thumb
 775              		.thumb_func
 776              		.fpu fpv5-d16
 778              	SD_FindSCR:
 779              	.LVL75:
 780              	.LFB385:
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 781              		.loc 1 3549 1 is_stmt 1 view -0
 782              		.cfi_startproc
 783              		@ args = 0, pretend = 0, frame = 32
 784              		@ frame_needed = 0, uses_anonymous_args = 0
3549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 785              		.loc 1 3549 1 is_stmt 0 view .LVU263
 786 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 787              	.LCFI13:
 788              		.cfi_def_cfa_offset 20
 789              		.cfi_offset 4, -20
 790              		.cfi_offset 5, -16
 791              		.cfi_offset 6, -12
 792              		.cfi_offset 7, -8
 793              		.cfi_offset 14, -4
 794 0002 89B0     		sub	sp, sp, #36
 795              	.LCFI14:
 796              		.cfi_def_cfa_offset 56
 797 0004 0446     		mov	r4, r0
 798 0006 0F46     		mov	r7, r1
3550:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 799              		.loc 1 3550 3 is_stmt 1 view .LVU264
3551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 800              		.loc 1 3551 3 view .LVU265
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 801              		.loc 1 3552 3 view .LVU266
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
ARM GAS  /tmp/ccxppnfb.s 			page 83


 802              		.loc 1 3552 24 is_stmt 0 view .LVU267
 803 0008 FFF7FEFF 		bl	HAL_GetTick
 804              	.LVL76:
3552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 805              		.loc 1 3552 24 view .LVU268
 806 000c 0546     		mov	r5, r0
 807              	.LVL77:
3553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
 808              		.loc 1 3553 3 is_stmt 1 view .LVU269
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 809              		.loc 1 3554 3 view .LVU270
3554:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 810              		.loc 1 3554 12 is_stmt 0 view .LVU271
 811 000e 0023     		movs	r3, #0
 812 0010 0093     		str	r3, [sp]
 813 0012 0193     		str	r3, [sp, #4]
3555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 814              		.loc 1 3555 3 is_stmt 1 view .LVU272
 815              	.LVL78:
3558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 816              		.loc 1 3558 3 view .LVU273
3558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 817              		.loc 1 3558 16 is_stmt 0 view .LVU274
 818 0014 0821     		movs	r1, #8
 819 0016 2068     		ldr	r0, [r4]
 820              	.LVL79:
3558:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 821              		.loc 1 3558 16 view .LVU275
 822 0018 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 823              	.LVL80:
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 824              		.loc 1 3559 3 is_stmt 1 view .LVU276
3559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 825              		.loc 1 3559 6 is_stmt 0 view .LVU277
 826 001c 0646     		mov	r6, r0
 827 001e 10B1     		cbz	r0, .L69
 828              	.LVL81:
 829              	.L59:
3636:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 830              		.loc 1 3636 1 view .LVU278
 831 0020 3046     		mov	r0, r6
 832 0022 09B0     		add	sp, sp, #36
 833              	.LCFI15:
 834              		.cfi_remember_state
 835              		.cfi_def_cfa_offset 20
 836              		@ sp needed
 837 0024 F0BD     		pop	{r4, r5, r6, r7, pc}
 838              	.LVL82:
 839              	.L69:
 840              	.LCFI16:
 841              		.cfi_restore_state
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 842              		.loc 1 3565 3 is_stmt 1 view .LVU279
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 843              		.loc 1 3565 74 is_stmt 0 view .LVU280
 844 0026 616C     		ldr	r1, [r4, #68]
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/ccxppnfb.s 			page 84


 845              		.loc 1 3565 16 view .LVU281
 846 0028 0904     		lsls	r1, r1, #16
 847 002a 2068     		ldr	r0, [r4]
 848              	.LVL83:
3565:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 849              		.loc 1 3565 16 view .LVU282
 850 002c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 851              	.LVL84:
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 852              		.loc 1 3566 3 is_stmt 1 view .LVU283
3566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 853              		.loc 1 3566 6 is_stmt 0 view .LVU284
 854 0030 0646     		mov	r6, r0
 855 0032 0028     		cmp	r0, #0
 856 0034 F4D1     		bne	.L59
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 857              		.loc 1 3571 3 is_stmt 1 view .LVU285
3571:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 858              		.loc 1 3571 24 is_stmt 0 view .LVU286
 859 0036 4FF0FF33 		mov	r3, #-1
 860 003a 0293     		str	r3, [sp, #8]
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 861              		.loc 1 3572 3 is_stmt 1 view .LVU287
3572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 862              		.loc 1 3572 24 is_stmt 0 view .LVU288
 863 003c 0823     		movs	r3, #8
 864 003e 0393     		str	r3, [sp, #12]
3573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 865              		.loc 1 3573 3 is_stmt 1 view .LVU289
3573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 866              		.loc 1 3573 24 is_stmt 0 view .LVU290
 867 0040 3023     		movs	r3, #48
 868 0042 0493     		str	r3, [sp, #16]
3574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 869              		.loc 1 3574 3 is_stmt 1 view .LVU291
3574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 870              		.loc 1 3574 24 is_stmt 0 view .LVU292
 871 0044 0223     		movs	r3, #2
 872 0046 0593     		str	r3, [sp, #20]
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 873              		.loc 1 3575 3 is_stmt 1 view .LVU293
3575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 874              		.loc 1 3575 24 is_stmt 0 view .LVU294
 875 0048 0023     		movs	r3, #0
 876 004a 0693     		str	r3, [sp, #24]
3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 877              		.loc 1 3576 3 is_stmt 1 view .LVU295
3576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 878              		.loc 1 3576 24 is_stmt 0 view .LVU296
 879 004c 0123     		movs	r3, #1
 880 004e 0793     		str	r3, [sp, #28]
3577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 881              		.loc 1 3577 3 is_stmt 1 view .LVU297
3577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 882              		.loc 1 3577 9 is_stmt 0 view .LVU298
 883 0050 02A9     		add	r1, sp, #8
 884 0052 2068     		ldr	r0, [r4]
ARM GAS  /tmp/ccxppnfb.s 			page 85


 885              	.LVL85:
3577:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 886              		.loc 1 3577 9 view .LVU299
 887 0054 FFF7FEFF 		bl	SDMMC_ConfigData
 888              	.LVL86:
3580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 889              		.loc 1 3580 3 is_stmt 1 view .LVU300
3580:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 890              		.loc 1 3580 16 is_stmt 0 view .LVU301
 891 0058 2068     		ldr	r0, [r4]
 892 005a FFF7FEFF 		bl	SDMMC_CmdSendSCR
 893              	.LVL87:
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 894              		.loc 1 3581 3 is_stmt 1 view .LVU302
3581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 895              		.loc 1 3581 6 is_stmt 0 view .LVU303
 896 005e 0646     		mov	r6, r0
 897 0060 70B1     		cbz	r0, .L61
 898 0062 DDE7     		b	.L59
 899              	.LVL88:
 900              	.L71:
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 901              		.loc 1 3591 7 is_stmt 1 view .LVU304
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 902              		.loc 1 3591 20 is_stmt 0 view .LVU305
 903 0064 FFF7FEFF 		bl	SDMMC_ReadFIFO
 904              	.LVL89:
3591:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 905              		.loc 1 3591 18 view .LVU306
 906 0068 0090     		str	r0, [sp]
3592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 907              		.loc 1 3592 7 is_stmt 1 view .LVU307
3592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 908              		.loc 1 3592 20 is_stmt 0 view .LVU308
 909 006a 2068     		ldr	r0, [r4]
 910 006c FFF7FEFF 		bl	SDMMC_ReadFIFO
 911              	.LVL90:
3592:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 912              		.loc 1 3592 18 view .LVU309
 913 0070 0190     		str	r0, [sp, #4]
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 914              		.loc 1 3593 7 is_stmt 1 view .LVU310
3593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 915              		.loc 1 3593 12 is_stmt 0 view .LVU311
 916 0072 0136     		adds	r6, r6, #1
 917              	.LVL91:
 918              	.L62:
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 919              		.loc 1 3597 5 is_stmt 1 view .LVU312
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 920              		.loc 1 3597 10 is_stmt 0 view .LVU313
 921 0074 FFF7FEFF 		bl	HAL_GetTick
 922              	.LVL92:
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 923              		.loc 1 3597 24 view .LVU314
 924 0078 431B     		subs	r3, r0, r5
3597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccxppnfb.s 			page 86


 925              		.loc 1 3597 8 view .LVU315
 926 007a B3F1FF3F 		cmp	r3, #-1
 927 007e 3ED0     		beq	.L67
 928              	.LVL93:
 929              	.L61:
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 930              		.loc 1 3586 9 is_stmt 1 view .LVU316
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 931              		.loc 1 3586 11 is_stmt 0 view .LVU317
 932 0080 2068     		ldr	r0, [r4]
 933 0082 426B     		ldr	r2, [r0, #52]
3586:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 934              		.loc 1 3586 9 view .LVU318
 935 0084 40F22A53 		movw	r3, #1322
 936 0088 1A42     		tst	r2, r3
 937 008a 06D1     		bne	.L70
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 938              		.loc 1 3589 5 is_stmt 1 view .LVU319
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 939              		.loc 1 3589 11 is_stmt 0 view .LVU320
 940 008c 436B     		ldr	r3, [r0, #52]
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 941              		.loc 1 3589 8 view .LVU321
 942 008e 13F4002F 		tst	r3, #524288
 943 0092 EFD1     		bne	.L62
3589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 944              		.loc 1 3589 55 discriminator 1 view .LVU322
 945 0094 002E     		cmp	r6, #0
 946 0096 EDD1     		bne	.L62
 947 0098 E4E7     		b	.L71
 948              	.L70:
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 949              		.loc 1 3603 3 is_stmt 1 view .LVU323
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 950              		.loc 1 3603 7 is_stmt 0 view .LVU324
 951 009a 436B     		ldr	r3, [r0, #52]
3603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 952              		.loc 1 3603 6 view .LVU325
 953 009c 13F0080F 		tst	r3, #8
 954 00a0 24D1     		bne	.L72
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 955              		.loc 1 3609 8 is_stmt 1 view .LVU326
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 956              		.loc 1 3609 12 is_stmt 0 view .LVU327
 957 00a2 436B     		ldr	r3, [r0, #52]
3609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 958              		.loc 1 3609 11 view .LVU328
 959 00a4 13F0020F 		tst	r3, #2
 960 00a8 23D1     		bne	.L73
3615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 961              		.loc 1 3615 8 is_stmt 1 view .LVU329
3615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 962              		.loc 1 3615 12 is_stmt 0 view .LVU330
 963 00aa 466B     		ldr	r6, [r0, #52]
 964              	.LVL94:
3615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 965              		.loc 1 3615 11 view .LVU331
ARM GAS  /tmp/ccxppnfb.s 			page 87


 966 00ac 16F02006 		ands	r6, r6, #32
 967 00b0 22D1     		bne	.L74
3625:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 968              		.loc 1 3625 5 is_stmt 1 view .LVU332
 969 00b2 144B     		ldr	r3, .L75
 970 00b4 8363     		str	r3, [r0, #56]
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 971              		.loc 1 3627 5 view .LVU333
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 972              		.loc 1 3627 22 is_stmt 0 view .LVU334
 973 00b6 019A     		ldr	r2, [sp, #4]
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 974              		.loc 1 3627 86 view .LVU335
 975 00b8 1302     		lsls	r3, r2, #8
 976 00ba 03F47F03 		and	r3, r3, #16711680
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 977              		.loc 1 3627 52 view .LVU336
 978 00be 43EA0263 		orr	r3, r3, r2, lsl #24
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 979              		.loc 1 3628 46 view .LVU337
 980 00c2 110A     		lsrs	r1, r2, #8
 981 00c4 01F47F41 		and	r1, r1, #65280
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 982              		.loc 1 3627 92 view .LVU338
 983 00c8 0B43     		orrs	r3, r3, r1
3628:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 984              		.loc 1 3628 52 view .LVU339
 985 00ca 43EA1263 		orr	r3, r3, r2, lsr #24
3627:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 986              		.loc 1 3627 10 view .LVU340
 987 00ce 3B60     		str	r3, [r7]
3629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
 988              		.loc 1 3629 5 is_stmt 1 view .LVU341
 989              	.LVL95:
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 990              		.loc 1 3630 5 view .LVU342
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 991              		.loc 1 3630 22 is_stmt 0 view .LVU343
 992 00d0 009A     		ldr	r2, [sp]
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 993              		.loc 1 3630 86 view .LVU344
 994 00d2 1302     		lsls	r3, r2, #8
 995 00d4 03F47F03 		and	r3, r3, #16711680
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 996              		.loc 1 3630 52 view .LVU345
 997 00d8 43EA0263 		orr	r3, r3, r2, lsl #24
3631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 998              		.loc 1 3631 46 view .LVU346
 999 00dc 110A     		lsrs	r1, r2, #8
 1000 00de 01F47F41 		and	r1, r1, #65280
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1001              		.loc 1 3630 92 view .LVU347
 1002 00e2 0B43     		orrs	r3, r3, r1
3631:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1003              		.loc 1 3631 52 view .LVU348
 1004 00e4 43EA1263 		orr	r3, r3, r2, lsr #24
3630:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
ARM GAS  /tmp/ccxppnfb.s 			page 88


 1005              		.loc 1 3630 10 view .LVU349
 1006 00e8 7B60     		str	r3, [r7, #4]
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1007              		.loc 1 3635 3 is_stmt 1 view .LVU350
3635:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1008              		.loc 1 3635 10 is_stmt 0 view .LVU351
 1009 00ea 99E7     		b	.L59
 1010              	.LVL96:
 1011              	.L72:
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1012              		.loc 1 3605 5 is_stmt 1 view .LVU352
 1013 00ec 0826     		movs	r6, #8
 1014              	.LVL97:
3605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1015              		.loc 1 3605 5 is_stmt 0 view .LVU353
 1016 00ee 8663     		str	r6, [r0, #56]
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1017              		.loc 1 3607 5 is_stmt 1 view .LVU354
3607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1018              		.loc 1 3607 12 is_stmt 0 view .LVU355
 1019 00f0 96E7     		b	.L59
 1020              	.LVL98:
 1021              	.L73:
3611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1022              		.loc 1 3611 5 is_stmt 1 view .LVU356
 1023 00f2 0226     		movs	r6, #2
 1024              	.LVL99:
3611:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1025              		.loc 1 3611 5 is_stmt 0 view .LVU357
 1026 00f4 8663     		str	r6, [r0, #56]
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1027              		.loc 1 3613 5 is_stmt 1 view .LVU358
3613:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1028              		.loc 1 3613 12 is_stmt 0 view .LVU359
 1029 00f6 93E7     		b	.L59
 1030              	.L74:
3617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1031              		.loc 1 3617 5 is_stmt 1 view .LVU360
 1032 00f8 2026     		movs	r6, #32
 1033 00fa 8663     		str	r6, [r0, #56]
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1034              		.loc 1 3619 5 view .LVU361
3619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1035              		.loc 1 3619 12 is_stmt 0 view .LVU362
 1036 00fc 90E7     		b	.L59
 1037              	.LVL100:
 1038              	.L67:
3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1039              		.loc 1 3599 14 view .LVU363
 1040 00fe 4FF00046 		mov	r6, #-2147483648
 1041              	.LVL101:
3599:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1042              		.loc 1 3599 14 view .LVU364
 1043 0102 8DE7     		b	.L59
 1044              	.L76:
 1045              		.align	2
 1046              	.L75:
ARM GAS  /tmp/ccxppnfb.s 			page 89


 1047 0104 3A0F0018 		.word	402657082
 1048              		.cfi_endproc
 1049              	.LFE385:
 1051              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 1052              		.align	1
 1053              		.syntax unified
 1054              		.thumb
 1055              		.thumb_func
 1056              		.fpu fpv5-d16
 1058              	SD_WideBus_Enable:
 1059              	.LVL102:
 1060              	.LFB383:
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1061              		.loc 1 3453 1 is_stmt 1 view -0
 1062              		.cfi_startproc
 1063              		@ args = 0, pretend = 0, frame = 8
 1064              		@ frame_needed = 0, uses_anonymous_args = 0
3453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1065              		.loc 1 3453 1 is_stmt 0 view .LVU366
 1066 0000 10B5     		push	{r4, lr}
 1067              	.LCFI17:
 1068              		.cfi_def_cfa_offset 8
 1069              		.cfi_offset 4, -8
 1070              		.cfi_offset 14, -4
 1071 0002 82B0     		sub	sp, sp, #8
 1072              	.LCFI18:
 1073              		.cfi_def_cfa_offset 16
 1074 0004 0446     		mov	r4, r0
3454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1075              		.loc 1 3454 3 is_stmt 1 view .LVU367
3454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1076              		.loc 1 3454 12 is_stmt 0 view .LVU368
 1077 0006 0021     		movs	r1, #0
 1078 0008 0091     		str	r1, [sp]
 1079 000a 0191     		str	r1, [sp, #4]
3455:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1080              		.loc 1 3455 3 is_stmt 1 view .LVU369
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1081              		.loc 1 3457 3 view .LVU370
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1082              		.loc 1 3457 8 is_stmt 0 view .LVU371
 1083 000c 0068     		ldr	r0, [r0]
 1084              	.LVL103:
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1085              		.loc 1 3457 8 view .LVU372
 1086 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1087              	.LVL104:
3457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1088              		.loc 1 3457 6 view .LVU373
 1089 0012 10F0007F 		tst	r0, #33554432
 1090 0016 13D1     		bne	.L79
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1091              		.loc 1 3463 3 is_stmt 1 view .LVU374
3463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1092              		.loc 1 3463 16 is_stmt 0 view .LVU375
 1093 0018 6946     		mov	r1, sp
 1094 001a 2046     		mov	r0, r4
ARM GAS  /tmp/ccxppnfb.s 			page 90


 1095 001c FFF7FEFF 		bl	SD_FindSCR
 1096              	.LVL105:
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1097              		.loc 1 3464 3 is_stmt 1 view .LVU376
3464:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1098              		.loc 1 3464 6 is_stmt 0 view .LVU377
 1099 0020 80B9     		cbnz	r0, .L77
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1100              		.loc 1 3470 3 is_stmt 1 view .LVU378
3470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1101              		.loc 1 3470 6 is_stmt 0 view .LVU379
 1102 0022 019B     		ldr	r3, [sp, #4]
 1103 0024 13F4802F 		tst	r3, #262144
 1104 0028 0ED0     		beq	.L80
3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1105              		.loc 1 3473 5 is_stmt 1 view .LVU380
3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1106              		.loc 1 3473 75 is_stmt 0 view .LVU381
 1107 002a 616C     		ldr	r1, [r4, #68]
3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1108              		.loc 1 3473 18 view .LVU382
 1109 002c 0904     		lsls	r1, r1, #16
 1110 002e 2068     		ldr	r0, [r4]
 1111              	.LVL106:
3473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1112              		.loc 1 3473 18 view .LVU383
 1113 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1114              	.LVL107:
3474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1115              		.loc 1 3474 5 is_stmt 1 view .LVU384
3474:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1116              		.loc 1 3474 8 is_stmt 0 view .LVU385
 1117 0034 30B9     		cbnz	r0, .L77
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1118              		.loc 1 3480 5 is_stmt 1 view .LVU386
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1119              		.loc 1 3480 18 is_stmt 0 view .LVU387
 1120 0036 0221     		movs	r1, #2
 1121 0038 2068     		ldr	r0, [r4]
 1122              	.LVL108:
3480:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1123              		.loc 1 3480 18 view .LVU388
 1124 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1125              	.LVL109:
3481:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1126              		.loc 1 3481 5 is_stmt 1 view .LVU389
 1127 003e 01E0     		b	.L77
 1128              	.LVL110:
 1129              	.L79:
3459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1130              		.loc 1 3459 12 is_stmt 0 view .LVU390
 1131 0040 4FF40060 		mov	r0, #2048
 1132              	.L77:
3492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1133              		.loc 1 3492 1 view .LVU391
 1134 0044 02B0     		add	sp, sp, #8
 1135              	.LCFI19:
ARM GAS  /tmp/ccxppnfb.s 			page 91


 1136              		.cfi_remember_state
 1137              		.cfi_def_cfa_offset 8
 1138              		@ sp needed
 1139 0046 10BD     		pop	{r4, pc}
 1140              	.LVL111:
 1141              	.L80:
 1142              	.LCFI20:
 1143              		.cfi_restore_state
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1144              		.loc 1 3490 12 view .LVU392
 1145 0048 4FF08060 		mov	r0, #67108864
 1146              	.LVL112:
3490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1147              		.loc 1 3490 12 view .LVU393
 1148 004c FAE7     		b	.L77
 1149              		.cfi_endproc
 1150              	.LFE383:
 1152              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 1153              		.align	1
 1154              		.syntax unified
 1155              		.thumb
 1156              		.thumb_func
 1157              		.fpu fpv5-d16
 1159              	SD_WideBus_Disable:
 1160              	.LVL113:
 1161              	.LFB384:
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1162              		.loc 1 3500 1 is_stmt 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 8
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
3500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 1166              		.loc 1 3500 1 is_stmt 0 view .LVU395
 1167 0000 10B5     		push	{r4, lr}
 1168              	.LCFI21:
 1169              		.cfi_def_cfa_offset 8
 1170              		.cfi_offset 4, -8
 1171              		.cfi_offset 14, -4
 1172 0002 82B0     		sub	sp, sp, #8
 1173              	.LCFI22:
 1174              		.cfi_def_cfa_offset 16
 1175 0004 0446     		mov	r4, r0
3501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1176              		.loc 1 3501 3 is_stmt 1 view .LVU396
3501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1177              		.loc 1 3501 12 is_stmt 0 view .LVU397
 1178 0006 0021     		movs	r1, #0
 1179 0008 0091     		str	r1, [sp]
 1180 000a 0191     		str	r1, [sp, #4]
3502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1181              		.loc 1 3502 3 is_stmt 1 view .LVU398
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1182              		.loc 1 3504 3 view .LVU399
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1183              		.loc 1 3504 8 is_stmt 0 view .LVU400
 1184 000c 0068     		ldr	r0, [r0]
 1185              	.LVL114:
ARM GAS  /tmp/ccxppnfb.s 			page 92


3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1186              		.loc 1 3504 8 view .LVU401
 1187 000e FFF7FEFF 		bl	SDMMC_GetResponse
 1188              	.LVL115:
3504:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1189              		.loc 1 3504 6 view .LVU402
 1190 0012 10F0007F 		tst	r0, #33554432
 1191 0016 13D1     		bne	.L84
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1192              		.loc 1 3510 3 is_stmt 1 view .LVU403
3510:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1193              		.loc 1 3510 16 is_stmt 0 view .LVU404
 1194 0018 6946     		mov	r1, sp
 1195 001a 2046     		mov	r0, r4
 1196 001c FFF7FEFF 		bl	SD_FindSCR
 1197              	.LVL116:
3511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1198              		.loc 1 3511 3 is_stmt 1 view .LVU405
3511:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1199              		.loc 1 3511 6 is_stmt 0 view .LVU406
 1200 0020 80B9     		cbnz	r0, .L82
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1201              		.loc 1 3517 3 is_stmt 1 view .LVU407
3517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1202              		.loc 1 3517 6 is_stmt 0 view .LVU408
 1203 0022 019B     		ldr	r3, [sp, #4]
 1204 0024 13F4803F 		tst	r3, #65536
 1205 0028 0ED0     		beq	.L85
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1206              		.loc 1 3520 5 is_stmt 1 view .LVU409
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1207              		.loc 1 3520 75 is_stmt 0 view .LVU410
 1208 002a 616C     		ldr	r1, [r4, #68]
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1209              		.loc 1 3520 18 view .LVU411
 1210 002c 0904     		lsls	r1, r1, #16
 1211 002e 2068     		ldr	r0, [r4]
 1212              	.LVL117:
3520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1213              		.loc 1 3520 18 view .LVU412
 1214 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1215              	.LVL118:
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1216              		.loc 1 3521 5 is_stmt 1 view .LVU413
3521:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1217              		.loc 1 3521 8 is_stmt 0 view .LVU414
 1218 0034 30B9     		cbnz	r0, .L82
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1219              		.loc 1 3527 5 is_stmt 1 view .LVU415
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1220              		.loc 1 3527 18 is_stmt 0 view .LVU416
 1221 0036 0021     		movs	r1, #0
 1222 0038 2068     		ldr	r0, [r4]
 1223              	.LVL119:
3527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1224              		.loc 1 3527 18 view .LVU417
 1225 003a FFF7FEFF 		bl	SDMMC_CmdBusWidth
ARM GAS  /tmp/ccxppnfb.s 			page 93


 1226              	.LVL120:
3528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1227              		.loc 1 3528 5 is_stmt 1 view .LVU418
 1228 003e 01E0     		b	.L82
 1229              	.LVL121:
 1230              	.L84:
3506:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1231              		.loc 1 3506 12 is_stmt 0 view .LVU419
 1232 0040 4FF40060 		mov	r0, #2048
 1233              	.L82:
3539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1234              		.loc 1 3539 1 view .LVU420
 1235 0044 02B0     		add	sp, sp, #8
 1236              	.LCFI23:
 1237              		.cfi_remember_state
 1238              		.cfi_def_cfa_offset 8
 1239              		@ sp needed
 1240 0046 10BD     		pop	{r4, pc}
 1241              	.LVL122:
 1242              	.L85:
 1243              	.LCFI24:
 1244              		.cfi_restore_state
3537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1245              		.loc 1 3537 12 view .LVU421
 1246 0048 4FF08060 		mov	r0, #67108864
 1247              	.LVL123:
3537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1248              		.loc 1 3537 12 view .LVU422
 1249 004c FAE7     		b	.L82
 1250              		.cfi_endproc
 1251              	.LFE384:
 1253              		.section	.text.SD_SwitchSpeed,"ax",%progbits
 1254              		.align	1
 1255              		.syntax unified
 1256              		.thumb
 1257              		.thumb_func
 1258              		.fpu fpv5-d16
 1260              	SD_SwitchSpeed:
 1261              	.LVL124:
 1262              	.LFB388:
3707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3708:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3709:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
3710:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 25 and 50 MHz
3713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  SwitchSpeedMode: SD speed mode( SDMMC_SDR12_SWITCH_PATTERN, SDMMC_SDR25_SWITCH_PATTERN)
3715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t SD_SwitchSpeed(SD_HandleTypeDef *hsd, uint32_t SwitchSpeedMode)
3718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 1263              		.loc 1 3718 1 is_stmt 1 view -0
 1264              		.cfi_startproc
 1265              		@ args = 0, pretend = 0, frame = 88
 1266              		@ frame_needed = 0, uses_anonymous_args = 0
 1267              		.loc 1 3718 1 is_stmt 0 view .LVU424
ARM GAS  /tmp/ccxppnfb.s 			page 94


 1268 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1269              	.LCFI25:
 1270              		.cfi_def_cfa_offset 28
 1271              		.cfi_offset 4, -28
 1272              		.cfi_offset 5, -24
 1273              		.cfi_offset 6, -20
 1274              		.cfi_offset 7, -16
 1275              		.cfi_offset 8, -12
 1276              		.cfi_offset 9, -8
 1277              		.cfi_offset 14, -4
 1278 0004 97B0     		sub	sp, sp, #92
 1279              	.LCFI26:
 1280              		.cfi_def_cfa_offset 120
 1281 0006 0546     		mov	r5, r0
 1282 0008 0C46     		mov	r4, r1
3719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 1283              		.loc 1 3719 3 is_stmt 1 view .LVU425
 1284              	.LVL125:
3720:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
 1285              		.loc 1 3720 3 view .LVU426
3721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 1286              		.loc 1 3721 3 view .LVU427
 1287              		.loc 1 3721 12 is_stmt 0 view .LVU428
 1288 000a 4022     		movs	r2, #64
 1289 000c 0021     		movs	r1, #0
 1290              	.LVL126:
 1291              		.loc 1 3721 12 view .LVU429
 1292 000e 6846     		mov	r0, sp
 1293              	.LVL127:
 1294              		.loc 1 3721 12 view .LVU430
 1295 0010 FFF7FEFF 		bl	memset
 1296              	.LVL128:
3722:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1297              		.loc 1 3722 3 is_stmt 1 view .LVU431
3723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
 1298              		.loc 1 3723 3 view .LVU432
3724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 1299              		.loc 1 3724 3 view .LVU433
 1300              		.loc 1 3724 22 is_stmt 0 view .LVU434
 1301 0014 FFF7FEFF 		bl	HAL_GetTick
 1302              	.LVL129:
3725:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 1303              		.loc 1 3726 3 is_stmt 1 view .LVU435
 1304              		.loc 1 3726 18 is_stmt 0 view .LVU436
 1305 0018 AB6D     		ldr	r3, [r5, #88]
 1306              		.loc 1 3726 6 view .LVU437
 1307 001a 002B     		cmp	r3, #0
 1308 001c 75D0     		beq	.L97
 1309 001e 0746     		mov	r7, r0
3727:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3728:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3731:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed >= CARD_HIGH_SPEED)
 1310              		.loc 1 3732 3 is_stmt 1 view .LVU438
ARM GAS  /tmp/ccxppnfb.s 			page 95


 1311              		.loc 1 3732 6 is_stmt 0 view .LVU439
 1312 0020 FF2B     		cmp	r3, #255
 1313 0022 05D8     		bhi	.L101
3719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
 1314              		.loc 1 3719 12 view .LVU440
 1315 0024 4FF00008 		mov	r8, #0
 1316              	.LVL130:
 1317              	.L87:
3733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3734:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3737:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3743:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3750:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
3752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3753:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SwitchSpeedMode);
3755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3766:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3768:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
3773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3779:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccxppnfb.s 			page 96


3782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3787:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
3791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3801:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3810:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1318              		.loc 1 3819 1 view .LVU441
 1319 0028 4046     		mov	r0, r8
 1320 002a 17B0     		add	sp, sp, #92
 1321              	.LCFI27:
 1322              		.cfi_remember_state
 1323              		.cfi_def_cfa_offset 28
 1324              		@ sp needed
 1325 002c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1326              	.LVL131:
 1327              	.L101:
 1328              	.LCFI28:
 1329              		.cfi_restore_state
3735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1330              		.loc 1 3735 5 is_stmt 1 view .LVU442
3735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1331              		.loc 1 3735 8 is_stmt 0 view .LVU443
 1332 0030 2B68     		ldr	r3, [r5]
3735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 1333              		.loc 1 3735 26 view .LVU444
ARM GAS  /tmp/ccxppnfb.s 			page 97


 1334 0032 0022     		movs	r2, #0
 1335 0034 DA62     		str	r2, [r3, #44]
3736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1336              		.loc 1 3736 5 is_stmt 1 view .LVU445
3736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1337              		.loc 1 3736 18 is_stmt 0 view .LVU446
 1338 0036 4021     		movs	r1, #64
 1339 0038 2868     		ldr	r0, [r5]
 1340              	.LVL132:
3736:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1341              		.loc 1 3736 18 view .LVU447
 1342 003a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 1343              	.LVL133:
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1344              		.loc 1 3738 5 is_stmt 1 view .LVU448
3738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1345              		.loc 1 3738 8 is_stmt 0 view .LVU449
 1346 003e 8046     		mov	r8, r0
 1347 0040 0028     		cmp	r0, #0
 1348 0042 F1D1     		bne	.L87
3744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 1349              		.loc 1 3744 5 is_stmt 1 view .LVU450
3744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 1350              		.loc 1 3744 43 is_stmt 0 view .LVU451
 1351 0044 4FF0FF33 		mov	r3, #-1
 1352 0048 1093     		str	r3, [sp, #64]
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 1353              		.loc 1 3745 5 is_stmt 1 view .LVU452
3745:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 1354              		.loc 1 3745 43 is_stmt 0 view .LVU453
 1355 004a 4023     		movs	r3, #64
 1356 004c 1193     		str	r3, [sp, #68]
3746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1357              		.loc 1 3746 5 is_stmt 1 view .LVU454
3746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1358              		.loc 1 3746 43 is_stmt 0 view .LVU455
 1359 004e 6023     		movs	r3, #96
 1360 0050 1293     		str	r3, [sp, #72]
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1361              		.loc 1 3747 5 is_stmt 1 view .LVU456
3747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1362              		.loc 1 3747 43 is_stmt 0 view .LVU457
 1363 0052 0223     		movs	r3, #2
 1364 0054 1393     		str	r3, [sp, #76]
3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 1365              		.loc 1 3748 5 is_stmt 1 view .LVU458
3748:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 1366              		.loc 1 3748 43 is_stmt 0 view .LVU459
 1367 0056 0023     		movs	r3, #0
 1368 0058 1493     		str	r3, [sp, #80]
3749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1369              		.loc 1 3749 5 is_stmt 1 view .LVU460
3749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1370              		.loc 1 3749 43 is_stmt 0 view .LVU461
 1371 005a 0123     		movs	r3, #1
 1372 005c 1593     		str	r3, [sp, #84]
3751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 98


 1373              		.loc 1 3751 5 is_stmt 1 view .LVU462
3751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1374              		.loc 1 3751 11 is_stmt 0 view .LVU463
 1375 005e 10A9     		add	r1, sp, #64
 1376 0060 2868     		ldr	r0, [r5]
 1377              	.LVL134:
3751:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1378              		.loc 1 3751 11 view .LVU464
 1379 0062 FFF7FEFF 		bl	SDMMC_ConfigData
 1380              	.LVL135:
3754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1381              		.loc 1 3754 5 is_stmt 1 view .LVU465
3754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1382              		.loc 1 3754 18 is_stmt 0 view .LVU466
 1383 0066 2146     		mov	r1, r4
 1384 0068 2868     		ldr	r0, [r5]
 1385 006a FFF7FEFF 		bl	SDMMC_CmdSwitch
 1386              	.LVL136:
3755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1387              		.loc 1 3755 5 is_stmt 1 view .LVU467
3755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1388              		.loc 1 3755 8 is_stmt 0 view .LVU468
 1389 006e 8046     		mov	r8, r0
 1390 0070 0028     		cmp	r0, #0
 1391 0072 D9D1     		bne	.L87
3723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 1392              		.loc 1 3723 12 view .LVU469
 1393 0074 8146     		mov	r9, r0
 1394 0076 14E0     		b	.L89
 1395              	.LVL137:
 1396              	.L92:
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1397              		.loc 1 3767 11 is_stmt 1 discriminator 3 view .LVU470
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1398              		.loc 1 3767 29 is_stmt 0 discriminator 3 view .LVU471
 1399 0078 04EBC906 		add	r6, r4, r9, lsl #3
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1400              		.loc 1 3767 41 discriminator 3 view .LVU472
 1401 007c 2868     		ldr	r0, [r5]
 1402 007e FFF7FEFF 		bl	SDMMC_ReadFIFO
 1403              	.LVL138:
3767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1404              		.loc 1 3767 39 discriminator 3 view .LVU473
 1405 0082 16AB     		add	r3, sp, #88
 1406 0084 03EB8606 		add	r6, r3, r6, lsl #2
 1407 0088 46F8580C 		str	r0, [r6, #-88]
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1408              		.loc 1 3765 38 is_stmt 1 discriminator 3 view .LVU474
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1409              		.loc 1 3765 43 is_stmt 0 discriminator 3 view .LVU475
 1410 008c 0134     		adds	r4, r4, #1
 1411              	.LVL139:
 1412              	.L90:
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1413              		.loc 1 3765 26 is_stmt 1 discriminator 1 view .LVU476
3765:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1414              		.loc 1 3765 9 is_stmt 0 discriminator 1 view .LVU477
ARM GAS  /tmp/ccxppnfb.s 			page 99


 1415 008e 072C     		cmp	r4, #7
 1416 0090 F2D9     		bls	.L92
3769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1417              		.loc 1 3769 9 is_stmt 1 view .LVU478
3769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1418              		.loc 1 3769 14 is_stmt 0 view .LVU479
 1419 0092 09F10109 		add	r9, r9, #1
 1420              	.LVL140:
 1421              	.L91:
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1422              		.loc 1 3772 7 is_stmt 1 view .LVU480
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1423              		.loc 1 3772 12 is_stmt 0 view .LVU481
 1424 0096 FFF7FEFF 		bl	HAL_GetTick
 1425              	.LVL141:
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1426              		.loc 1 3772 26 view .LVU482
 1427 009a C01B     		subs	r0, r0, r7
3772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1428              		.loc 1 3772 10 view .LVU483
 1429 009c B0F1FF3F 		cmp	r0, #-1
 1430 00a0 0AD0     		beq	.L102
 1431              	.LVL142:
 1432              	.L89:
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1433              		.loc 1 3760 11 is_stmt 1 view .LVU484
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1434              		.loc 1 3760 13 is_stmt 0 view .LVU485
 1435 00a2 2B68     		ldr	r3, [r5]
 1436 00a4 5C6B     		ldr	r4, [r3, #52]
 1437 00a6 40F22A52 		movw	r2, #1322
3760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1438              		.loc 1 3760 11 view .LVU486
 1439 00aa 1440     		ands	r4, r4, r2
 1440 00ac 0CD1     		bne	.L103
3763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1441              		.loc 1 3763 7 is_stmt 1 view .LVU487
3763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1442              		.loc 1 3763 11 is_stmt 0 view .LVU488
 1443 00ae 5B6B     		ldr	r3, [r3, #52]
3763:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1444              		.loc 1 3763 10 view .LVU489
 1445 00b0 13F4004F 		tst	r3, #32768
 1446 00b4 EFD0     		beq	.L91
 1447 00b6 EAE7     		b	.L90
 1448              	.L102:
3774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1449              		.loc 1 3774 9 is_stmt 1 view .LVU490
3774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1450              		.loc 1 3774 24 is_stmt 0 view .LVU491
 1451 00b8 4FF00043 		mov	r3, #-2147483648
 1452 00bc 6B63     		str	r3, [r5, #52]
3775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 1453              		.loc 1 3775 9 is_stmt 1 view .LVU492
3775:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 1454              		.loc 1 3775 20 is_stmt 0 view .LVU493
 1455 00be 0122     		movs	r2, #1
ARM GAS  /tmp/ccxppnfb.s 			page 100


 1456 00c0 85F83020 		strb	r2, [r5, #48]
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1457              		.loc 1 3776 9 is_stmt 1 view .LVU494
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1458              		.loc 1 3776 16 is_stmt 0 view .LVU495
 1459 00c4 9846     		mov	r8, r3
 1460              	.LVL143:
3776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1461              		.loc 1 3776 16 view .LVU496
 1462 00c6 AFE7     		b	.L87
 1463              	.LVL144:
 1464              	.L103:
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1465              		.loc 1 3780 5 is_stmt 1 view .LVU497
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1466              		.loc 1 3780 9 is_stmt 0 view .LVU498
 1467 00c8 5A6B     		ldr	r2, [r3, #52]
3780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1468              		.loc 1 3780 8 view .LVU499
 1469 00ca 12F0080F 		tst	r2, #8
 1470 00ce 11D1     		bne	.L104
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1471              		.loc 1 3786 10 is_stmt 1 view .LVU500
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1472              		.loc 1 3786 14 is_stmt 0 view .LVU501
 1473 00d0 5A6B     		ldr	r2, [r3, #52]
3786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1474              		.loc 1 3786 13 view .LVU502
 1475 00d2 12F0020F 		tst	r2, #2
 1476 00d6 10D1     		bne	.L105
3794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1477              		.loc 1 3794 10 is_stmt 1 view .LVU503
3794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1478              		.loc 1 3794 14 is_stmt 0 view .LVU504
 1479 00d8 5A6B     		ldr	r2, [r3, #52]
3794:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1480              		.loc 1 3794 13 view .LVU505
 1481 00da 12F0200F 		tst	r2, #32
 1482 00de 10D1     		bne	.L106
3805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1483              		.loc 1 3805 5 is_stmt 1 view .LVU506
3808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1484              		.loc 1 3808 5 view .LVU507
 1485 00e0 0B4A     		ldr	r2, .L107
 1486 00e2 9A63     		str	r2, [r3, #56]
3811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1487              		.loc 1 3811 5 view .LVU508
3811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1488              		.loc 1 3811 28 is_stmt 0 view .LVU509
 1489 00e4 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
3811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1490              		.loc 1 3811 8 view .LVU510
 1491 00e8 13F0020F 		tst	r3, #2
 1492 00ec 9CD1     		bne	.L87
3813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1493              		.loc 1 3813 18 view .LVU511
 1494 00ee 4FF08058 		mov	r8, #268435456
ARM GAS  /tmp/ccxppnfb.s 			page 101


 1495              	.LVL145:
3813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1496              		.loc 1 3813 18 view .LVU512
 1497 00f2 99E7     		b	.L87
 1498              	.LVL146:
 1499              	.L104:
3782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1500              		.loc 1 3782 7 is_stmt 1 view .LVU513
 1501 00f4 0822     		movs	r2, #8
 1502 00f6 9A63     		str	r2, [r3, #56]
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1503              		.loc 1 3784 7 view .LVU514
3784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1504              		.loc 1 3784 14 is_stmt 0 view .LVU515
 1505 00f8 96E7     		b	.L87
 1506              	.L105:
3788:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1507              		.loc 1 3788 7 is_stmt 1 view .LVU516
 1508 00fa 0222     		movs	r2, #2
 1509 00fc 9A63     		str	r2, [r3, #56]
3790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1510              		.loc 1 3790 7 view .LVU517
 1511              	.LVL147:
3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1512              		.loc 1 3792 7 view .LVU518
3792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1513              		.loc 1 3792 14 is_stmt 0 view .LVU519
 1514 00fe 9046     		mov	r8, r2
 1515 0100 92E7     		b	.L87
 1516              	.LVL148:
 1517              	.L106:
3796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1518              		.loc 1 3796 7 is_stmt 1 view .LVU520
 1519 0102 2022     		movs	r2, #32
 1520 0104 9A63     		str	r2, [r3, #56]
3798:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1521              		.loc 1 3798 7 view .LVU521
 1522              	.LVL149:
3800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1523              		.loc 1 3800 7 view .LVU522
3800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1524              		.loc 1 3800 14 is_stmt 0 view .LVU523
 1525 0106 9046     		mov	r8, r2
 1526 0108 8EE7     		b	.L87
 1527              	.LVL150:
 1528              	.L97:
3729:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1529              		.loc 1 3729 12 view .LVU524
 1530 010a 4FF08068 		mov	r8, #67108864
 1531 010e 8BE7     		b	.L87
 1532              	.L108:
 1533              		.align	2
 1534              	.L107:
 1535 0110 3A0F0018 		.word	402657082
 1536              		.cfi_endproc
 1537              	.LFE388:
 1539              		.section	.text.SD_SendStatus,"ax",%progbits
ARM GAS  /tmp/ccxppnfb.s 			page 102


 1540              		.align	1
 1541              		.syntax unified
 1542              		.thumb
 1543              		.thumb_func
 1544              		.fpu fpv5-d16
 1546              	SD_SendStatus:
 1547              	.LVL151:
 1548              	.LFB382:
3426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1549              		.loc 1 3426 1 is_stmt 1 view -0
 1550              		.cfi_startproc
 1551              		@ args = 0, pretend = 0, frame = 0
 1552              		@ frame_needed = 0, uses_anonymous_args = 0
3426:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1553              		.loc 1 3426 1 is_stmt 0 view .LVU526
 1554 0000 70B5     		push	{r4, r5, r6, lr}
 1555              	.LCFI29:
 1556              		.cfi_def_cfa_offset 16
 1557              		.cfi_offset 4, -16
 1558              		.cfi_offset 5, -12
 1559              		.cfi_offset 6, -8
 1560              		.cfi_offset 14, -4
3427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1561              		.loc 1 3427 3 is_stmt 1 view .LVU527
3429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1562              		.loc 1 3429 3 view .LVU528
3429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1563              		.loc 1 3429 6 is_stmt 0 view .LVU529
 1564 0002 81B1     		cbz	r1, .L111
 1565 0004 0446     		mov	r4, r0
 1566 0006 0E46     		mov	r6, r1
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1567              		.loc 1 3435 3 is_stmt 1 view .LVU530
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1568              		.loc 1 3435 73 is_stmt 0 view .LVU531
 1569 0008 416C     		ldr	r1, [r0, #68]
 1570              	.LVL152:
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1571              		.loc 1 3435 16 view .LVU532
 1572 000a 0904     		lsls	r1, r1, #16
 1573 000c 0068     		ldr	r0, [r0]
 1574              	.LVL153:
3435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 1575              		.loc 1 3435 16 view .LVU533
 1576 000e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 1577              	.LVL154:
3436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1578              		.loc 1 3436 3 is_stmt 1 view .LVU534
3436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1579              		.loc 1 3436 6 is_stmt 0 view .LVU535
 1580 0012 0546     		mov	r5, r0
 1581 0014 08B1     		cbz	r0, .L113
 1582              	.LVL155:
 1583              	.L109:
3445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1584              		.loc 1 3445 1 view .LVU536
 1585 0016 2846     		mov	r0, r5
ARM GAS  /tmp/ccxppnfb.s 			page 103


 1586 0018 70BD     		pop	{r4, r5, r6, pc}
 1587              	.LVL156:
 1588              	.L113:
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1589              		.loc 1 3442 3 is_stmt 1 view .LVU537
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1590              		.loc 1 3442 18 is_stmt 0 view .LVU538
 1591 001a 0021     		movs	r1, #0
 1592 001c 2068     		ldr	r0, [r4]
 1593              	.LVL157:
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1594              		.loc 1 3442 18 view .LVU539
 1595 001e FFF7FEFF 		bl	SDMMC_GetResponse
 1596              	.LVL158:
3442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1597              		.loc 1 3442 16 view .LVU540
 1598 0022 3060     		str	r0, [r6]
3444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1599              		.loc 1 3444 3 is_stmt 1 view .LVU541
3444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1600              		.loc 1 3444 10 is_stmt 0 view .LVU542
 1601 0024 F7E7     		b	.L109
 1602              	.LVL159:
 1603              	.L111:
3431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1604              		.loc 1 3431 12 view .LVU543
 1605 0026 4FF00065 		mov	r5, #134217728
 1606 002a F4E7     		b	.L109
 1607              		.cfi_endproc
 1608              	.LFE382:
 1610              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1611              		.align	1
 1612              		.weak	HAL_SD_MspInit
 1613              		.syntax unified
 1614              		.thumb
 1615              		.thumb_func
 1616              		.fpu fpv5-d16
 1618              	HAL_SD_MspInit:
 1619              	.LVL160:
 1620              	.LFB353:
 617:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1621              		.loc 1 617 1 is_stmt 1 view -0
 1622              		.cfi_startproc
 1623              		@ args = 0, pretend = 0, frame = 0
 1624              		@ frame_needed = 0, uses_anonymous_args = 0
 1625              		@ link register save eliminated.
 619:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1626              		.loc 1 619 3 view .LVU545
 624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1627              		.loc 1 624 1 is_stmt 0 view .LVU546
 1628 0000 7047     		bx	lr
 1629              		.cfi_endproc
 1630              	.LFE353:
 1632              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1633              		.align	1
 1634              		.weak	HAL_SD_MspDeInit
 1635              		.syntax unified
ARM GAS  /tmp/ccxppnfb.s 			page 104


 1636              		.thumb
 1637              		.thumb_func
 1638              		.fpu fpv5-d16
 1640              	HAL_SD_MspDeInit:
 1641              	.LVL161:
 1642              	.LFB354:
 632:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1643              		.loc 1 632 1 is_stmt 1 view -0
 1644              		.cfi_startproc
 1645              		@ args = 0, pretend = 0, frame = 0
 1646              		@ frame_needed = 0, uses_anonymous_args = 0
 1647              		@ link register save eliminated.
 634:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1648              		.loc 1 634 3 view .LVU548
 639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1649              		.loc 1 639 1 is_stmt 0 view .LVU549
 1650 0000 7047     		bx	lr
 1651              		.cfi_endproc
 1652              	.LFE354:
 1654              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1655              		.align	1
 1656              		.global	HAL_SD_DeInit
 1657              		.syntax unified
 1658              		.thumb
 1659              		.thumb_func
 1660              		.fpu fpv5-d16
 1662              	HAL_SD_DeInit:
 1663              	.LVL162:
 1664              	.LFB352:
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 1665              		.loc 1 560 1 is_stmt 1 view -0
 1666              		.cfi_startproc
 1667              		@ args = 0, pretend = 0, frame = 0
 1668              		@ frame_needed = 0, uses_anonymous_args = 0
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1669              		.loc 1 562 3 view .LVU551
 562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1670              		.loc 1 562 6 is_stmt 0 view .LVU552
 1671 0000 70B1     		cbz	r0, .L118
 560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 1672              		.loc 1 560 1 view .LVU553
 1673 0002 10B5     		push	{r4, lr}
 1674              	.LCFI30:
 1675              		.cfi_def_cfa_offset 8
 1676              		.cfi_offset 4, -8
 1677              		.cfi_offset 14, -4
 1678 0004 0446     		mov	r4, r0
 568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1679              		.loc 1 568 3 is_stmt 1 view .LVU554
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1680              		.loc 1 570 3 view .LVU555
 570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1681              		.loc 1 570 14 is_stmt 0 view .LVU556
 1682 0006 0323     		movs	r3, #3
 1683 0008 80F83030 		strb	r3, [r0, #48]
 589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1684              		.loc 1 589 3 is_stmt 1 view .LVU557
ARM GAS  /tmp/ccxppnfb.s 			page 105


 1685 000c FFF7FEFF 		bl	SD_PowerOFF
 1686              	.LVL163:
 601:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 1687              		.loc 1 601 3 view .LVU558
 1688 0010 2046     		mov	r0, r4
 1689 0012 FFF7FEFF 		bl	HAL_SD_MspDeInit
 1690              	.LVL164:
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1691              		.loc 1 604 3 view .LVU559
 604:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1692              		.loc 1 604 18 is_stmt 0 view .LVU560
 1693 0016 0020     		movs	r0, #0
 1694 0018 6063     		str	r0, [r4, #52]
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1695              		.loc 1 605 3 is_stmt 1 view .LVU561
 605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1696              		.loc 1 605 14 is_stmt 0 view .LVU562
 1697 001a 84F83000 		strb	r0, [r4, #48]
 607:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1698              		.loc 1 607 3 is_stmt 1 view .LVU563
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1699              		.loc 1 608 1 is_stmt 0 view .LVU564
 1700 001e 10BD     		pop	{r4, pc}
 1701              	.LVL165:
 1702              	.L118:
 1703              	.LCFI31:
 1704              		.cfi_def_cfa_offset 0
 1705              		.cfi_restore 4
 1706              		.cfi_restore 14
 564:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1707              		.loc 1 564 12 view .LVU565
 1708 0020 0120     		movs	r0, #1
 1709              	.LVL166:
 608:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1710              		.loc 1 608 1 view .LVU566
 1711 0022 7047     		bx	lr
 1712              		.cfi_endproc
 1713              	.LFE352:
 1715              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1716              		.align	1
 1717              		.global	HAL_SD_ReadBlocks
 1718              		.syntax unified
 1719              		.thumb
 1720              		.thumb_func
 1721              		.fpu fpv5-d16
 1723              	HAL_SD_ReadBlocks:
 1724              	.LVL167:
 1725              	.LFB355:
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1726              		.loc 1 674 1 is_stmt 1 view -0
 1727              		.cfi_startproc
 1728              		@ args = 4, pretend = 0, frame = 24
 1729              		@ frame_needed = 0, uses_anonymous_args = 0
 674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 1730              		.loc 1 674 1 is_stmt 0 view .LVU568
 1731 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1732              	.LCFI32:
ARM GAS  /tmp/ccxppnfb.s 			page 106


 1733              		.cfi_def_cfa_offset 36
 1734              		.cfi_offset 4, -36
 1735              		.cfi_offset 5, -32
 1736              		.cfi_offset 6, -28
 1737              		.cfi_offset 7, -24
 1738              		.cfi_offset 8, -20
 1739              		.cfi_offset 9, -16
 1740              		.cfi_offset 10, -12
 1741              		.cfi_offset 11, -8
 1742              		.cfi_offset 14, -4
 1743 0004 87B0     		sub	sp, sp, #28
 1744              	.LCFI33:
 1745              		.cfi_def_cfa_offset 64
 1746 0006 0546     		mov	r5, r0
 1747 0008 0C46     		mov	r4, r1
 1748 000a 1646     		mov	r6, r2
 1749 000c 9A46     		mov	r10, r3
 1750 000e DDF84090 		ldr	r9, [sp, #64]
 675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 1751              		.loc 1 675 3 is_stmt 1 view .LVU569
 676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1752              		.loc 1 676 3 view .LVU570
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1753              		.loc 1 677 3 view .LVU571
 677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 1754              		.loc 1 677 24 is_stmt 0 view .LVU572
 1755 0012 FFF7FEFF 		bl	HAL_GetTick
 1756              	.LVL168:
 678:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 1757              		.loc 1 678 3 is_stmt 1 view .LVU573
 679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 1758              		.loc 1 679 3 view .LVU574
 680:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1759              		.loc 1 680 3 view .LVU575
 681:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1760              		.loc 1 681 3 view .LVU576
 682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1761              		.loc 1 682 3 view .LVU577
 684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1762              		.loc 1 684 3 view .LVU578
 684:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1763              		.loc 1 684 6 is_stmt 0 view .LVU579
 1764 0016 002C     		cmp	r4, #0
 1765 0018 3AD0     		beq	.L143
 1766 001a 8046     		mov	r8, r0
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1767              		.loc 1 690 3 is_stmt 1 view .LVU580
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1768              		.loc 1 690 10 is_stmt 0 view .LVU581
 1769 001c 95F83070 		ldrb	r7, [r5, #48]	@ zero_extendqisi2
 1770 0020 FFB2     		uxtb	r7, r7
 690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 1771              		.loc 1 690 6 view .LVU582
 1772 0022 012F     		cmp	r7, #1
 1773 0024 40F0E080 		bne	.L126
 692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1774              		.loc 1 692 5 is_stmt 1 view .LVU583
ARM GAS  /tmp/ccxppnfb.s 			page 107


 692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1775              		.loc 1 692 20 is_stmt 0 view .LVU584
 1776 0028 0023     		movs	r3, #0
 1777 002a 6B63     		str	r3, [r5, #52]
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1778              		.loc 1 694 5 is_stmt 1 view .LVU585
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1779              		.loc 1 694 14 is_stmt 0 view .LVU586
 1780 002c 06EB0A03 		add	r3, r6, r10
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1781              		.loc 1 694 46 view .LVU587
 1782 0030 2A6D     		ldr	r2, [r5, #80]
 694:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1783              		.loc 1 694 8 view .LVU588
 1784 0032 9342     		cmp	r3, r2
 1785 0034 32D8     		bhi	.L144
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1786              		.loc 1 700 5 is_stmt 1 view .LVU589
 700:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1787              		.loc 1 700 16 is_stmt 0 view .LVU590
 1788 0036 0323     		movs	r3, #3
 1789 0038 85F83030 		strb	r3, [r5, #48]
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1790              		.loc 1 703 5 is_stmt 1 view .LVU591
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1791              		.loc 1 703 8 is_stmt 0 view .LVU592
 1792 003c 2B68     		ldr	r3, [r5]
 703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1793              		.loc 1 703 26 view .LVU593
 1794 003e 0022     		movs	r2, #0
 1795 0040 DA62     		str	r2, [r3, #44]
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1796              		.loc 1 705 5 is_stmt 1 view .LVU594
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1797              		.loc 1 705 20 is_stmt 0 view .LVU595
 1798 0042 AB6B     		ldr	r3, [r5, #56]
 705:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1799              		.loc 1 705 8 view .LVU596
 1800 0044 012B     		cmp	r3, #1
 1801 0046 00D0     		beq	.L128
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1802              		.loc 1 707 7 is_stmt 1 view .LVU597
 707:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1803              		.loc 1 707 11 is_stmt 0 view .LVU598
 1804 0048 7602     		lsls	r6, r6, #9
 1805              	.LVL169:
 1806              	.L128:
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1807              		.loc 1 711 5 is_stmt 1 view .LVU599
 711:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1808              		.loc 1 711 26 is_stmt 0 view .LVU600
 1809 004a 4FF0FF33 		mov	r3, #-1
 1810 004e 0093     		str	r3, [sp]
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1811              		.loc 1 712 5 is_stmt 1 view .LVU601
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1812              		.loc 1 712 43 is_stmt 0 view .LVU602
ARM GAS  /tmp/ccxppnfb.s 			page 108


 1813 0050 4FEA4A23 		lsl	r3, r10, #9
 712:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1814              		.loc 1 712 26 view .LVU603
 1815 0054 0193     		str	r3, [sp, #4]
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1816              		.loc 1 713 5 is_stmt 1 view .LVU604
 713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1817              		.loc 1 713 26 is_stmt 0 view .LVU605
 1818 0056 9023     		movs	r3, #144
 1819 0058 0293     		str	r3, [sp, #8]
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1820              		.loc 1 714 5 is_stmt 1 view .LVU606
 714:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1821              		.loc 1 714 26 is_stmt 0 view .LVU607
 1822 005a 0223     		movs	r3, #2
 1823 005c 0393     		str	r3, [sp, #12]
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1824              		.loc 1 715 5 is_stmt 1 view .LVU608
 715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1825              		.loc 1 715 26 is_stmt 0 view .LVU609
 1826 005e 0023     		movs	r3, #0
 1827 0060 0493     		str	r3, [sp, #16]
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1828              		.loc 1 716 5 is_stmt 1 view .LVU610
 716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1829              		.loc 1 716 26 is_stmt 0 view .LVU611
 1830 0062 0593     		str	r3, [sp, #20]
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1831              		.loc 1 717 5 is_stmt 1 view .LVU612
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1832              		.loc 1 717 11 is_stmt 0 view .LVU613
 1833 0064 6946     		mov	r1, sp
 1834 0066 2868     		ldr	r0, [r5]
 1835              	.LVL170:
 717:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1836              		.loc 1 717 11 view .LVU614
 1837 0068 FFF7FEFF 		bl	SDMMC_ConfigData
 1838              	.LVL171:
 718:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1839              		.loc 1 718 5 is_stmt 1 view .LVU615
 1840 006c 2A68     		ldr	r2, [r5]
 1841 006e D368     		ldr	r3, [r2, #12]
 1842 0070 43F04003 		orr	r3, r3, #64
 1843 0074 D360     		str	r3, [r2, #12]
 721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1844              		.loc 1 721 5 view .LVU616
 721:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1845              		.loc 1 721 8 is_stmt 0 view .LVU617
 1846 0076 BAF1010F 		cmp	r10, #1
 1847 007a 14D9     		bls	.L129
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1848              		.loc 1 723 7 is_stmt 1 view .LVU618
 723:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1849              		.loc 1 723 20 is_stmt 0 view .LVU619
 1850 007c 0223     		movs	r3, #2
 1851 007e EB62     		str	r3, [r5, #44]
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccxppnfb.s 			page 109


 1852              		.loc 1 726 7 is_stmt 1 view .LVU620
 726:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1853              		.loc 1 726 20 is_stmt 0 view .LVU621
 1854 0080 3146     		mov	r1, r6
 1855 0082 2868     		ldr	r0, [r5]
 1856 0084 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1857              	.LVL172:
 1858              	.L130:
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1859              		.loc 1 735 5 is_stmt 1 view .LVU622
 735:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1860              		.loc 1 735 8 is_stmt 0 view .LVU623
 1861 0088 A0B9     		cbnz	r0, .L145
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 1862              		.loc 1 746 5 is_stmt 1 view .LVU624
 746:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 1863              		.loc 1 746 19 is_stmt 0 view .LVU625
 1864 008a DDF804B0 		ldr	fp, [sp, #4]
 1865              	.LVL173:
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1866              		.loc 1 747 5 is_stmt 1 view .LVU626
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1867              		.loc 1 747 11 is_stmt 0 view .LVU627
 1868 008e 38E0     		b	.L132
 1869              	.LVL174:
 1870              	.L143:
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1871              		.loc 1 686 5 is_stmt 1 view .LVU628
 686:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1872              		.loc 1 686 20 is_stmt 0 view .LVU629
 1873 0090 6B6B     		ldr	r3, [r5, #52]
 1874 0092 43F00063 		orr	r3, r3, #134217728
 1875 0096 6B63     		str	r3, [r5, #52]
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1876              		.loc 1 687 5 is_stmt 1 view .LVU630
 687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 1877              		.loc 1 687 12 is_stmt 0 view .LVU631
 1878 0098 0127     		movs	r7, #1
 1879 009a AAE0     		b	.L125
 1880              	.L144:
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1881              		.loc 1 696 7 is_stmt 1 view .LVU632
 696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1882              		.loc 1 696 22 is_stmt 0 view .LVU633
 1883 009c 6B6B     		ldr	r3, [r5, #52]
 1884 009e 43F00073 		orr	r3, r3, #33554432
 1885 00a2 6B63     		str	r3, [r5, #52]
 697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1886              		.loc 1 697 7 is_stmt 1 view .LVU634
 697:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1887              		.loc 1 697 14 is_stmt 0 view .LVU635
 1888 00a4 A5E0     		b	.L125
 1889              	.LVL175:
 1890              	.L129:
 730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 1891              		.loc 1 730 7 is_stmt 1 view .LVU636
 730:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 110


 1892              		.loc 1 730 20 is_stmt 0 view .LVU637
 1893 00a6 0123     		movs	r3, #1
 1894 00a8 EB62     		str	r3, [r5, #44]
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1895              		.loc 1 733 7 is_stmt 1 view .LVU638
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1896              		.loc 1 733 20 is_stmt 0 view .LVU639
 1897 00aa 3146     		mov	r1, r6
 1898 00ac 2868     		ldr	r0, [r5]
 1899 00ae FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1900              	.LVL176:
 733:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1901              		.loc 1 733 20 view .LVU640
 1902 00b2 E9E7     		b	.L130
 1903              	.L145:
 738:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1904              		.loc 1 738 7 is_stmt 1 view .LVU641
 1905 00b4 2B68     		ldr	r3, [r5]
 1906 00b6 514A     		ldr	r2, .L150
 1907 00b8 9A63     		str	r2, [r3, #56]
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1908              		.loc 1 739 7 view .LVU642
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1909              		.loc 1 739 22 is_stmt 0 view .LVU643
 1910 00ba 6B6B     		ldr	r3, [r5, #52]
 1911 00bc 1843     		orrs	r0, r0, r3
 1912              	.LVL177:
 739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1913              		.loc 1 739 22 view .LVU644
 1914 00be 6863     		str	r0, [r5, #52]
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1915              		.loc 1 740 7 is_stmt 1 view .LVU645
 740:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1916              		.loc 1 740 18 is_stmt 0 view .LVU646
 1917 00c0 0123     		movs	r3, #1
 1918 00c2 85F83030 		strb	r3, [r5, #48]
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1919              		.loc 1 741 7 is_stmt 1 view .LVU647
 741:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1920              		.loc 1 741 20 is_stmt 0 view .LVU648
 1921 00c6 0023     		movs	r3, #0
 1922 00c8 EB62     		str	r3, [r5, #44]
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1923              		.loc 1 742 7 is_stmt 1 view .LVU649
 742:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 1924              		.loc 1 742 14 is_stmt 0 view .LVU650
 1925 00ca 92E0     		b	.L125
 1926              	.LVL178:
 1927              	.L135:
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1928              		.loc 1 754 11 is_stmt 1 discriminator 3 view .LVU651
 754:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1929              		.loc 1 754 18 is_stmt 0 discriminator 3 view .LVU652
 1930 00cc 2868     		ldr	r0, [r5]
 1931 00ce FFF7FEFF 		bl	SDMMC_ReadFIFO
 1932              	.LVL179:
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
ARM GAS  /tmp/ccxppnfb.s 			page 111


 1933              		.loc 1 755 11 is_stmt 1 discriminator 3 view .LVU653
 755:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1934              		.loc 1 755 21 is_stmt 0 discriminator 3 view .LVU654
 1935 00d2 2070     		strb	r0, [r4]
 756:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1936              		.loc 1 756 11 is_stmt 1 discriminator 3 view .LVU655
 1937              	.LVL180:
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1938              		.loc 1 757 11 discriminator 3 view .LVU656
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1939              		.loc 1 757 23 is_stmt 0 discriminator 3 view .LVU657
 1940 00d4 C0F30723 		ubfx	r3, r0, #8, #8
 757:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1941              		.loc 1 757 21 discriminator 3 view .LVU658
 1942 00d8 6370     		strb	r3, [r4, #1]
 758:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1943              		.loc 1 758 11 is_stmt 1 discriminator 3 view .LVU659
 1944              	.LVL181:
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1945              		.loc 1 759 11 discriminator 3 view .LVU660
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1946              		.loc 1 759 23 is_stmt 0 discriminator 3 view .LVU661
 1947 00da C0F30743 		ubfx	r3, r0, #16, #8
 759:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1948              		.loc 1 759 21 discriminator 3 view .LVU662
 1949 00de A370     		strb	r3, [r4, #2]
 760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1950              		.loc 1 760 11 is_stmt 1 discriminator 3 view .LVU663
 1951              	.LVL182:
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1952              		.loc 1 761 11 discriminator 3 view .LVU664
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1953              		.loc 1 761 23 is_stmt 0 discriminator 3 view .LVU665
 1954 00e0 000E     		lsrs	r0, r0, #24
 1955              	.LVL183:
 761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1956              		.loc 1 761 21 discriminator 3 view .LVU666
 1957 00e2 E070     		strb	r0, [r4, #3]
 762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1958              		.loc 1 762 11 is_stmt 1 discriminator 3 view .LVU667
 762:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 1959              		.loc 1 762 19 is_stmt 0 discriminator 3 view .LVU668
 1960 00e4 0434     		adds	r4, r4, #4
 1961              	.LVL184:
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1962              		.loc 1 752 38 is_stmt 1 discriminator 3 view .LVU669
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1963              		.loc 1 752 43 is_stmt 0 discriminator 3 view .LVU670
 1964 00e6 0136     		adds	r6, r6, #1
 1965              	.LVL185:
 1966              	.L134:
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1967              		.loc 1 752 26 is_stmt 1 discriminator 1 view .LVU671
 752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1968              		.loc 1 752 9 is_stmt 0 discriminator 1 view .LVU672
 1969 00e8 072E     		cmp	r6, #7
 1970 00ea EFD9     		bls	.L135
ARM GAS  /tmp/ccxppnfb.s 			page 112


 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1971              		.loc 1 764 9 is_stmt 1 view .LVU673
 764:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 1972              		.loc 1 764 23 is_stmt 0 view .LVU674
 1973 00ec ABF1200B 		sub	fp, fp, #32
 1974              	.LVL186:
 1975              	.L133:
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1976              		.loc 1 767 7 is_stmt 1 view .LVU675
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1977              		.loc 1 767 13 is_stmt 0 view .LVU676
 1978 00f0 FFF7FEFF 		bl	HAL_GetTick
 1979              	.LVL187:
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1980              		.loc 1 767 27 view .LVU677
 1981 00f4 A0EB0800 		sub	r0, r0, r8
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1982              		.loc 1 767 10 view .LVU678
 1983 00f8 4845     		cmp	r0, r9
 1984 00fa 0FD2     		bcs	.L136
 767:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1985              		.loc 1 767 53 discriminator 1 view .LVU679
 1986 00fc B9F1000F 		cmp	r9, #0
 1987 0100 0CD0     		beq	.L136
 1988              	.L132:
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1989              		.loc 1 747 11 is_stmt 1 view .LVU680
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1990              		.loc 1 747 13 is_stmt 0 view .LVU681
 1991 0102 2B68     		ldr	r3, [r5]
 1992 0104 5E6B     		ldr	r6, [r3, #52]
 747:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 1993              		.loc 1 747 11 view .LVU682
 1994 0106 16F49576 		ands	r6, r6, #298
 1995 010a 15D1     		bne	.L146
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1996              		.loc 1 749 7 is_stmt 1 view .LVU683
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1997              		.loc 1 749 11 is_stmt 0 view .LVU684
 1998 010c 5B6B     		ldr	r3, [r3, #52]
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 1999              		.loc 1 749 10 view .LVU685
 2000 010e 13F4004F 		tst	r3, #32768
 2001 0112 EDD0     		beq	.L133
 749:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2002              		.loc 1 749 55 discriminator 1 view .LVU686
 2003 0114 BBF11F0F 		cmp	fp, #31
 2004 0118 EAD9     		bls	.L133
 2005 011a E5E7     		b	.L134
 2006              	.L136:
 770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 2007              		.loc 1 770 9 is_stmt 1 view .LVU687
 2008 011c 2B68     		ldr	r3, [r5]
 2009 011e 374A     		ldr	r2, .L150
 2010 0120 9A63     		str	r2, [r3, #56]
 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2011              		.loc 1 771 9 view .LVU688
ARM GAS  /tmp/ccxppnfb.s 			page 113


 771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2012              		.loc 1 771 24 is_stmt 0 view .LVU689
 2013 0122 6B6B     		ldr	r3, [r5, #52]
 2014 0124 43F00043 		orr	r3, r3, #-2147483648
 2015 0128 6B63     		str	r3, [r5, #52]
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2016              		.loc 1 772 9 is_stmt 1 view .LVU690
 772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2017              		.loc 1 772 20 is_stmt 0 view .LVU691
 2018 012a 0123     		movs	r3, #1
 2019 012c 85F83030 		strb	r3, [r5, #48]
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2020              		.loc 1 773 9 is_stmt 1 view .LVU692
 773:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2021              		.loc 1 773 22 is_stmt 0 view .LVU693
 2022 0130 0023     		movs	r3, #0
 2023 0132 EB62     		str	r3, [r5, #44]
 774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2024              		.loc 1 774 9 is_stmt 1 view .LVU694
 774:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2025              		.loc 1 774 16 is_stmt 0 view .LVU695
 2026 0134 0327     		movs	r7, #3
 2027 0136 5CE0     		b	.L125
 2028              	.L146:
 777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2029              		.loc 1 777 5 is_stmt 1 view .LVU696
 2030 0138 DA68     		ldr	r2, [r3, #12]
 2031 013a 22F04002 		bic	r2, r2, #64
 2032 013e DA60     		str	r2, [r3, #12]
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2033              		.loc 1 780 5 view .LVU697
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2034              		.loc 1 780 9 is_stmt 0 view .LVU698
 2035 0140 2868     		ldr	r0, [r5]
 2036 0142 436B     		ldr	r3, [r0, #52]
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2037              		.loc 1 780 8 view .LVU699
 2038 0144 13F4807F 		tst	r3, #256
 2039 0148 05D0     		beq	.L138
 780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2040              		.loc 1 780 52 discriminator 1 view .LVU700
 2041 014a BAF1010F 		cmp	r10, #1
 2042 014e 02D9     		bls	.L138
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2043              		.loc 1 782 7 is_stmt 1 view .LVU701
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2044              		.loc 1 782 22 is_stmt 0 view .LVU702
 2045 0150 AB6B     		ldr	r3, [r5, #56]
 782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2046              		.loc 1 782 10 view .LVU703
 2047 0152 032B     		cmp	r3, #3
 2048 0154 18D1     		bne	.L147
 2049              	.L138:
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2050              		.loc 1 799 5 is_stmt 1 view .LVU704
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2051              		.loc 1 799 9 is_stmt 0 view .LVU705
ARM GAS  /tmp/ccxppnfb.s 			page 114


 2052 0156 2B68     		ldr	r3, [r5]
 2053 0158 5A6B     		ldr	r2, [r3, #52]
 799:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2054              		.loc 1 799 8 view .LVU706
 2055 015a 12F0080F 		tst	r2, #8
 2056 015e 24D1     		bne	.L148
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2057              		.loc 1 808 10 is_stmt 1 view .LVU707
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2058              		.loc 1 808 14 is_stmt 0 view .LVU708
 2059 0160 5A6B     		ldr	r2, [r3, #52]
 808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2060              		.loc 1 808 13 view .LVU709
 2061 0162 12F0020F 		tst	r2, #2
 2062 0166 2CD1     		bne	.L149
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2063              		.loc 1 817 10 is_stmt 1 view .LVU710
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2064              		.loc 1 817 14 is_stmt 0 view .LVU711
 2065 0168 5A6B     		ldr	r2, [r3, #52]
 817:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2066              		.loc 1 817 13 view .LVU712
 2067 016a 12F0200F 		tst	r2, #32
 2068 016e 34D0     		beq	.L141
 820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 2069              		.loc 1 820 7 is_stmt 1 view .LVU713
 2070 0170 224A     		ldr	r2, .L150
 2071 0172 9A63     		str	r2, [r3, #56]
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2072              		.loc 1 821 7 view .LVU714
 821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2073              		.loc 1 821 22 is_stmt 0 view .LVU715
 2074 0174 6B6B     		ldr	r3, [r5, #52]
 2075 0176 43F02003 		orr	r3, r3, #32
 2076 017a 6B63     		str	r3, [r5, #52]
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2077              		.loc 1 822 7 is_stmt 1 view .LVU716
 822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2078              		.loc 1 822 18 is_stmt 0 view .LVU717
 2079 017c 0123     		movs	r3, #1
 2080 017e 85F83030 		strb	r3, [r5, #48]
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2081              		.loc 1 823 7 is_stmt 1 view .LVU718
 823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2082              		.loc 1 823 20 is_stmt 0 view .LVU719
 2083 0182 0023     		movs	r3, #0
 2084 0184 EB62     		str	r3, [r5, #44]
 824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2085              		.loc 1 824 7 is_stmt 1 view .LVU720
 824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2086              		.loc 1 824 14 is_stmt 0 view .LVU721
 2087 0186 34E0     		b	.L125
 2088              	.L147:
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2089              		.loc 1 785 9 is_stmt 1 view .LVU722
 785:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2090              		.loc 1 785 22 is_stmt 0 view .LVU723
ARM GAS  /tmp/ccxppnfb.s 			page 115


 2091 0188 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2092              	.LVL188:
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2093              		.loc 1 786 9 is_stmt 1 view .LVU724
 786:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2094              		.loc 1 786 12 is_stmt 0 view .LVU725
 2095 018c 0346     		mov	r3, r0
 2096 018e 0028     		cmp	r0, #0
 2097 0190 E1D0     		beq	.L138
 789:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2098              		.loc 1 789 11 is_stmt 1 view .LVU726
 2099 0192 2A68     		ldr	r2, [r5]
 2100 0194 1949     		ldr	r1, .L150
 2101 0196 9163     		str	r1, [r2, #56]
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2102              		.loc 1 790 11 view .LVU727
 790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2103              		.loc 1 790 26 is_stmt 0 view .LVU728
 2104 0198 6A6B     		ldr	r2, [r5, #52]
 2105 019a 1343     		orrs	r3, r3, r2
 2106 019c 6B63     		str	r3, [r5, #52]
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2107              		.loc 1 791 11 is_stmt 1 view .LVU729
 791:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2108              		.loc 1 791 22 is_stmt 0 view .LVU730
 2109 019e 0123     		movs	r3, #1
 2110 01a0 85F83030 		strb	r3, [r5, #48]
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2111              		.loc 1 792 11 is_stmt 1 view .LVU731
 792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2112              		.loc 1 792 24 is_stmt 0 view .LVU732
 2113 01a4 0023     		movs	r3, #0
 2114 01a6 EB62     		str	r3, [r5, #44]
 793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2115              		.loc 1 793 11 is_stmt 1 view .LVU733
 793:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2116              		.loc 1 793 18 is_stmt 0 view .LVU734
 2117 01a8 23E0     		b	.L125
 2118              	.LVL189:
 2119              	.L148:
 802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2120              		.loc 1 802 7 is_stmt 1 view .LVU735
 2121 01aa 144A     		ldr	r2, .L150
 2122 01ac 9A63     		str	r2, [r3, #56]
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2123              		.loc 1 803 7 view .LVU736
 803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2124              		.loc 1 803 22 is_stmt 0 view .LVU737
 2125 01ae 6B6B     		ldr	r3, [r5, #52]
 2126 01b0 43F00803 		orr	r3, r3, #8
 2127 01b4 6B63     		str	r3, [r5, #52]
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2128              		.loc 1 804 7 is_stmt 1 view .LVU738
 804:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2129              		.loc 1 804 18 is_stmt 0 view .LVU739
 2130 01b6 0123     		movs	r3, #1
 2131 01b8 85F83030 		strb	r3, [r5, #48]
ARM GAS  /tmp/ccxppnfb.s 			page 116


 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2132              		.loc 1 805 7 is_stmt 1 view .LVU740
 805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2133              		.loc 1 805 20 is_stmt 0 view .LVU741
 2134 01bc 0023     		movs	r3, #0
 2135 01be EB62     		str	r3, [r5, #44]
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2136              		.loc 1 806 7 is_stmt 1 view .LVU742
 806:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2137              		.loc 1 806 14 is_stmt 0 view .LVU743
 2138 01c0 17E0     		b	.L125
 2139              	.L149:
 811:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2140              		.loc 1 811 7 is_stmt 1 view .LVU744
 2141 01c2 0E4A     		ldr	r2, .L150
 2142 01c4 9A63     		str	r2, [r3, #56]
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2143              		.loc 1 812 7 view .LVU745
 812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2144              		.loc 1 812 22 is_stmt 0 view .LVU746
 2145 01c6 6B6B     		ldr	r3, [r5, #52]
 2146 01c8 43F00203 		orr	r3, r3, #2
 2147 01cc 6B63     		str	r3, [r5, #52]
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2148              		.loc 1 813 7 is_stmt 1 view .LVU747
 813:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2149              		.loc 1 813 18 is_stmt 0 view .LVU748
 2150 01ce 0123     		movs	r3, #1
 2151 01d0 85F83030 		strb	r3, [r5, #48]
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2152              		.loc 1 814 7 is_stmt 1 view .LVU749
 814:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2153              		.loc 1 814 20 is_stmt 0 view .LVU750
 2154 01d4 0023     		movs	r3, #0
 2155 01d6 EB62     		str	r3, [r5, #44]
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2156              		.loc 1 815 7 is_stmt 1 view .LVU751
 815:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2157              		.loc 1 815 14 is_stmt 0 view .LVU752
 2158 01d8 0BE0     		b	.L125
 2159              	.L141:
 829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2160              		.loc 1 829 5 is_stmt 1 view .LVU753
 832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2161              		.loc 1 832 5 view .LVU754
 2162 01da 094A     		ldr	r2, .L150+4
 2163 01dc 9A63     		str	r2, [r3, #56]
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2164              		.loc 1 834 5 view .LVU755
 834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2165              		.loc 1 834 16 is_stmt 0 view .LVU756
 2166 01de 0123     		movs	r3, #1
 2167 01e0 85F83030 		strb	r3, [r5, #48]
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2168              		.loc 1 836 5 is_stmt 1 view .LVU757
 836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2169              		.loc 1 836 12 is_stmt 0 view .LVU758
ARM GAS  /tmp/ccxppnfb.s 			page 117


 2170 01e4 0027     		movs	r7, #0
 2171 01e6 04E0     		b	.L125
 2172              	.LVL190:
 2173              	.L126:
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2174              		.loc 1 840 5 is_stmt 1 view .LVU759
 840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2175              		.loc 1 840 20 is_stmt 0 view .LVU760
 2176 01e8 6B6B     		ldr	r3, [r5, #52]
 2177 01ea 43F00053 		orr	r3, r3, #536870912
 2178 01ee 6B63     		str	r3, [r5, #52]
 841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2179              		.loc 1 841 5 is_stmt 1 view .LVU761
 841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2180              		.loc 1 841 12 is_stmt 0 view .LVU762
 2181 01f0 0127     		movs	r7, #1
 2182              	.LVL191:
 2183              	.L125:
 843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2184              		.loc 1 843 1 view .LVU763
 2185 01f2 3846     		mov	r0, r7
 2186 01f4 07B0     		add	sp, sp, #28
 2187              	.LCFI34:
 2188              		.cfi_def_cfa_offset 36
 2189              		@ sp needed
 2190 01f6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2191              	.LVL192:
 2192              	.L151:
 843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2193              		.loc 1 843 1 view .LVU764
 2194 01fa 00BF     		.align	2
 2195              	.L150:
 2196 01fc FF0FE01F 		.word	534777855
 2197 0200 3A0F0018 		.word	402657082
 2198              		.cfi_endproc
 2199              	.LFE355:
 2201              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 2202              		.align	1
 2203              		.global	HAL_SD_WriteBlocks
 2204              		.syntax unified
 2205              		.thumb
 2206              		.thumb_func
 2207              		.fpu fpv5-d16
 2209              	HAL_SD_WriteBlocks:
 2210              	.LVL193:
 2211              	.LFB356:
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2212              		.loc 1 859 1 is_stmt 1 view -0
 2213              		.cfi_startproc
 2214              		@ args = 4, pretend = 0, frame = 40
 2215              		@ frame_needed = 0, uses_anonymous_args = 0
 859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2216              		.loc 1 859 1 is_stmt 0 view .LVU766
 2217 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2218              	.LCFI35:
 2219              		.cfi_def_cfa_offset 36
 2220              		.cfi_offset 4, -36
ARM GAS  /tmp/ccxppnfb.s 			page 118


 2221              		.cfi_offset 5, -32
 2222              		.cfi_offset 6, -28
 2223              		.cfi_offset 7, -24
 2224              		.cfi_offset 8, -20
 2225              		.cfi_offset 9, -16
 2226              		.cfi_offset 10, -12
 2227              		.cfi_offset 11, -8
 2228              		.cfi_offset 14, -4
 2229 0004 8BB0     		sub	sp, sp, #44
 2230              	.LCFI36:
 2231              		.cfi_def_cfa_offset 80
 2232 0006 0546     		mov	r5, r0
 2233 0008 0C46     		mov	r4, r1
 2234 000a 1646     		mov	r6, r2
 2235 000c 9A46     		mov	r10, r3
 2236 000e DDF85090 		ldr	r9, [sp, #80]
 860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2237              		.loc 1 860 3 is_stmt 1 view .LVU767
 861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 2238              		.loc 1 861 3 view .LVU768
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 2239              		.loc 1 862 3 view .LVU769
 862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 2240              		.loc 1 862 24 is_stmt 0 view .LVU770
 2241 0012 FFF7FEFF 		bl	HAL_GetTick
 2242              	.LVL194:
 863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 2243              		.loc 1 863 3 is_stmt 1 view .LVU771
 864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 2244              		.loc 1 864 3 view .LVU772
 865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2245              		.loc 1 865 3 view .LVU773
 866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   const uint8_t *tempbuff = pData;
 2246              		.loc 1 866 3 view .LVU774
 867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2247              		.loc 1 867 3 view .LVU775
 869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2248              		.loc 1 869 3 view .LVU776
 869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2249              		.loc 1 869 6 is_stmt 0 view .LVU777
 2250 0016 002C     		cmp	r4, #0
 2251 0018 3BD0     		beq	.L172
 2252 001a 8046     		mov	r8, r0
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2253              		.loc 1 875 3 is_stmt 1 view .LVU778
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2254              		.loc 1 875 10 is_stmt 0 view .LVU779
 2255 001c 95F83070 		ldrb	r7, [r5, #48]	@ zero_extendqisi2
 2256 0020 FFB2     		uxtb	r7, r7
 875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2257              		.loc 1 875 6 view .LVU780
 2258 0022 012F     		cmp	r7, #1
 2259 0024 40F0E680 		bne	.L155
 877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2260              		.loc 1 877 5 is_stmt 1 view .LVU781
 877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2261              		.loc 1 877 20 is_stmt 0 view .LVU782
ARM GAS  /tmp/ccxppnfb.s 			page 119


 2262 0028 0023     		movs	r3, #0
 2263 002a 6B63     		str	r3, [r5, #52]
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2264              		.loc 1 879 5 is_stmt 1 view .LVU783
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2265              		.loc 1 879 14 is_stmt 0 view .LVU784
 2266 002c 06EB0A03 		add	r3, r6, r10
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2267              		.loc 1 879 46 view .LVU785
 2268 0030 2A6D     		ldr	r2, [r5, #80]
 879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2269              		.loc 1 879 8 view .LVU786
 2270 0032 9342     		cmp	r3, r2
 2271 0034 33D8     		bhi	.L173
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2272              		.loc 1 885 5 is_stmt 1 view .LVU787
 885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2273              		.loc 1 885 16 is_stmt 0 view .LVU788
 2274 0036 0323     		movs	r3, #3
 2275 0038 85F83030 		strb	r3, [r5, #48]
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2276              		.loc 1 888 5 is_stmt 1 view .LVU789
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2277              		.loc 1 888 8 is_stmt 0 view .LVU790
 2278 003c 2B68     		ldr	r3, [r5]
 888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2279              		.loc 1 888 26 view .LVU791
 2280 003e 0022     		movs	r2, #0
 2281 0040 DA62     		str	r2, [r3, #44]
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2282              		.loc 1 890 5 is_stmt 1 view .LVU792
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2283              		.loc 1 890 20 is_stmt 0 view .LVU793
 2284 0042 AB6B     		ldr	r3, [r5, #56]
 890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2285              		.loc 1 890 8 view .LVU794
 2286 0044 012B     		cmp	r3, #1
 2287 0046 00D0     		beq	.L157
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2288              		.loc 1 892 7 is_stmt 1 view .LVU795
 892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2289              		.loc 1 892 11 is_stmt 0 view .LVU796
 2290 0048 7602     		lsls	r6, r6, #9
 2291              	.LVL195:
 2292              	.L157:
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2293              		.loc 1 896 5 is_stmt 1 view .LVU797
 896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2294              		.loc 1 896 26 is_stmt 0 view .LVU798
 2295 004a 4FF0FF33 		mov	r3, #-1
 2296 004e 0493     		str	r3, [sp, #16]
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2297              		.loc 1 897 5 is_stmt 1 view .LVU799
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2298              		.loc 1 897 43 is_stmt 0 view .LVU800
 2299 0050 4FEA4A23 		lsl	r3, r10, #9
 897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
ARM GAS  /tmp/ccxppnfb.s 			page 120


 2300              		.loc 1 897 26 view .LVU801
 2301 0054 0593     		str	r3, [sp, #20]
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2302              		.loc 1 898 5 is_stmt 1 view .LVU802
 898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2303              		.loc 1 898 26 is_stmt 0 view .LVU803
 2304 0056 9023     		movs	r3, #144
 2305 0058 0693     		str	r3, [sp, #24]
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2306              		.loc 1 899 5 is_stmt 1 view .LVU804
 899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2307              		.loc 1 899 26 is_stmt 0 view .LVU805
 2308 005a 0023     		movs	r3, #0
 2309 005c 0793     		str	r3, [sp, #28]
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2310              		.loc 1 900 5 is_stmt 1 view .LVU806
 900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2311              		.loc 1 900 26 is_stmt 0 view .LVU807
 2312 005e 0893     		str	r3, [sp, #32]
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2313              		.loc 1 901 5 is_stmt 1 view .LVU808
 901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2314              		.loc 1 901 26 is_stmt 0 view .LVU809
 2315 0060 0993     		str	r3, [sp, #36]
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2316              		.loc 1 902 5 is_stmt 1 view .LVU810
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2317              		.loc 1 902 11 is_stmt 0 view .LVU811
 2318 0062 04A9     		add	r1, sp, #16
 2319 0064 2868     		ldr	r0, [r5]
 2320              	.LVL196:
 902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2321              		.loc 1 902 11 view .LVU812
 2322 0066 FFF7FEFF 		bl	SDMMC_ConfigData
 2323              	.LVL197:
 903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2324              		.loc 1 903 5 is_stmt 1 view .LVU813
 2325 006a 2A68     		ldr	r2, [r5]
 2326 006c D368     		ldr	r3, [r2, #12]
 2327 006e 43F04003 		orr	r3, r3, #64
 2328 0072 D360     		str	r3, [r2, #12]
 906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2329              		.loc 1 906 5 view .LVU814
 906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2330              		.loc 1 906 8 is_stmt 0 view .LVU815
 2331 0074 BAF1010F 		cmp	r10, #1
 2332 0078 16D9     		bls	.L158
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2333              		.loc 1 908 7 is_stmt 1 view .LVU816
 908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2334              		.loc 1 908 20 is_stmt 0 view .LVU817
 2335 007a 2023     		movs	r3, #32
 2336 007c EB62     		str	r3, [r5, #44]
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2337              		.loc 1 911 7 is_stmt 1 view .LVU818
 911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2338              		.loc 1 911 20 is_stmt 0 view .LVU819
ARM GAS  /tmp/ccxppnfb.s 			page 121


 2339 007e 3146     		mov	r1, r6
 2340 0080 2868     		ldr	r0, [r5]
 2341 0082 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2342              	.LVL198:
 2343 0086 0190     		str	r0, [sp, #4]
 2344              	.LVL199:
 2345              	.L159:
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2346              		.loc 1 920 5 is_stmt 1 view .LVU820
 920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2347              		.loc 1 920 8 is_stmt 0 view .LVU821
 2348 0088 019B     		ldr	r3, [sp, #4]
 2349 008a ABB9     		cbnz	r3, .L174
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 2350              		.loc 1 931 5 is_stmt 1 view .LVU822
 931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 2351              		.loc 1 931 19 is_stmt 0 view .LVU823
 2352 008c DDF814B0 		ldr	fp, [sp, #20]
 2353              	.LVL200:
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2354              		.loc 1 932 5 is_stmt 1 view .LVU824
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2355              		.loc 1 932 11 is_stmt 0 view .LVU825
 2356 0090 3DE0     		b	.L161
 2357              	.LVL201:
 2358              	.L172:
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2359              		.loc 1 871 5 is_stmt 1 view .LVU826
 871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2360              		.loc 1 871 20 is_stmt 0 view .LVU827
 2361 0092 6B6B     		ldr	r3, [r5, #52]
 2362 0094 43F00063 		orr	r3, r3, #134217728
 2363 0098 6B63     		str	r3, [r5, #52]
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2364              		.loc 1 872 5 is_stmt 1 view .LVU828
 872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2365              		.loc 1 872 12 is_stmt 0 view .LVU829
 2366 009a 0127     		movs	r7, #1
 2367 009c AFE0     		b	.L154
 2368              	.L173:
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2369              		.loc 1 881 7 is_stmt 1 view .LVU830
 881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2370              		.loc 1 881 22 is_stmt 0 view .LVU831
 2371 009e 6B6B     		ldr	r3, [r5, #52]
 2372 00a0 43F00073 		orr	r3, r3, #33554432
 2373 00a4 6B63     		str	r3, [r5, #52]
 882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2374              		.loc 1 882 7 is_stmt 1 view .LVU832
 882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2375              		.loc 1 882 14 is_stmt 0 view .LVU833
 2376 00a6 AAE0     		b	.L154
 2377              	.LVL202:
 2378              	.L158:
 915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2379              		.loc 1 915 7 is_stmt 1 view .LVU834
 915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 122


 2380              		.loc 1 915 20 is_stmt 0 view .LVU835
 2381 00a8 1023     		movs	r3, #16
 2382 00aa EB62     		str	r3, [r5, #44]
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2383              		.loc 1 918 7 is_stmt 1 view .LVU836
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2384              		.loc 1 918 20 is_stmt 0 view .LVU837
 2385 00ac 3146     		mov	r1, r6
 2386 00ae 2868     		ldr	r0, [r5]
 2387 00b0 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2388              	.LVL203:
 2389 00b4 0190     		str	r0, [sp, #4]
 2390              	.LVL204:
 918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2391              		.loc 1 918 20 view .LVU838
 2392 00b6 E7E7     		b	.L159
 2393              	.LVL205:
 2394              	.L174:
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2395              		.loc 1 923 7 is_stmt 1 view .LVU839
 2396 00b8 2B68     		ldr	r3, [r5]
 2397              	.LVL206:
 923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2398              		.loc 1 923 7 is_stmt 0 view .LVU840
 2399 00ba 534A     		ldr	r2, .L179
 2400 00bc 9A63     		str	r2, [r3, #56]
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2401              		.loc 1 924 7 is_stmt 1 view .LVU841
 924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2402              		.loc 1 924 22 is_stmt 0 view .LVU842
 2403 00be 686B     		ldr	r0, [r5, #52]
 2404 00c0 019B     		ldr	r3, [sp, #4]
 2405 00c2 1843     		orrs	r0, r0, r3
 2406 00c4 6863     		str	r0, [r5, #52]
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2407              		.loc 1 925 7 is_stmt 1 view .LVU843
 925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2408              		.loc 1 925 18 is_stmt 0 view .LVU844
 2409 00c6 0123     		movs	r3, #1
 2410 00c8 85F83030 		strb	r3, [r5, #48]
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2411              		.loc 1 926 7 is_stmt 1 view .LVU845
 926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2412              		.loc 1 926 20 is_stmt 0 view .LVU846
 2413 00cc 0023     		movs	r3, #0
 2414 00ce EB62     		str	r3, [r5, #44]
 927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2415              		.loc 1 927 7 is_stmt 1 view .LVU847
 927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2416              		.loc 1 927 14 is_stmt 0 view .LVU848
 2417 00d0 95E0     		b	.L154
 2418              	.LVL207:
 2419              	.L164:
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2420              		.loc 1 940 11 is_stmt 1 discriminator 3 view .LVU849
 940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2421              		.loc 1 940 29 is_stmt 0 discriminator 3 view .LVU850
ARM GAS  /tmp/ccxppnfb.s 			page 123


 2422 00d2 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 2423              		.loc 1 941 11 is_stmt 1 discriminator 3 view .LVU851
 2424              	.LVL208:
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2425              		.loc 1 942 11 discriminator 3 view .LVU852
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2426              		.loc 1 942 31 is_stmt 0 discriminator 3 view .LVU853
 2427 00d4 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2428              		.loc 1 942 16 discriminator 3 view .LVU854
 2429 00d6 43EA0223 		orr	r3, r3, r2, lsl #8
 943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 2430              		.loc 1 943 11 is_stmt 1 discriminator 3 view .LVU855
 2431              	.LVL209:
 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2432              		.loc 1 944 11 discriminator 3 view .LVU856
 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2433              		.loc 1 944 31 is_stmt 0 discriminator 3 view .LVU857
 2434 00da A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2435              		.loc 1 944 16 discriminator 3 view .LVU858
 2436 00dc 43EA0243 		orr	r3, r3, r2, lsl #16
 945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 2437              		.loc 1 945 11 is_stmt 1 discriminator 3 view .LVU859
 2438              	.LVL210:
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2439              		.loc 1 946 11 discriminator 3 view .LVU860
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2440              		.loc 1 946 31 is_stmt 0 discriminator 3 view .LVU861
 2441 00e0 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 2442              		.loc 1 946 16 discriminator 3 view .LVU862
 2443 00e2 43EA0263 		orr	r3, r3, r2, lsl #24
 2444 00e6 0393     		str	r3, [sp, #12]
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2445              		.loc 1 947 11 is_stmt 1 discriminator 3 view .LVU863
 947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 2446              		.loc 1 947 19 is_stmt 0 discriminator 3 view .LVU864
 2447 00e8 0434     		adds	r4, r4, #4
 2448              	.LVL211:
 948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2449              		.loc 1 948 11 is_stmt 1 discriminator 3 view .LVU865
 948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2450              		.loc 1 948 17 is_stmt 0 discriminator 3 view .LVU866
 2451 00ea 03A9     		add	r1, sp, #12
 2452 00ec 2868     		ldr	r0, [r5]
 2453 00ee FFF7FEFF 		bl	SDMMC_WriteFIFO
 2454              	.LVL212:
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2455              		.loc 1 938 38 is_stmt 1 discriminator 3 view .LVU867
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2456              		.loc 1 938 43 is_stmt 0 discriminator 3 view .LVU868
 2457 00f2 0136     		adds	r6, r6, #1
 2458              	.LVL213:
 2459              	.L163:
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
ARM GAS  /tmp/ccxppnfb.s 			page 124


 2460              		.loc 1 938 26 is_stmt 1 discriminator 1 view .LVU869
 938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2461              		.loc 1 938 9 is_stmt 0 discriminator 1 view .LVU870
 2462 00f4 072E     		cmp	r6, #7
 2463 00f6 ECD9     		bls	.L164
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2464              		.loc 1 950 9 is_stmt 1 view .LVU871
 950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2465              		.loc 1 950 23 is_stmt 0 view .LVU872
 2466 00f8 ABF1200B 		sub	fp, fp, #32
 2467              	.LVL214:
 2468              	.L162:
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2469              		.loc 1 953 7 is_stmt 1 view .LVU873
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2470              		.loc 1 953 13 is_stmt 0 view .LVU874
 2471 00fc FFF7FEFF 		bl	HAL_GetTick
 2472              	.LVL215:
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2473              		.loc 1 953 27 view .LVU875
 2474 0100 A0EB0800 		sub	r0, r0, r8
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2475              		.loc 1 953 10 view .LVU876
 2476 0104 4845     		cmp	r0, r9
 2477 0106 0FD2     		bcs	.L165
 953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2478              		.loc 1 953 53 discriminator 1 view .LVU877
 2479 0108 B9F1000F 		cmp	r9, #0
 2480 010c 0CD0     		beq	.L165
 2481              	.L161:
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2482              		.loc 1 932 11 is_stmt 1 view .LVU878
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2483              		.loc 1 932 13 is_stmt 0 view .LVU879
 2484 010e 2B68     		ldr	r3, [r5]
 2485 0110 5E6B     		ldr	r6, [r3, #52]
 932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 2486              		.loc 1 932 11 view .LVU880
 2487 0112 16F48D76 		ands	r6, r6, #282
 2488 0116 15D1     		bne	.L175
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2489              		.loc 1 935 7 is_stmt 1 view .LVU881
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2490              		.loc 1 935 11 is_stmt 0 view .LVU882
 2491 0118 5B6B     		ldr	r3, [r3, #52]
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2492              		.loc 1 935 10 view .LVU883
 2493 011a 13F4804F 		tst	r3, #16384
 2494 011e EDD0     		beq	.L162
 935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2495              		.loc 1 935 55 discriminator 1 view .LVU884
 2496 0120 BBF11F0F 		cmp	fp, #31
 2497 0124 EAD9     		bls	.L162
 2498 0126 E5E7     		b	.L163
 2499              	.L165:
 956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2500              		.loc 1 956 9 is_stmt 1 view .LVU885
ARM GAS  /tmp/ccxppnfb.s 			page 125


 2501 0128 2B68     		ldr	r3, [r5]
 2502 012a 374A     		ldr	r2, .L179
 2503 012c 9A63     		str	r2, [r3, #56]
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2504              		.loc 1 957 9 view .LVU886
 957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2505              		.loc 1 957 24 is_stmt 0 view .LVU887
 2506 012e 686B     		ldr	r0, [r5, #52]
 2507 0130 019B     		ldr	r3, [sp, #4]
 2508 0132 1843     		orrs	r0, r0, r3
 2509 0134 6863     		str	r0, [r5, #52]
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2510              		.loc 1 958 9 is_stmt 1 view .LVU888
 958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2511              		.loc 1 958 20 is_stmt 0 view .LVU889
 2512 0136 0123     		movs	r3, #1
 2513 0138 85F83030 		strb	r3, [r5, #48]
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2514              		.loc 1 959 9 is_stmt 1 view .LVU890
 959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 2515              		.loc 1 959 22 is_stmt 0 view .LVU891
 2516 013c 0023     		movs	r3, #0
 2517 013e EB62     		str	r3, [r5, #44]
 960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2518              		.loc 1 960 9 is_stmt 1 view .LVU892
 960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 2519              		.loc 1 960 16 is_stmt 0 view .LVU893
 2520 0140 0327     		movs	r7, #3
 2521 0142 5CE0     		b	.L154
 2522              	.L175:
 963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2523              		.loc 1 963 5 is_stmt 1 view .LVU894
 2524 0144 DA68     		ldr	r2, [r3, #12]
 2525 0146 22F04002 		bic	r2, r2, #64
 2526 014a DA60     		str	r2, [r3, #12]
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2527              		.loc 1 966 5 view .LVU895
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2528              		.loc 1 966 9 is_stmt 0 view .LVU896
 2529 014c 2868     		ldr	r0, [r5]
 2530 014e 436B     		ldr	r3, [r0, #52]
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2531              		.loc 1 966 8 view .LVU897
 2532 0150 13F4807F 		tst	r3, #256
 2533 0154 05D0     		beq	.L167
 966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2534              		.loc 1 966 52 discriminator 1 view .LVU898
 2535 0156 BAF1010F 		cmp	r10, #1
 2536 015a 02D9     		bls	.L167
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2537              		.loc 1 968 7 is_stmt 1 view .LVU899
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2538              		.loc 1 968 22 is_stmt 0 view .LVU900
 2539 015c AB6B     		ldr	r3, [r5, #56]
 968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 2540              		.loc 1 968 10 view .LVU901
 2541 015e 032B     		cmp	r3, #3
ARM GAS  /tmp/ccxppnfb.s 			page 126


 2542 0160 18D1     		bne	.L176
 2543              	.LVL216:
 2544              	.L167:
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2545              		.loc 1 985 5 is_stmt 1 view .LVU902
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2546              		.loc 1 985 9 is_stmt 0 view .LVU903
 2547 0162 2B68     		ldr	r3, [r5]
 2548 0164 5A6B     		ldr	r2, [r3, #52]
 985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2549              		.loc 1 985 8 view .LVU904
 2550 0166 12F0080F 		tst	r2, #8
 2551 016a 24D1     		bne	.L177
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2552              		.loc 1 994 10 is_stmt 1 view .LVU905
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2553              		.loc 1 994 14 is_stmt 0 view .LVU906
 2554 016c 5A6B     		ldr	r2, [r3, #52]
 994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2555              		.loc 1 994 13 view .LVU907
 2556 016e 12F0020F 		tst	r2, #2
 2557 0172 2CD1     		bne	.L178
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2558              		.loc 1 1003 10 is_stmt 1 view .LVU908
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2559              		.loc 1 1003 14 is_stmt 0 view .LVU909
 2560 0174 5A6B     		ldr	r2, [r3, #52]
1003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2561              		.loc 1 1003 13 view .LVU910
 2562 0176 12F0100F 		tst	r2, #16
 2563 017a 34D0     		beq	.L170
1006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 2564              		.loc 1 1006 7 is_stmt 1 view .LVU911
 2565 017c 224A     		ldr	r2, .L179
 2566 017e 9A63     		str	r2, [r3, #56]
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2567              		.loc 1 1007 7 view .LVU912
1007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2568              		.loc 1 1007 22 is_stmt 0 view .LVU913
 2569 0180 6B6B     		ldr	r3, [r5, #52]
 2570 0182 43F01003 		orr	r3, r3, #16
 2571 0186 6B63     		str	r3, [r5, #52]
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2572              		.loc 1 1008 7 is_stmt 1 view .LVU914
1008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2573              		.loc 1 1008 18 is_stmt 0 view .LVU915
 2574 0188 0123     		movs	r3, #1
 2575 018a 85F83030 		strb	r3, [r5, #48]
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2576              		.loc 1 1009 7 is_stmt 1 view .LVU916
1009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2577              		.loc 1 1009 20 is_stmt 0 view .LVU917
 2578 018e 0023     		movs	r3, #0
 2579 0190 EB62     		str	r3, [r5, #44]
1010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2580              		.loc 1 1010 7 is_stmt 1 view .LVU918
1010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccxppnfb.s 			page 127


 2581              		.loc 1 1010 14 is_stmt 0 view .LVU919
 2582 0192 34E0     		b	.L154
 2583              	.LVL217:
 2584              	.L176:
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2585              		.loc 1 971 9 is_stmt 1 view .LVU920
 971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 2586              		.loc 1 971 22 is_stmt 0 view .LVU921
 2587 0194 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2588              	.LVL218:
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2589              		.loc 1 972 9 is_stmt 1 view .LVU922
 972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 2590              		.loc 1 972 12 is_stmt 0 view .LVU923
 2591 0198 0346     		mov	r3, r0
 2592 019a 0028     		cmp	r0, #0
 2593 019c E1D0     		beq	.L167
 975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2594              		.loc 1 975 11 is_stmt 1 view .LVU924
 2595 019e 2A68     		ldr	r2, [r5]
 2596 01a0 1949     		ldr	r1, .L179
 2597 01a2 9163     		str	r1, [r2, #56]
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2598              		.loc 1 976 11 view .LVU925
 976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2599              		.loc 1 976 26 is_stmt 0 view .LVU926
 2600 01a4 6A6B     		ldr	r2, [r5, #52]
 2601 01a6 1343     		orrs	r3, r3, r2
 2602 01a8 6B63     		str	r3, [r5, #52]
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2603              		.loc 1 977 11 is_stmt 1 view .LVU927
 977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2604              		.loc 1 977 22 is_stmt 0 view .LVU928
 2605 01aa 0123     		movs	r3, #1
 2606 01ac 85F83030 		strb	r3, [r5, #48]
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2607              		.loc 1 978 11 is_stmt 1 view .LVU929
 978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 2608              		.loc 1 978 24 is_stmt 0 view .LVU930
 2609 01b0 0023     		movs	r3, #0
 2610 01b2 EB62     		str	r3, [r5, #44]
 979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2611              		.loc 1 979 11 is_stmt 1 view .LVU931
 979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 2612              		.loc 1 979 18 is_stmt 0 view .LVU932
 2613 01b4 23E0     		b	.L154
 2614              	.LVL219:
 2615              	.L177:
 988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2616              		.loc 1 988 7 is_stmt 1 view .LVU933
 2617 01b6 144A     		ldr	r2, .L179
 2618 01b8 9A63     		str	r2, [r3, #56]
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2619              		.loc 1 989 7 view .LVU934
 989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2620              		.loc 1 989 22 is_stmt 0 view .LVU935
 2621 01ba 6B6B     		ldr	r3, [r5, #52]
ARM GAS  /tmp/ccxppnfb.s 			page 128


 2622 01bc 43F00803 		orr	r3, r3, #8
 2623 01c0 6B63     		str	r3, [r5, #52]
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2624              		.loc 1 990 7 is_stmt 1 view .LVU936
 990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2625              		.loc 1 990 18 is_stmt 0 view .LVU937
 2626 01c2 0123     		movs	r3, #1
 2627 01c4 85F83030 		strb	r3, [r5, #48]
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2628              		.loc 1 991 7 is_stmt 1 view .LVU938
 991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2629              		.loc 1 991 20 is_stmt 0 view .LVU939
 2630 01c8 0023     		movs	r3, #0
 2631 01ca EB62     		str	r3, [r5, #44]
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2632              		.loc 1 992 7 is_stmt 1 view .LVU940
 992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2633              		.loc 1 992 14 is_stmt 0 view .LVU941
 2634 01cc 17E0     		b	.L154
 2635              	.L178:
 997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2636              		.loc 1 997 7 is_stmt 1 view .LVU942
 2637 01ce 0E4A     		ldr	r2, .L179
 2638 01d0 9A63     		str	r2, [r3, #56]
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2639              		.loc 1 998 7 view .LVU943
 998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2640              		.loc 1 998 22 is_stmt 0 view .LVU944
 2641 01d2 6B6B     		ldr	r3, [r5, #52]
 2642 01d4 43F00203 		orr	r3, r3, #2
 2643 01d8 6B63     		str	r3, [r5, #52]
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2644              		.loc 1 999 7 is_stmt 1 view .LVU945
 999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2645              		.loc 1 999 18 is_stmt 0 view .LVU946
 2646 01da 0123     		movs	r3, #1
 2647 01dc 85F83030 		strb	r3, [r5, #48]
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2648              		.loc 1 1000 7 is_stmt 1 view .LVU947
1000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2649              		.loc 1 1000 20 is_stmt 0 view .LVU948
 2650 01e0 0023     		movs	r3, #0
 2651 01e2 EB62     		str	r3, [r5, #44]
1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2652              		.loc 1 1001 7 is_stmt 1 view .LVU949
1001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2653              		.loc 1 1001 14 is_stmt 0 view .LVU950
 2654 01e4 0BE0     		b	.L154
 2655              	.L170:
1015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2656              		.loc 1 1015 5 is_stmt 1 view .LVU951
1018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2657              		.loc 1 1018 5 view .LVU952
 2658 01e6 094A     		ldr	r2, .L179+4
 2659 01e8 9A63     		str	r2, [r3, #56]
1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2660              		.loc 1 1020 5 view .LVU953
ARM GAS  /tmp/ccxppnfb.s 			page 129


1020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2661              		.loc 1 1020 16 is_stmt 0 view .LVU954
 2662 01ea 0123     		movs	r3, #1
 2663 01ec 85F83030 		strb	r3, [r5, #48]
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2664              		.loc 1 1022 5 is_stmt 1 view .LVU955
1022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2665              		.loc 1 1022 12 is_stmt 0 view .LVU956
 2666 01f0 0027     		movs	r7, #0
 2667 01f2 04E0     		b	.L154
 2668              	.LVL220:
 2669              	.L155:
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2670              		.loc 1 1026 5 is_stmt 1 view .LVU957
1026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2671              		.loc 1 1026 20 is_stmt 0 view .LVU958
 2672 01f4 6B6B     		ldr	r3, [r5, #52]
 2673 01f6 43F00053 		orr	r3, r3, #536870912
 2674 01fa 6B63     		str	r3, [r5, #52]
1027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2675              		.loc 1 1027 5 is_stmt 1 view .LVU959
1027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2676              		.loc 1 1027 12 is_stmt 0 view .LVU960
 2677 01fc 0127     		movs	r7, #1
 2678              	.LVL221:
 2679              	.L154:
1029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2680              		.loc 1 1029 1 view .LVU961
 2681 01fe 3846     		mov	r0, r7
 2682 0200 0BB0     		add	sp, sp, #44
 2683              	.LCFI37:
 2684              		.cfi_def_cfa_offset 36
 2685              		@ sp needed
 2686 0202 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2687              	.LVL222:
 2688              	.L180:
1029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2689              		.loc 1 1029 1 view .LVU962
 2690 0206 00BF     		.align	2
 2691              	.L179:
 2692 0208 FF0FE01F 		.word	534777855
 2693 020c 3A0F0018 		.word	402657082
 2694              		.cfi_endproc
 2695              	.LFE356:
 2697              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 2698              		.align	1
 2699              		.global	HAL_SD_ReadBlocks_IT
 2700              		.syntax unified
 2701              		.thumb
 2702              		.thumb_func
 2703              		.fpu fpv5-d16
 2705              	HAL_SD_ReadBlocks_IT:
 2706              	.LVL223:
 2707              	.LFB357:
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2708              		.loc 1 1046 1 is_stmt 1 view -0
 2709              		.cfi_startproc
ARM GAS  /tmp/ccxppnfb.s 			page 130


 2710              		@ args = 0, pretend = 0, frame = 24
 2711              		@ frame_needed = 0, uses_anonymous_args = 0
1046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2712              		.loc 1 1046 1 is_stmt 0 view .LVU964
 2713 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2714              	.LCFI38:
 2715              		.cfi_def_cfa_offset 20
 2716              		.cfi_offset 4, -20
 2717              		.cfi_offset 5, -16
 2718              		.cfi_offset 6, -12
 2719              		.cfi_offset 7, -8
 2720              		.cfi_offset 14, -4
 2721 0002 87B0     		sub	sp, sp, #28
 2722              	.LCFI39:
 2723              		.cfi_def_cfa_offset 48
 2724 0004 0446     		mov	r4, r0
1047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2725              		.loc 1 1047 3 is_stmt 1 view .LVU965
1048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2726              		.loc 1 1048 3 view .LVU966
1049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2727              		.loc 1 1049 3 view .LVU967
 2728              	.LVL224:
1051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2729              		.loc 1 1051 3 view .LVU968
1051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2730              		.loc 1 1051 6 is_stmt 0 view .LVU969
 2731 0006 0029     		cmp	r1, #0
 2732 0008 43D0     		beq	.L191
 2733 000a 1646     		mov	r6, r2
 2734 000c 1F46     		mov	r7, r3
 2735 000e 0A46     		mov	r2, r1
 2736              	.LVL225:
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2737              		.loc 1 1057 3 is_stmt 1 view .LVU970
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2738              		.loc 1 1057 10 is_stmt 0 view .LVU971
 2739 0010 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 2740 0014 EDB2     		uxtb	r5, r5
1057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2741              		.loc 1 1057 6 view .LVU972
 2742 0016 012D     		cmp	r5, #1
 2743 0018 55D1     		bne	.L189
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2744              		.loc 1 1059 5 is_stmt 1 view .LVU973
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2745              		.loc 1 1059 20 is_stmt 0 view .LVU974
 2746 001a 0023     		movs	r3, #0
 2747              	.LVL226:
1059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2748              		.loc 1 1059 20 view .LVU975
 2749 001c 4363     		str	r3, [r0, #52]
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2750              		.loc 1 1061 5 is_stmt 1 view .LVU976
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2751              		.loc 1 1061 14 is_stmt 0 view .LVU977
 2752 001e F319     		adds	r3, r6, r7
ARM GAS  /tmp/ccxppnfb.s 			page 131


1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2753              		.loc 1 1061 46 view .LVU978
 2754 0020 016D     		ldr	r1, [r0, #80]
 2755              	.LVL227:
1061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2756              		.loc 1 1061 8 view .LVU979
 2757 0022 8B42     		cmp	r3, r1
 2758 0024 3BD8     		bhi	.L192
1067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2759              		.loc 1 1067 5 is_stmt 1 view .LVU980
1067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2760              		.loc 1 1067 16 is_stmt 0 view .LVU981
 2761 0026 0323     		movs	r3, #3
 2762 0028 80F83030 		strb	r3, [r0, #48]
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2763              		.loc 1 1070 5 is_stmt 1 view .LVU982
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2764              		.loc 1 1070 8 is_stmt 0 view .LVU983
 2765 002c 0368     		ldr	r3, [r0]
1070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2766              		.loc 1 1070 26 view .LVU984
 2767 002e 0021     		movs	r1, #0
 2768 0030 D962     		str	r1, [r3, #44]
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2769              		.loc 1 1072 5 is_stmt 1 view .LVU985
1072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2770              		.loc 1 1072 21 is_stmt 0 view .LVU986
 2771 0032 4262     		str	r2, [r0, #36]
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2772              		.loc 1 1073 5 is_stmt 1 view .LVU987
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2773              		.loc 1 1073 33 is_stmt 0 view .LVU988
 2774 0034 7B02     		lsls	r3, r7, #9
1073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2775              		.loc 1 1073 21 view .LVU989
 2776 0036 8362     		str	r3, [r0, #40]
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2777              		.loc 1 1075 5 is_stmt 1 view .LVU990
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2778              		.loc 1 1075 20 is_stmt 0 view .LVU991
 2779 0038 826B     		ldr	r2, [r0, #56]
 2780              	.LVL228:
1075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2781              		.loc 1 1075 8 view .LVU992
 2782 003a 012A     		cmp	r2, #1
 2783 003c 00D0     		beq	.L185
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2784              		.loc 1 1077 7 is_stmt 1 view .LVU993
1077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2785              		.loc 1 1077 11 is_stmt 0 view .LVU994
 2786 003e 7602     		lsls	r6, r6, #9
 2787              	.LVL229:
 2788              	.L185:
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2789              		.loc 1 1081 5 is_stmt 1 view .LVU995
1081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2790              		.loc 1 1081 26 is_stmt 0 view .LVU996
ARM GAS  /tmp/ccxppnfb.s 			page 132


 2791 0040 4FF0FF32 		mov	r2, #-1
 2792 0044 0092     		str	r2, [sp]
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2793              		.loc 1 1082 5 is_stmt 1 view .LVU997
1082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2794              		.loc 1 1082 26 is_stmt 0 view .LVU998
 2795 0046 0193     		str	r3, [sp, #4]
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2796              		.loc 1 1083 5 is_stmt 1 view .LVU999
1083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2797              		.loc 1 1083 26 is_stmt 0 view .LVU1000
 2798 0048 9023     		movs	r3, #144
 2799 004a 0293     		str	r3, [sp, #8]
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2800              		.loc 1 1084 5 is_stmt 1 view .LVU1001
1084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2801              		.loc 1 1084 26 is_stmt 0 view .LVU1002
 2802 004c 0223     		movs	r3, #2
 2803 004e 0393     		str	r3, [sp, #12]
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2804              		.loc 1 1085 5 is_stmt 1 view .LVU1003
1085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2805              		.loc 1 1085 26 is_stmt 0 view .LVU1004
 2806 0050 0023     		movs	r3, #0
 2807 0052 0493     		str	r3, [sp, #16]
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2808              		.loc 1 1086 5 is_stmt 1 view .LVU1005
1086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2809              		.loc 1 1086 26 is_stmt 0 view .LVU1006
 2810 0054 0593     		str	r3, [sp, #20]
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2811              		.loc 1 1087 5 is_stmt 1 view .LVU1007
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2812              		.loc 1 1087 11 is_stmt 0 view .LVU1008
 2813 0056 6946     		mov	r1, sp
 2814 0058 2068     		ldr	r0, [r4]
 2815              	.LVL230:
1087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2816              		.loc 1 1087 11 view .LVU1009
 2817 005a FFF7FEFF 		bl	SDMMC_ConfigData
 2818              	.LVL231:
1088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2819              		.loc 1 1088 5 is_stmt 1 view .LVU1010
 2820 005e 2268     		ldr	r2, [r4]
 2821 0060 D368     		ldr	r3, [r2, #12]
 2822 0062 43F04003 		orr	r3, r3, #64
 2823 0066 D360     		str	r3, [r2, #12]
1091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2824              		.loc 1 1091 5 view .LVU1011
1091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2825              		.loc 1 1091 8 is_stmt 0 view .LVU1012
 2826 0068 012F     		cmp	r7, #1
 2827 006a 1DD9     		bls	.L186
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2828              		.loc 1 1093 7 is_stmt 1 view .LVU1013
1093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2829              		.loc 1 1093 20 is_stmt 0 view .LVU1014
ARM GAS  /tmp/ccxppnfb.s 			page 133


 2830 006c 0A23     		movs	r3, #10
 2831 006e E362     		str	r3, [r4, #44]
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2832              		.loc 1 1096 7 is_stmt 1 view .LVU1015
1096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2833              		.loc 1 1096 20 is_stmt 0 view .LVU1016
 2834 0070 3146     		mov	r1, r6
 2835 0072 2068     		ldr	r0, [r4]
 2836 0074 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2837              	.LVL232:
 2838              	.L187:
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2839              		.loc 1 1105 5 is_stmt 1 view .LVU1017
1105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2840              		.loc 1 1105 8 is_stmt 0 view .LVU1018
 2841 0078 E8B1     		cbz	r0, .L188
1108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2842              		.loc 1 1108 7 is_stmt 1 view .LVU1019
 2843 007a 2368     		ldr	r3, [r4]
 2844 007c 144A     		ldr	r2, .L193
 2845 007e 9A63     		str	r2, [r3, #56]
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2846              		.loc 1 1109 7 view .LVU1020
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2847              		.loc 1 1109 22 is_stmt 0 view .LVU1021
 2848 0080 636B     		ldr	r3, [r4, #52]
 2849 0082 1843     		orrs	r0, r0, r3
 2850              	.LVL233:
1109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2851              		.loc 1 1109 22 view .LVU1022
 2852 0084 6063     		str	r0, [r4, #52]
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2853              		.loc 1 1110 7 is_stmt 1 view .LVU1023
1110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2854              		.loc 1 1110 18 is_stmt 0 view .LVU1024
 2855 0086 0123     		movs	r3, #1
 2856 0088 84F83030 		strb	r3, [r4, #48]
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2857              		.loc 1 1111 7 is_stmt 1 view .LVU1025
1111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2858              		.loc 1 1111 20 is_stmt 0 view .LVU1026
 2859 008c 0023     		movs	r3, #0
 2860 008e E362     		str	r3, [r4, #44]
1112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2861              		.loc 1 1112 7 is_stmt 1 view .LVU1027
1112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2862              		.loc 1 1112 14 is_stmt 0 view .LVU1028
 2863 0090 1AE0     		b	.L183
 2864              	.LVL234:
 2865              	.L191:
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2866              		.loc 1 1053 5 is_stmt 1 view .LVU1029
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2867              		.loc 1 1053 20 is_stmt 0 view .LVU1030
 2868 0092 436B     		ldr	r3, [r0, #52]
 2869              	.LVL235:
1053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
ARM GAS  /tmp/ccxppnfb.s 			page 134


 2870              		.loc 1 1053 20 view .LVU1031
 2871 0094 43F00063 		orr	r3, r3, #134217728
 2872 0098 4363     		str	r3, [r0, #52]
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2873              		.loc 1 1054 5 is_stmt 1 view .LVU1032
1054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2874              		.loc 1 1054 12 is_stmt 0 view .LVU1033
 2875 009a 0125     		movs	r5, #1
 2876 009c 14E0     		b	.L183
 2877              	.LVL236:
 2878              	.L192:
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2879              		.loc 1 1063 7 is_stmt 1 view .LVU1034
1063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2880              		.loc 1 1063 22 is_stmt 0 view .LVU1035
 2881 009e 436B     		ldr	r3, [r0, #52]
 2882 00a0 43F00073 		orr	r3, r3, #33554432
 2883 00a4 4363     		str	r3, [r0, #52]
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2884              		.loc 1 1064 7 is_stmt 1 view .LVU1036
1064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2885              		.loc 1 1064 14 is_stmt 0 view .LVU1037
 2886 00a6 0FE0     		b	.L183
 2887              	.LVL237:
 2888              	.L186:
1100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2889              		.loc 1 1100 7 is_stmt 1 view .LVU1038
1100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2890              		.loc 1 1100 20 is_stmt 0 view .LVU1039
 2891 00a8 0923     		movs	r3, #9
 2892 00aa E362     		str	r3, [r4, #44]
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2893              		.loc 1 1103 7 is_stmt 1 view .LVU1040
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2894              		.loc 1 1103 20 is_stmt 0 view .LVU1041
 2895 00ac 3146     		mov	r1, r6
 2896 00ae 2068     		ldr	r0, [r4]
 2897 00b0 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2898              	.LVL238:
1103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 2899              		.loc 1 1103 20 view .LVU1042
 2900 00b4 E0E7     		b	.L187
 2901              	.L188:
1115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
 2902              		.loc 1 1115 5 is_stmt 1 view .LVU1043
 2903 00b6 2268     		ldr	r2, [r4]
 2904 00b8 D16B     		ldr	r1, [r2, #60]
 2905 00ba 48F22A13 		movw	r3, #33066
 2906 00be 0B43     		orrs	r3, r3, r1
 2907 00c0 D363     		str	r3, [r2, #60]
1118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2908              		.loc 1 1118 5 view .LVU1044
1118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2909              		.loc 1 1118 12 is_stmt 0 view .LVU1045
 2910 00c2 0025     		movs	r5, #0
 2911 00c4 00E0     		b	.L183
 2912              	.LVL239:
ARM GAS  /tmp/ccxppnfb.s 			page 135


 2913              	.L189:
1122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 2914              		.loc 1 1122 12 view .LVU1046
 2915 00c6 0225     		movs	r5, #2
 2916              	.LVL240:
 2917              	.L183:
1124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2918              		.loc 1 1124 1 view .LVU1047
 2919 00c8 2846     		mov	r0, r5
 2920 00ca 07B0     		add	sp, sp, #28
 2921              	.LCFI40:
 2922              		.cfi_def_cfa_offset 20
 2923              		@ sp needed
 2924 00cc F0BD     		pop	{r4, r5, r6, r7, pc}
 2925              	.LVL241:
 2926              	.L194:
1124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2927              		.loc 1 1124 1 view .LVU1048
 2928 00ce 00BF     		.align	2
 2929              	.L193:
 2930 00d0 FF0FE01F 		.word	534777855
 2931              		.cfi_endproc
 2932              	.LFE357:
 2934              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 2935              		.align	1
 2936              		.global	HAL_SD_WriteBlocks_IT
 2937              		.syntax unified
 2938              		.thumb
 2939              		.thumb_func
 2940              		.fpu fpv5-d16
 2942              	HAL_SD_WriteBlocks_IT:
 2943              	.LVL242:
 2944              	.LFB358:
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2945              		.loc 1 1141 1 is_stmt 1 view -0
 2946              		.cfi_startproc
 2947              		@ args = 0, pretend = 0, frame = 24
 2948              		@ frame_needed = 0, uses_anonymous_args = 0
1141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 2949              		.loc 1 1141 1 is_stmt 0 view .LVU1050
 2950 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2951              	.LCFI41:
 2952              		.cfi_def_cfa_offset 20
 2953              		.cfi_offset 4, -20
 2954              		.cfi_offset 5, -16
 2955              		.cfi_offset 6, -12
 2956              		.cfi_offset 7, -8
 2957              		.cfi_offset 14, -4
 2958 0002 87B0     		sub	sp, sp, #28
 2959              	.LCFI42:
 2960              		.cfi_def_cfa_offset 48
 2961 0004 0446     		mov	r4, r0
1142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 2962              		.loc 1 1142 3 is_stmt 1 view .LVU1051
1143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2963              		.loc 1 1143 3 view .LVU1052
1144:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 136


 2964              		.loc 1 1144 3 view .LVU1053
 2965              	.LVL243:
1146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2966              		.loc 1 1146 3 view .LVU1054
1146:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2967              		.loc 1 1146 6 is_stmt 0 view .LVU1055
 2968 0006 0029     		cmp	r1, #0
 2969 0008 42D0     		beq	.L205
 2970 000a 1646     		mov	r6, r2
 2971 000c 1F46     		mov	r7, r3
 2972 000e 0A46     		mov	r2, r1
 2973              	.LVL244:
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2974              		.loc 1 1152 3 is_stmt 1 view .LVU1056
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2975              		.loc 1 1152 10 is_stmt 0 view .LVU1057
 2976 0010 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 2977 0014 EDB2     		uxtb	r5, r5
1152:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 2978              		.loc 1 1152 6 view .LVU1058
 2979 0016 012D     		cmp	r5, #1
 2980 0018 54D1     		bne	.L203
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2981              		.loc 1 1154 5 is_stmt 1 view .LVU1059
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2982              		.loc 1 1154 20 is_stmt 0 view .LVU1060
 2983 001a 0023     		movs	r3, #0
 2984              	.LVL245:
1154:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2985              		.loc 1 1154 20 view .LVU1061
 2986 001c 4363     		str	r3, [r0, #52]
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2987              		.loc 1 1156 5 is_stmt 1 view .LVU1062
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2988              		.loc 1 1156 14 is_stmt 0 view .LVU1063
 2989 001e F319     		adds	r3, r6, r7
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2990              		.loc 1 1156 46 view .LVU1064
 2991 0020 016D     		ldr	r1, [r0, #80]
 2992              	.LVL246:
1156:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 2993              		.loc 1 1156 8 view .LVU1065
 2994 0022 8B42     		cmp	r3, r1
 2995 0024 3AD8     		bhi	.L206
1162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2996              		.loc 1 1162 5 is_stmt 1 view .LVU1066
1162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 2997              		.loc 1 1162 16 is_stmt 0 view .LVU1067
 2998 0026 0323     		movs	r3, #3
 2999 0028 80F83030 		strb	r3, [r0, #48]
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3000              		.loc 1 1165 5 is_stmt 1 view .LVU1068
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3001              		.loc 1 1165 8 is_stmt 0 view .LVU1069
 3002 002c 0368     		ldr	r3, [r0]
1165:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3003              		.loc 1 1165 26 view .LVU1070
ARM GAS  /tmp/ccxppnfb.s 			page 137


 3004 002e 0021     		movs	r1, #0
 3005 0030 D962     		str	r1, [r3, #44]
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3006              		.loc 1 1167 5 is_stmt 1 view .LVU1071
1167:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3007              		.loc 1 1167 21 is_stmt 0 view .LVU1072
 3008 0032 C261     		str	r2, [r0, #28]
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3009              		.loc 1 1168 5 is_stmt 1 view .LVU1073
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3010              		.loc 1 1168 33 is_stmt 0 view .LVU1074
 3011 0034 7B02     		lsls	r3, r7, #9
1168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3012              		.loc 1 1168 21 view .LVU1075
 3013 0036 0362     		str	r3, [r0, #32]
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3014              		.loc 1 1170 5 is_stmt 1 view .LVU1076
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3015              		.loc 1 1170 20 is_stmt 0 view .LVU1077
 3016 0038 826B     		ldr	r2, [r0, #56]
 3017              	.LVL247:
1170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3018              		.loc 1 1170 8 view .LVU1078
 3019 003a 012A     		cmp	r2, #1
 3020 003c 00D0     		beq	.L199
1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3021              		.loc 1 1172 7 is_stmt 1 view .LVU1079
1172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3022              		.loc 1 1172 11 is_stmt 0 view .LVU1080
 3023 003e 7602     		lsls	r6, r6, #9
 3024              	.LVL248:
 3025              	.L199:
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3026              		.loc 1 1176 5 is_stmt 1 view .LVU1081
1176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3027              		.loc 1 1176 26 is_stmt 0 view .LVU1082
 3028 0040 4FF0FF32 		mov	r2, #-1
 3029 0044 0092     		str	r2, [sp]
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3030              		.loc 1 1177 5 is_stmt 1 view .LVU1083
1177:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3031              		.loc 1 1177 26 is_stmt 0 view .LVU1084
 3032 0046 0193     		str	r3, [sp, #4]
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3033              		.loc 1 1178 5 is_stmt 1 view .LVU1085
1178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3034              		.loc 1 1178 26 is_stmt 0 view .LVU1086
 3035 0048 9023     		movs	r3, #144
 3036 004a 0293     		str	r3, [sp, #8]
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3037              		.loc 1 1179 5 is_stmt 1 view .LVU1087
1179:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3038              		.loc 1 1179 26 is_stmt 0 view .LVU1088
 3039 004c 0023     		movs	r3, #0
 3040 004e 0393     		str	r3, [sp, #12]
1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3041              		.loc 1 1180 5 is_stmt 1 view .LVU1089
ARM GAS  /tmp/ccxppnfb.s 			page 138


1180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3042              		.loc 1 1180 26 is_stmt 0 view .LVU1090
 3043 0050 0493     		str	r3, [sp, #16]
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3044              		.loc 1 1181 5 is_stmt 1 view .LVU1091
1181:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3045              		.loc 1 1181 26 is_stmt 0 view .LVU1092
 3046 0052 0593     		str	r3, [sp, #20]
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3047              		.loc 1 1182 5 is_stmt 1 view .LVU1093
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3048              		.loc 1 1182 11 is_stmt 0 view .LVU1094
 3049 0054 6946     		mov	r1, sp
 3050 0056 2068     		ldr	r0, [r4]
 3051              	.LVL249:
1182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3052              		.loc 1 1182 11 view .LVU1095
 3053 0058 FFF7FEFF 		bl	SDMMC_ConfigData
 3054              	.LVL250:
1184:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3055              		.loc 1 1184 5 is_stmt 1 view .LVU1096
 3056 005c 2268     		ldr	r2, [r4]
 3057 005e D368     		ldr	r3, [r2, #12]
 3058 0060 43F04003 		orr	r3, r3, #64
 3059 0064 D360     		str	r3, [r2, #12]
1187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3060              		.loc 1 1187 5 view .LVU1097
1187:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3061              		.loc 1 1187 8 is_stmt 0 view .LVU1098
 3062 0066 012F     		cmp	r7, #1
 3063 0068 1DD9     		bls	.L200
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3064              		.loc 1 1189 7 is_stmt 1 view .LVU1099
1189:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3065              		.loc 1 1189 20 is_stmt 0 view .LVU1100
 3066 006a 2823     		movs	r3, #40
 3067 006c E362     		str	r3, [r4, #44]
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3068              		.loc 1 1192 7 is_stmt 1 view .LVU1101
1192:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3069              		.loc 1 1192 20 is_stmt 0 view .LVU1102
 3070 006e 3146     		mov	r1, r6
 3071 0070 2068     		ldr	r0, [r4]
 3072 0072 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3073              	.LVL251:
 3074              	.L201:
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3075              		.loc 1 1201 5 is_stmt 1 view .LVU1103
1201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3076              		.loc 1 1201 8 is_stmt 0 view .LVU1104
 3077 0076 E8B1     		cbz	r0, .L202
1204:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3078              		.loc 1 1204 7 is_stmt 1 view .LVU1105
 3079 0078 2368     		ldr	r3, [r4]
 3080 007a 144A     		ldr	r2, .L207
 3081 007c 9A63     		str	r2, [r3, #56]
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
ARM GAS  /tmp/ccxppnfb.s 			page 139


 3082              		.loc 1 1205 7 view .LVU1106
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3083              		.loc 1 1205 22 is_stmt 0 view .LVU1107
 3084 007e 636B     		ldr	r3, [r4, #52]
 3085 0080 1843     		orrs	r0, r0, r3
 3086              	.LVL252:
1205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3087              		.loc 1 1205 22 view .LVU1108
 3088 0082 6063     		str	r0, [r4, #52]
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3089              		.loc 1 1206 7 is_stmt 1 view .LVU1109
1206:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3090              		.loc 1 1206 18 is_stmt 0 view .LVU1110
 3091 0084 0123     		movs	r3, #1
 3092 0086 84F83030 		strb	r3, [r4, #48]
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3093              		.loc 1 1207 7 is_stmt 1 view .LVU1111
1207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3094              		.loc 1 1207 20 is_stmt 0 view .LVU1112
 3095 008a 0023     		movs	r3, #0
 3096 008c E362     		str	r3, [r4, #44]
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3097              		.loc 1 1208 7 is_stmt 1 view .LVU1113
1208:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3098              		.loc 1 1208 14 is_stmt 0 view .LVU1114
 3099 008e 1AE0     		b	.L197
 3100              	.LVL253:
 3101              	.L205:
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3102              		.loc 1 1148 5 is_stmt 1 view .LVU1115
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3103              		.loc 1 1148 20 is_stmt 0 view .LVU1116
 3104 0090 436B     		ldr	r3, [r0, #52]
 3105              	.LVL254:
1148:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3106              		.loc 1 1148 20 view .LVU1117
 3107 0092 43F00063 		orr	r3, r3, #134217728
 3108 0096 4363     		str	r3, [r0, #52]
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3109              		.loc 1 1149 5 is_stmt 1 view .LVU1118
1149:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3110              		.loc 1 1149 12 is_stmt 0 view .LVU1119
 3111 0098 0125     		movs	r5, #1
 3112 009a 14E0     		b	.L197
 3113              	.LVL255:
 3114              	.L206:
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3115              		.loc 1 1158 7 is_stmt 1 view .LVU1120
1158:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3116              		.loc 1 1158 22 is_stmt 0 view .LVU1121
 3117 009c 436B     		ldr	r3, [r0, #52]
 3118 009e 43F00073 		orr	r3, r3, #33554432
 3119 00a2 4363     		str	r3, [r0, #52]
1159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3120              		.loc 1 1159 7 is_stmt 1 view .LVU1122
1159:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3121              		.loc 1 1159 14 is_stmt 0 view .LVU1123
ARM GAS  /tmp/ccxppnfb.s 			page 140


 3122 00a4 0FE0     		b	.L197
 3123              	.LVL256:
 3124              	.L200:
1196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3125              		.loc 1 1196 7 is_stmt 1 view .LVU1124
1196:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3126              		.loc 1 1196 20 is_stmt 0 view .LVU1125
 3127 00a6 1823     		movs	r3, #24
 3128 00a8 E362     		str	r3, [r4, #44]
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3129              		.loc 1 1199 7 is_stmt 1 view .LVU1126
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3130              		.loc 1 1199 20 is_stmt 0 view .LVU1127
 3131 00aa 3146     		mov	r1, r6
 3132 00ac 2068     		ldr	r0, [r4]
 3133 00ae FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3134              	.LVL257:
1199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3135              		.loc 1 1199 20 view .LVU1128
 3136 00b2 E0E7     		b	.L201
 3137              	.L202:
1212:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
 3138              		.loc 1 1212 5 is_stmt 1 view .LVU1129
 3139 00b4 2268     		ldr	r2, [r4]
 3140 00b6 D16B     		ldr	r1, [r2, #60]
 3141 00b8 44F21A13 		movw	r3, #16666
 3142 00bc 0B43     		orrs	r3, r3, r1
 3143 00be D363     		str	r3, [r2, #60]
1215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3144              		.loc 1 1215 5 view .LVU1130
1215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3145              		.loc 1 1215 12 is_stmt 0 view .LVU1131
 3146 00c0 0025     		movs	r5, #0
 3147 00c2 00E0     		b	.L197
 3148              	.LVL258:
 3149              	.L203:
1219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3150              		.loc 1 1219 12 view .LVU1132
 3151 00c4 0225     		movs	r5, #2
 3152              	.LVL259:
 3153              	.L197:
1221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3154              		.loc 1 1221 1 view .LVU1133
 3155 00c6 2846     		mov	r0, r5
 3156 00c8 07B0     		add	sp, sp, #28
 3157              	.LCFI43:
 3158              		.cfi_def_cfa_offset 20
 3159              		@ sp needed
 3160 00ca F0BD     		pop	{r4, r5, r6, r7, pc}
 3161              	.LVL260:
 3162              	.L208:
1221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3163              		.loc 1 1221 1 view .LVU1134
 3164              		.align	2
 3165              	.L207:
 3166 00cc FF0FE01F 		.word	534777855
 3167              		.cfi_endproc
ARM GAS  /tmp/ccxppnfb.s 			page 141


 3168              	.LFE358:
 3170              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 3171              		.align	1
 3172              		.global	HAL_SD_ReadBlocks_DMA
 3173              		.syntax unified
 3174              		.thumb
 3175              		.thumb_func
 3176              		.fpu fpv5-d16
 3178              	HAL_SD_ReadBlocks_DMA:
 3179              	.LVL261:
 3180              	.LFB359:
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3181              		.loc 1 1238 1 is_stmt 1 view -0
 3182              		.cfi_startproc
 3183              		@ args = 0, pretend = 0, frame = 24
 3184              		@ frame_needed = 0, uses_anonymous_args = 0
1238:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3185              		.loc 1 1238 1 is_stmt 0 view .LVU1136
 3186 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3187              	.LCFI44:
 3188              		.cfi_def_cfa_offset 24
 3189              		.cfi_offset 4, -24
 3190              		.cfi_offset 5, -20
 3191              		.cfi_offset 6, -16
 3192              		.cfi_offset 7, -12
 3193              		.cfi_offset 8, -8
 3194              		.cfi_offset 14, -4
 3195 0004 86B0     		sub	sp, sp, #24
 3196              	.LCFI45:
 3197              		.cfi_def_cfa_offset 48
 3198 0006 0446     		mov	r4, r0
1239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3199              		.loc 1 1239 3 is_stmt 1 view .LVU1137
1240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3200              		.loc 1 1240 3 view .LVU1138
1241:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3201              		.loc 1 1241 3 view .LVU1139
 3202              	.LVL262:
1243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3203              		.loc 1 1243 3 view .LVU1140
1243:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3204              		.loc 1 1243 6 is_stmt 0 view .LVU1141
 3205 0008 0029     		cmp	r1, #0
 3206 000a 49D0     		beq	.L219
 3207 000c 1646     		mov	r6, r2
 3208 000e 1F46     		mov	r7, r3
 3209 0010 8846     		mov	r8, r1
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3210              		.loc 1 1249 3 is_stmt 1 view .LVU1142
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3211              		.loc 1 1249 10 is_stmt 0 view .LVU1143
 3212 0012 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3213 0016 EDB2     		uxtb	r5, r5
1249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3214              		.loc 1 1249 6 view .LVU1144
 3215 0018 012D     		cmp	r5, #1
 3216 001a 5AD1     		bne	.L217
ARM GAS  /tmp/ccxppnfb.s 			page 142


1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3217              		.loc 1 1251 5 is_stmt 1 view .LVU1145
1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3218              		.loc 1 1251 20 is_stmt 0 view .LVU1146
 3219 001c 0023     		movs	r3, #0
 3220              	.LVL263:
1251:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3221              		.loc 1 1251 20 view .LVU1147
 3222 001e 4363     		str	r3, [r0, #52]
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3223              		.loc 1 1253 5 is_stmt 1 view .LVU1148
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3224              		.loc 1 1253 14 is_stmt 0 view .LVU1149
 3225 0020 D319     		adds	r3, r2, r7
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3226              		.loc 1 1253 46 view .LVU1150
 3227 0022 026D     		ldr	r2, [r0, #80]
 3228              	.LVL264:
1253:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3229              		.loc 1 1253 8 view .LVU1151
 3230 0024 9342     		cmp	r3, r2
 3231 0026 41D8     		bhi	.L220
1259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3232              		.loc 1 1259 5 is_stmt 1 view .LVU1152
1259:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3233              		.loc 1 1259 16 is_stmt 0 view .LVU1153
 3234 0028 0323     		movs	r3, #3
 3235 002a 80F83030 		strb	r3, [r0, #48]
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3236              		.loc 1 1262 5 is_stmt 1 view .LVU1154
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3237              		.loc 1 1262 8 is_stmt 0 view .LVU1155
 3238 002e 0368     		ldr	r3, [r0]
1262:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3239              		.loc 1 1262 26 view .LVU1156
 3240 0030 0022     		movs	r2, #0
 3241 0032 DA62     		str	r2, [r3, #44]
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 3242              		.loc 1 1264 5 is_stmt 1 view .LVU1157
1264:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 3243              		.loc 1 1264 21 is_stmt 0 view .LVU1158
 3244 0034 6162     		str	r1, [r4, #36]
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3245              		.loc 1 1265 5 is_stmt 1 view .LVU1159
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3246              		.loc 1 1265 33 is_stmt 0 view .LVU1160
 3247 0036 7B02     		lsls	r3, r7, #9
1265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3248              		.loc 1 1265 21 view .LVU1161
 3249 0038 8362     		str	r3, [r0, #40]
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3250              		.loc 1 1267 5 is_stmt 1 view .LVU1162
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3251              		.loc 1 1267 20 is_stmt 0 view .LVU1163
 3252 003a 826B     		ldr	r2, [r0, #56]
1267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3253              		.loc 1 1267 8 view .LVU1164
ARM GAS  /tmp/ccxppnfb.s 			page 143


 3254 003c 012A     		cmp	r2, #1
 3255 003e 00D0     		beq	.L213
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3256              		.loc 1 1269 7 is_stmt 1 view .LVU1165
1269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3257              		.loc 1 1269 11 is_stmt 0 view .LVU1166
 3258 0040 7602     		lsls	r6, r6, #9
 3259              	.LVL265:
 3260              	.L213:
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3261              		.loc 1 1273 5 is_stmt 1 view .LVU1167
1273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3262              		.loc 1 1273 26 is_stmt 0 view .LVU1168
 3263 0042 4FF0FF32 		mov	r2, #-1
 3264 0046 0092     		str	r2, [sp]
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3265              		.loc 1 1274 5 is_stmt 1 view .LVU1169
1274:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3266              		.loc 1 1274 26 is_stmt 0 view .LVU1170
 3267 0048 0193     		str	r3, [sp, #4]
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3268              		.loc 1 1275 5 is_stmt 1 view .LVU1171
1275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 3269              		.loc 1 1275 26 is_stmt 0 view .LVU1172
 3270 004a 9023     		movs	r3, #144
 3271 004c 0293     		str	r3, [sp, #8]
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3272              		.loc 1 1276 5 is_stmt 1 view .LVU1173
1276:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3273              		.loc 1 1276 26 is_stmt 0 view .LVU1174
 3274 004e 0223     		movs	r3, #2
 3275 0050 0393     		str	r3, [sp, #12]
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3276              		.loc 1 1277 5 is_stmt 1 view .LVU1175
1277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3277              		.loc 1 1277 26 is_stmt 0 view .LVU1176
 3278 0052 0023     		movs	r3, #0
 3279 0054 0493     		str	r3, [sp, #16]
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3280              		.loc 1 1278 5 is_stmt 1 view .LVU1177
1278:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3281              		.loc 1 1278 26 is_stmt 0 view .LVU1178
 3282 0056 0593     		str	r3, [sp, #20]
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3283              		.loc 1 1279 5 is_stmt 1 view .LVU1179
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3284              		.loc 1 1279 11 is_stmt 0 view .LVU1180
 3285 0058 6946     		mov	r1, sp
 3286              	.LVL266:
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3287              		.loc 1 1279 11 view .LVU1181
 3288 005a 2068     		ldr	r0, [r4]
 3289              	.LVL267:
1279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3290              		.loc 1 1279 11 view .LVU1182
 3291 005c FFF7FEFF 		bl	SDMMC_ConfigData
 3292              	.LVL268:
ARM GAS  /tmp/ccxppnfb.s 			page 144


1281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 3293              		.loc 1 1281 5 is_stmt 1 view .LVU1183
 3294 0060 2268     		ldr	r2, [r4]
 3295 0062 D368     		ldr	r3, [r2, #12]
 3296 0064 43F04003 		orr	r3, r3, #64
 3297 0068 D360     		str	r3, [r2, #12]
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3298              		.loc 1 1282 5 view .LVU1184
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3299              		.loc 1 1282 8 is_stmt 0 view .LVU1185
 3300 006a 2368     		ldr	r3, [r4]
1282:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3301              		.loc 1 1282 30 view .LVU1186
 3302 006c C3F85880 		str	r8, [r3, #88]
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3303              		.loc 1 1283 5 is_stmt 1 view .LVU1187
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3304              		.loc 1 1283 8 is_stmt 0 view .LVU1188
 3305 0070 2368     		ldr	r3, [r4]
1283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3306              		.loc 1 1283 30 view .LVU1189
 3307 0072 0122     		movs	r2, #1
 3308 0074 1A65     		str	r2, [r3, #80]
1286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3309              		.loc 1 1286 5 is_stmt 1 view .LVU1190
1286:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3310              		.loc 1 1286 8 is_stmt 0 view .LVU1191
 3311 0076 9742     		cmp	r7, r2
 3312 0078 1DD9     		bls	.L214
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3313              		.loc 1 1288 7 is_stmt 1 view .LVU1192
1288:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3314              		.loc 1 1288 20 is_stmt 0 view .LVU1193
 3315 007a 8223     		movs	r3, #130
 3316 007c E362     		str	r3, [r4, #44]
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3317              		.loc 1 1291 7 is_stmt 1 view .LVU1194
1291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3318              		.loc 1 1291 20 is_stmt 0 view .LVU1195
 3319 007e 3146     		mov	r1, r6
 3320 0080 2068     		ldr	r0, [r4]
 3321 0082 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 3322              	.LVL269:
 3323              	.L215:
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3324              		.loc 1 1300 5 is_stmt 1 view .LVU1196
1300:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3325              		.loc 1 1300 8 is_stmt 0 view .LVU1197
 3326 0086 E8B1     		cbz	r0, .L216
1303:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3327              		.loc 1 1303 7 is_stmt 1 view .LVU1198
 3328 0088 2368     		ldr	r3, [r4]
 3329 008a 144A     		ldr	r2, .L221
 3330 008c 9A63     		str	r2, [r3, #56]
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3331              		.loc 1 1304 7 view .LVU1199
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
ARM GAS  /tmp/ccxppnfb.s 			page 145


 3332              		.loc 1 1304 22 is_stmt 0 view .LVU1200
 3333 008e 636B     		ldr	r3, [r4, #52]
 3334 0090 1843     		orrs	r0, r0, r3
 3335              	.LVL270:
1304:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3336              		.loc 1 1304 22 view .LVU1201
 3337 0092 6063     		str	r0, [r4, #52]
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3338              		.loc 1 1305 7 is_stmt 1 view .LVU1202
1305:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3339              		.loc 1 1305 18 is_stmt 0 view .LVU1203
 3340 0094 0123     		movs	r3, #1
 3341 0096 84F83030 		strb	r3, [r4, #48]
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3342              		.loc 1 1306 7 is_stmt 1 view .LVU1204
1306:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3343              		.loc 1 1306 20 is_stmt 0 view .LVU1205
 3344 009a 0023     		movs	r3, #0
 3345 009c E362     		str	r3, [r4, #44]
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3346              		.loc 1 1307 7 is_stmt 1 view .LVU1206
1307:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3347              		.loc 1 1307 14 is_stmt 0 view .LVU1207
 3348 009e 19E0     		b	.L211
 3349              	.LVL271:
 3350              	.L219:
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3351              		.loc 1 1245 5 is_stmt 1 view .LVU1208
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3352              		.loc 1 1245 20 is_stmt 0 view .LVU1209
 3353 00a0 436B     		ldr	r3, [r0, #52]
 3354              	.LVL272:
1245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3355              		.loc 1 1245 20 view .LVU1210
 3356 00a2 43F00063 		orr	r3, r3, #134217728
 3357 00a6 4363     		str	r3, [r0, #52]
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3358              		.loc 1 1246 5 is_stmt 1 view .LVU1211
1246:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3359              		.loc 1 1246 12 is_stmt 0 view .LVU1212
 3360 00a8 0125     		movs	r5, #1
 3361 00aa 13E0     		b	.L211
 3362              	.LVL273:
 3363              	.L220:
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3364              		.loc 1 1255 7 is_stmt 1 view .LVU1213
1255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3365              		.loc 1 1255 22 is_stmt 0 view .LVU1214
 3366 00ac 436B     		ldr	r3, [r0, #52]
 3367 00ae 43F00073 		orr	r3, r3, #33554432
 3368 00b2 4363     		str	r3, [r0, #52]
1256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3369              		.loc 1 1256 7 is_stmt 1 view .LVU1215
1256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3370              		.loc 1 1256 14 is_stmt 0 view .LVU1216
 3371 00b4 0EE0     		b	.L211
 3372              	.LVL274:
ARM GAS  /tmp/ccxppnfb.s 			page 146


 3373              	.L214:
1295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3374              		.loc 1 1295 7 is_stmt 1 view .LVU1217
1295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3375              		.loc 1 1295 20 is_stmt 0 view .LVU1218
 3376 00b6 8123     		movs	r3, #129
 3377 00b8 E362     		str	r3, [r4, #44]
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3378              		.loc 1 1298 7 is_stmt 1 view .LVU1219
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3379              		.loc 1 1298 20 is_stmt 0 view .LVU1220
 3380 00ba 3146     		mov	r1, r6
 3381 00bc 2068     		ldr	r0, [r4]
 3382 00be FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 3383              	.LVL275:
1298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3384              		.loc 1 1298 20 view .LVU1221
 3385 00c2 E0E7     		b	.L215
 3386              	.L216:
1311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3387              		.loc 1 1311 5 is_stmt 1 view .LVU1222
 3388 00c4 2268     		ldr	r2, [r4]
 3389 00c6 D36B     		ldr	r3, [r2, #60]
 3390 00c8 43F49573 		orr	r3, r3, #298
 3391 00cc D363     		str	r3, [r2, #60]
1314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3392              		.loc 1 1314 5 view .LVU1223
1314:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3393              		.loc 1 1314 12 is_stmt 0 view .LVU1224
 3394 00ce 0025     		movs	r5, #0
 3395 00d0 00E0     		b	.L211
 3396              	.LVL276:
 3397              	.L217:
1318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3398              		.loc 1 1318 12 view .LVU1225
 3399 00d2 0225     		movs	r5, #2
 3400              	.LVL277:
 3401              	.L211:
1320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3402              		.loc 1 1320 1 view .LVU1226
 3403 00d4 2846     		mov	r0, r5
 3404 00d6 06B0     		add	sp, sp, #24
 3405              	.LCFI46:
 3406              		.cfi_def_cfa_offset 24
 3407              		@ sp needed
 3408 00d8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3409              	.LVL278:
 3410              	.L222:
1320:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3411              		.loc 1 1320 1 view .LVU1227
 3412              		.align	2
 3413              	.L221:
 3414 00dc FF0FE01F 		.word	534777855
 3415              		.cfi_endproc
 3416              	.LFE359:
 3418              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3419              		.align	1
ARM GAS  /tmp/ccxppnfb.s 			page 147


 3420              		.global	HAL_SD_WriteBlocks_DMA
 3421              		.syntax unified
 3422              		.thumb
 3423              		.thumb_func
 3424              		.fpu fpv5-d16
 3426              	HAL_SD_WriteBlocks_DMA:
 3427              	.LVL279:
 3428              	.LFB360:
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3429              		.loc 1 1337 1 is_stmt 1 view -0
 3430              		.cfi_startproc
 3431              		@ args = 0, pretend = 0, frame = 24
 3432              		@ frame_needed = 0, uses_anonymous_args = 0
1337:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 3433              		.loc 1 1337 1 is_stmt 0 view .LVU1229
 3434 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3435              	.LCFI47:
 3436              		.cfi_def_cfa_offset 24
 3437              		.cfi_offset 4, -24
 3438              		.cfi_offset 5, -20
 3439              		.cfi_offset 6, -16
 3440              		.cfi_offset 7, -12
 3441              		.cfi_offset 8, -8
 3442              		.cfi_offset 14, -4
 3443 0004 86B0     		sub	sp, sp, #24
 3444              	.LCFI48:
 3445              		.cfi_def_cfa_offset 48
 3446 0006 0446     		mov	r4, r0
1338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3447              		.loc 1 1338 3 is_stmt 1 view .LVU1230
1339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3448              		.loc 1 1339 3 view .LVU1231
1340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3449              		.loc 1 1340 3 view .LVU1232
 3450              	.LVL280:
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3451              		.loc 1 1342 3 view .LVU1233
1342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3452              		.loc 1 1342 6 is_stmt 0 view .LVU1234
 3453 0008 0029     		cmp	r1, #0
 3454 000a 48D0     		beq	.L233
 3455 000c 1646     		mov	r6, r2
 3456 000e 1F46     		mov	r7, r3
 3457 0010 8846     		mov	r8, r1
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3458              		.loc 1 1348 3 is_stmt 1 view .LVU1235
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3459              		.loc 1 1348 10 is_stmt 0 view .LVU1236
 3460 0012 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3461 0016 EDB2     		uxtb	r5, r5
1348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3462              		.loc 1 1348 6 view .LVU1237
 3463 0018 012D     		cmp	r5, #1
 3464 001a 59D1     		bne	.L231
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3465              		.loc 1 1350 5 is_stmt 1 view .LVU1238
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 148


 3466              		.loc 1 1350 20 is_stmt 0 view .LVU1239
 3467 001c 0023     		movs	r3, #0
 3468              	.LVL281:
1350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3469              		.loc 1 1350 20 view .LVU1240
 3470 001e 4363     		str	r3, [r0, #52]
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3471              		.loc 1 1352 5 is_stmt 1 view .LVU1241
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3472              		.loc 1 1352 14 is_stmt 0 view .LVU1242
 3473 0020 D319     		adds	r3, r2, r7
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3474              		.loc 1 1352 46 view .LVU1243
 3475 0022 026D     		ldr	r2, [r0, #80]
 3476              	.LVL282:
1352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3477              		.loc 1 1352 8 view .LVU1244
 3478 0024 9342     		cmp	r3, r2
 3479 0026 40D8     		bhi	.L234
1358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3480              		.loc 1 1358 5 is_stmt 1 view .LVU1245
1358:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3481              		.loc 1 1358 16 is_stmt 0 view .LVU1246
 3482 0028 0323     		movs	r3, #3
 3483 002a 80F83030 		strb	r3, [r0, #48]
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3484              		.loc 1 1361 5 is_stmt 1 view .LVU1247
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3485              		.loc 1 1361 8 is_stmt 0 view .LVU1248
 3486 002e 0368     		ldr	r3, [r0]
1361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3487              		.loc 1 1361 26 view .LVU1249
 3488 0030 0022     		movs	r2, #0
 3489 0032 DA62     		str	r2, [r3, #44]
1363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3490              		.loc 1 1363 5 is_stmt 1 view .LVU1250
1363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 3491              		.loc 1 1363 21 is_stmt 0 view .LVU1251
 3492 0034 E161     		str	r1, [r4, #28]
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3493              		.loc 1 1364 5 is_stmt 1 view .LVU1252
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3494              		.loc 1 1364 33 is_stmt 0 view .LVU1253
 3495 0036 7B02     		lsls	r3, r7, #9
1364:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3496              		.loc 1 1364 21 view .LVU1254
 3497 0038 0362     		str	r3, [r0, #32]
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3498              		.loc 1 1366 5 is_stmt 1 view .LVU1255
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3499              		.loc 1 1366 20 is_stmt 0 view .LVU1256
 3500 003a 826B     		ldr	r2, [r0, #56]
1366:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3501              		.loc 1 1366 8 view .LVU1257
 3502 003c 012A     		cmp	r2, #1
 3503 003e 00D0     		beq	.L227
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccxppnfb.s 			page 149


 3504              		.loc 1 1368 7 is_stmt 1 view .LVU1258
1368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3505              		.loc 1 1368 11 is_stmt 0 view .LVU1259
 3506 0040 7602     		lsls	r6, r6, #9
 3507              	.LVL283:
 3508              	.L227:
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3509              		.loc 1 1372 5 is_stmt 1 view .LVU1260
1372:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3510              		.loc 1 1372 26 is_stmt 0 view .LVU1261
 3511 0042 4FF0FF32 		mov	r2, #-1
 3512 0046 0092     		str	r2, [sp]
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3513              		.loc 1 1373 5 is_stmt 1 view .LVU1262
1373:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 3514              		.loc 1 1373 26 is_stmt 0 view .LVU1263
 3515 0048 0193     		str	r3, [sp, #4]
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3516              		.loc 1 1374 5 is_stmt 1 view .LVU1264
1374:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 3517              		.loc 1 1374 26 is_stmt 0 view .LVU1265
 3518 004a 9023     		movs	r3, #144
 3519 004c 0293     		str	r3, [sp, #8]
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3520              		.loc 1 1375 5 is_stmt 1 view .LVU1266
1375:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 3521              		.loc 1 1375 26 is_stmt 0 view .LVU1267
 3522 004e 0023     		movs	r3, #0
 3523 0050 0393     		str	r3, [sp, #12]
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3524              		.loc 1 1376 5 is_stmt 1 view .LVU1268
1376:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 3525              		.loc 1 1376 26 is_stmt 0 view .LVU1269
 3526 0052 0493     		str	r3, [sp, #16]
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3527              		.loc 1 1377 5 is_stmt 1 view .LVU1270
1377:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 3528              		.loc 1 1377 26 is_stmt 0 view .LVU1271
 3529 0054 0593     		str	r3, [sp, #20]
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3530              		.loc 1 1378 5 is_stmt 1 view .LVU1272
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3531              		.loc 1 1378 11 is_stmt 0 view .LVU1273
 3532 0056 6946     		mov	r1, sp
 3533              	.LVL284:
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3534              		.loc 1 1378 11 view .LVU1274
 3535 0058 2068     		ldr	r0, [r4]
 3536              	.LVL285:
1378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3537              		.loc 1 1378 11 view .LVU1275
 3538 005a FFF7FEFF 		bl	SDMMC_ConfigData
 3539              	.LVL286:
1381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3540              		.loc 1 1381 5 is_stmt 1 view .LVU1276
 3541 005e 2268     		ldr	r2, [r4]
 3542 0060 D368     		ldr	r3, [r2, #12]
ARM GAS  /tmp/ccxppnfb.s 			page 150


 3543 0062 43F04003 		orr	r3, r3, #64
 3544 0066 D360     		str	r3, [r2, #12]
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3545              		.loc 1 1383 5 view .LVU1277
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3546              		.loc 1 1383 8 is_stmt 0 view .LVU1278
 3547 0068 2368     		ldr	r3, [r4]
1383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 3548              		.loc 1 1383 30 view .LVU1279
 3549 006a C3F85880 		str	r8, [r3, #88]
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3550              		.loc 1 1384 5 is_stmt 1 view .LVU1280
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3551              		.loc 1 1384 8 is_stmt 0 view .LVU1281
 3552 006e 2368     		ldr	r3, [r4]
1384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3553              		.loc 1 1384 30 view .LVU1282
 3554 0070 0122     		movs	r2, #1
 3555 0072 1A65     		str	r2, [r3, #80]
1387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3556              		.loc 1 1387 5 is_stmt 1 view .LVU1283
1387:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3557              		.loc 1 1387 8 is_stmt 0 view .LVU1284
 3558 0074 9742     		cmp	r7, r2
 3559 0076 1DD9     		bls	.L228
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3560              		.loc 1 1389 7 is_stmt 1 view .LVU1285
1389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3561              		.loc 1 1389 20 is_stmt 0 view .LVU1286
 3562 0078 A023     		movs	r3, #160
 3563 007a E362     		str	r3, [r4, #44]
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3564              		.loc 1 1392 7 is_stmt 1 view .LVU1287
1392:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3565              		.loc 1 1392 20 is_stmt 0 view .LVU1288
 3566 007c 3146     		mov	r1, r6
 3567 007e 2068     		ldr	r0, [r4]
 3568 0080 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3569              	.LVL287:
 3570              	.L229:
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3571              		.loc 1 1401 5 is_stmt 1 view .LVU1289
1401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3572              		.loc 1 1401 8 is_stmt 0 view .LVU1290
 3573 0084 E8B1     		cbz	r0, .L230
1404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3574              		.loc 1 1404 7 is_stmt 1 view .LVU1291
 3575 0086 2368     		ldr	r3, [r4]
 3576 0088 144A     		ldr	r2, .L235
 3577 008a 9A63     		str	r2, [r3, #56]
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3578              		.loc 1 1405 7 view .LVU1292
1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3579              		.loc 1 1405 22 is_stmt 0 view .LVU1293
 3580 008c 636B     		ldr	r3, [r4, #52]
 3581 008e 1843     		orrs	r0, r0, r3
 3582              	.LVL288:
ARM GAS  /tmp/ccxppnfb.s 			page 151


1405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3583              		.loc 1 1405 22 view .LVU1294
 3584 0090 6063     		str	r0, [r4, #52]
1406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3585              		.loc 1 1406 7 is_stmt 1 view .LVU1295
1406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3586              		.loc 1 1406 18 is_stmt 0 view .LVU1296
 3587 0092 0123     		movs	r3, #1
 3588 0094 84F83030 		strb	r3, [r4, #48]
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3589              		.loc 1 1407 7 is_stmt 1 view .LVU1297
1407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3590              		.loc 1 1407 20 is_stmt 0 view .LVU1298
 3591 0098 0023     		movs	r3, #0
 3592 009a E362     		str	r3, [r4, #44]
1408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3593              		.loc 1 1408 7 is_stmt 1 view .LVU1299
1408:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3594              		.loc 1 1408 14 is_stmt 0 view .LVU1300
 3595 009c 19E0     		b	.L225
 3596              	.LVL289:
 3597              	.L233:
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3598              		.loc 1 1344 5 is_stmt 1 view .LVU1301
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3599              		.loc 1 1344 20 is_stmt 0 view .LVU1302
 3600 009e 436B     		ldr	r3, [r0, #52]
 3601              	.LVL290:
1344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 3602              		.loc 1 1344 20 view .LVU1303
 3603 00a0 43F00063 		orr	r3, r3, #134217728
 3604 00a4 4363     		str	r3, [r0, #52]
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3605              		.loc 1 1345 5 is_stmt 1 view .LVU1304
1345:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3606              		.loc 1 1345 12 is_stmt 0 view .LVU1305
 3607 00a6 0125     		movs	r5, #1
 3608 00a8 13E0     		b	.L225
 3609              	.LVL291:
 3610              	.L234:
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3611              		.loc 1 1354 7 is_stmt 1 view .LVU1306
1354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3612              		.loc 1 1354 22 is_stmt 0 view .LVU1307
 3613 00aa 436B     		ldr	r3, [r0, #52]
 3614 00ac 43F00073 		orr	r3, r3, #33554432
 3615 00b0 4363     		str	r3, [r0, #52]
1355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3616              		.loc 1 1355 7 is_stmt 1 view .LVU1308
1355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3617              		.loc 1 1355 14 is_stmt 0 view .LVU1309
 3618 00b2 0EE0     		b	.L225
 3619              	.LVL292:
 3620              	.L228:
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3621              		.loc 1 1396 7 is_stmt 1 view .LVU1310
1396:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 152


 3622              		.loc 1 1396 20 is_stmt 0 view .LVU1311
 3623 00b4 9023     		movs	r3, #144
 3624 00b6 E362     		str	r3, [r4, #44]
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3625              		.loc 1 1399 7 is_stmt 1 view .LVU1312
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3626              		.loc 1 1399 20 is_stmt 0 view .LVU1313
 3627 00b8 3146     		mov	r1, r6
 3628 00ba 2068     		ldr	r0, [r4]
 3629 00bc FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3630              	.LVL293:
1399:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3631              		.loc 1 1399 20 view .LVU1314
 3632 00c0 E0E7     		b	.L229
 3633              	.L230:
1412:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3634              		.loc 1 1412 5 is_stmt 1 view .LVU1315
 3635 00c2 2268     		ldr	r2, [r4]
 3636 00c4 D36B     		ldr	r3, [r2, #60]
 3637 00c6 43F48D73 		orr	r3, r3, #282
 3638 00ca D363     		str	r3, [r2, #60]
1414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3639              		.loc 1 1414 5 view .LVU1316
1414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3640              		.loc 1 1414 12 is_stmt 0 view .LVU1317
 3641 00cc 0025     		movs	r5, #0
 3642 00ce 00E0     		b	.L225
 3643              	.LVL294:
 3644              	.L231:
1418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3645              		.loc 1 1418 12 view .LVU1318
 3646 00d0 0225     		movs	r5, #2
 3647              	.LVL295:
 3648              	.L225:
1420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3649              		.loc 1 1420 1 view .LVU1319
 3650 00d2 2846     		mov	r0, r5
 3651 00d4 06B0     		add	sp, sp, #24
 3652              	.LCFI49:
 3653              		.cfi_def_cfa_offset 24
 3654              		@ sp needed
 3655 00d6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3656              	.LVL296:
 3657              	.L236:
1420:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3658              		.loc 1 1420 1 view .LVU1320
 3659 00da 00BF     		.align	2
 3660              	.L235:
 3661 00dc FF0FE01F 		.word	534777855
 3662              		.cfi_endproc
 3663              	.LFE360:
 3665              		.section	.text.HAL_SD_Erase,"ax",%progbits
 3666              		.align	1
 3667              		.global	HAL_SD_Erase
 3668              		.syntax unified
 3669              		.thumb
 3670              		.thumb_func
ARM GAS  /tmp/ccxppnfb.s 			page 153


 3671              		.fpu fpv5-d16
 3673              	HAL_SD_Erase:
 3674              	.LVL297:
 3675              	.LFB361:
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3676              		.loc 1 1432 1 is_stmt 1 view -0
 3677              		.cfi_startproc
 3678              		@ args = 0, pretend = 0, frame = 0
 3679              		@ frame_needed = 0, uses_anonymous_args = 0
1432:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 3680              		.loc 1 1432 1 is_stmt 0 view .LVU1322
 3681 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3682              	.LCFI50:
 3683              		.cfi_def_cfa_offset 24
 3684              		.cfi_offset 3, -24
 3685              		.cfi_offset 4, -20
 3686              		.cfi_offset 5, -16
 3687              		.cfi_offset 6, -12
 3688              		.cfi_offset 7, -8
 3689              		.cfi_offset 14, -4
1433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 3690              		.loc 1 1433 3 is_stmt 1 view .LVU1323
1434:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 3691              		.loc 1 1434 3 view .LVU1324
 3692              	.LVL298:
1435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3693              		.loc 1 1435 3 view .LVU1325
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3694              		.loc 1 1437 3 view .LVU1326
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3695              		.loc 1 1437 10 is_stmt 0 view .LVU1327
 3696 0002 90F83050 		ldrb	r5, [r0, #48]	@ zero_extendqisi2
 3697 0006 EDB2     		uxtb	r5, r5
1437:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3698              		.loc 1 1437 6 view .LVU1328
 3699 0008 012D     		cmp	r5, #1
 3700 000a 70D1     		bne	.L247
 3701 000c 0446     		mov	r4, r0
 3702 000e 0F46     		mov	r7, r1
 3703 0010 1646     		mov	r6, r2
1439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3704              		.loc 1 1439 5 is_stmt 1 view .LVU1329
1439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3705              		.loc 1 1439 20 is_stmt 0 view .LVU1330
 3706 0012 0023     		movs	r3, #0
 3707 0014 4363     		str	r3, [r0, #52]
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3708              		.loc 1 1441 5 is_stmt 1 view .LVU1331
1441:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3709              		.loc 1 1441 8 is_stmt 0 view .LVU1332
 3710 0016 9142     		cmp	r1, r2
 3711 0018 14D8     		bhi	.L249
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3712              		.loc 1 1447 5 is_stmt 1 view .LVU1333
1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3713              		.loc 1 1447 31 is_stmt 0 view .LVU1334
 3714 001a 036D     		ldr	r3, [r0, #80]
ARM GAS  /tmp/ccxppnfb.s 			page 154


1447:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3715              		.loc 1 1447 8 view .LVU1335
 3716 001c 9342     		cmp	r3, r2
 3717 001e 16D3     		bcc	.L250
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3718              		.loc 1 1453 5 is_stmt 1 view .LVU1336
1453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3719              		.loc 1 1453 16 is_stmt 0 view .LVU1337
 3720 0020 0323     		movs	r3, #3
 3721 0022 80F83030 		strb	r3, [r0, #48]
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3722              		.loc 1 1456 5 is_stmt 1 view .LVU1338
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3723              		.loc 1 1456 22 is_stmt 0 view .LVU1339
 3724 0026 036C     		ldr	r3, [r0, #64]
1456:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3725              		.loc 1 1456 8 view .LVU1340
 3726 0028 13F0200F 		tst	r3, #32
 3727 002c 14D1     		bne	.L241
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3728              		.loc 1 1459 7 is_stmt 1 view .LVU1341
 3729 002e 0368     		ldr	r3, [r0]
 3730 0030 304A     		ldr	r2, .L253
 3731              	.LVL299:
1459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3732              		.loc 1 1459 7 is_stmt 0 view .LVU1342
 3733 0032 9A63     		str	r2, [r3, #56]
1460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3734              		.loc 1 1460 7 is_stmt 1 view .LVU1343
1460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3735              		.loc 1 1460 22 is_stmt 0 view .LVU1344
 3736 0034 436B     		ldr	r3, [r0, #52]
 3737 0036 43F08063 		orr	r3, r3, #67108864
 3738 003a 4363     		str	r3, [r0, #52]
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3739              		.loc 1 1461 7 is_stmt 1 view .LVU1345
1461:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3740              		.loc 1 1461 18 is_stmt 0 view .LVU1346
 3741 003c 0123     		movs	r3, #1
 3742 003e 80F83030 		strb	r3, [r0, #48]
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3743              		.loc 1 1462 7 is_stmt 1 view .LVU1347
1462:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3744              		.loc 1 1462 14 is_stmt 0 view .LVU1348
 3745 0042 55E0     		b	.L238
 3746              	.LVL300:
 3747              	.L249:
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3748              		.loc 1 1443 7 is_stmt 1 view .LVU1349
1443:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3749              		.loc 1 1443 22 is_stmt 0 view .LVU1350
 3750 0044 436B     		ldr	r3, [r0, #52]
 3751 0046 43F00063 		orr	r3, r3, #134217728
 3752 004a 4363     		str	r3, [r0, #52]
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3753              		.loc 1 1444 7 is_stmt 1 view .LVU1351
1444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccxppnfb.s 			page 155


 3754              		.loc 1 1444 14 is_stmt 0 view .LVU1352
 3755 004c 50E0     		b	.L238
 3756              	.L250:
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3757              		.loc 1 1449 7 is_stmt 1 view .LVU1353
1449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3758              		.loc 1 1449 22 is_stmt 0 view .LVU1354
 3759 004e 436B     		ldr	r3, [r0, #52]
 3760 0050 43F00073 		orr	r3, r3, #33554432
 3761 0054 4363     		str	r3, [r0, #52]
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3762              		.loc 1 1450 7 is_stmt 1 view .LVU1355
1450:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3763              		.loc 1 1450 14 is_stmt 0 view .LVU1356
 3764 0056 4BE0     		b	.L238
 3765              	.L241:
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3766              		.loc 1 1465 5 is_stmt 1 view .LVU1357
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3767              		.loc 1 1465 10 is_stmt 0 view .LVU1358
 3768 0058 0021     		movs	r1, #0
 3769              	.LVL301:
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3770              		.loc 1 1465 10 view .LVU1359
 3771 005a 0068     		ldr	r0, [r0]
 3772              	.LVL302:
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3773              		.loc 1 1465 10 view .LVU1360
 3774 005c FFF7FEFF 		bl	SDMMC_GetResponse
 3775              	.LVL303:
1465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3776              		.loc 1 1465 8 view .LVU1361
 3777 0060 10F0007F 		tst	r0, #33554432
 3778 0064 15D1     		bne	.L251
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3779              		.loc 1 1475 5 is_stmt 1 view .LVU1362
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3780              		.loc 1 1475 20 is_stmt 0 view .LVU1363
 3781 0066 A36B     		ldr	r3, [r4, #56]
1475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3782              		.loc 1 1475 8 view .LVU1364
 3783 0068 012B     		cmp	r3, #1
 3784 006a 01D0     		beq	.L243
1477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
 3785              		.loc 1 1477 7 is_stmt 1 view .LVU1365
1477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
 3786              		.loc 1 1477 17 is_stmt 0 view .LVU1366
 3787 006c 7F02     		lsls	r7, r7, #9
 3788              	.LVL304:
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3789              		.loc 1 1478 7 is_stmt 1 view .LVU1367
1478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3790              		.loc 1 1478 17 is_stmt 0 view .LVU1368
 3791 006e 7602     		lsls	r6, r6, #9
 3792              	.LVL305:
 3793              	.L243:
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccxppnfb.s 			page 156


 3794              		.loc 1 1482 5 is_stmt 1 view .LVU1369
1482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3795              		.loc 1 1482 8 is_stmt 0 view .LVU1370
 3796 0070 032B     		cmp	r3, #3
 3797 0072 1ED0     		beq	.L244
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3798              		.loc 1 1485 7 is_stmt 1 view .LVU1371
1485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3799              		.loc 1 1485 20 is_stmt 0 view .LVU1372
 3800 0074 3946     		mov	r1, r7
 3801 0076 2068     		ldr	r0, [r4]
 3802 0078 FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 3803              	.LVL306:
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3804              		.loc 1 1486 7 is_stmt 1 view .LVU1373
1486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3805              		.loc 1 1486 10 is_stmt 0 view .LVU1374
 3806 007c A0B1     		cbz	r0, .L245
1489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3807              		.loc 1 1489 9 is_stmt 1 view .LVU1375
 3808 007e 2368     		ldr	r3, [r4]
 3809 0080 1C49     		ldr	r1, .L253
 3810 0082 9963     		str	r1, [r3, #56]
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3811              		.loc 1 1490 9 view .LVU1376
1490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3812              		.loc 1 1490 24 is_stmt 0 view .LVU1377
 3813 0084 636B     		ldr	r3, [r4, #52]
 3814 0086 0343     		orrs	r3, r3, r0
 3815 0088 6363     		str	r3, [r4, #52]
1491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3816              		.loc 1 1491 9 is_stmt 1 view .LVU1378
1491:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3817              		.loc 1 1491 20 is_stmt 0 view .LVU1379
 3818 008a 0123     		movs	r3, #1
 3819 008c 84F83030 		strb	r3, [r4, #48]
1492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3820              		.loc 1 1492 9 is_stmt 1 view .LVU1380
1492:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3821              		.loc 1 1492 16 is_stmt 0 view .LVU1381
 3822 0090 2EE0     		b	.L238
 3823              	.LVL307:
 3824              	.L251:
1468:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 3825              		.loc 1 1468 7 is_stmt 1 view .LVU1382
 3826 0092 2368     		ldr	r3, [r4]
 3827 0094 174A     		ldr	r2, .L253
 3828 0096 9A63     		str	r2, [r3, #56]
1469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3829              		.loc 1 1469 7 view .LVU1383
1469:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3830              		.loc 1 1469 22 is_stmt 0 view .LVU1384
 3831 0098 636B     		ldr	r3, [r4, #52]
 3832 009a 43F40063 		orr	r3, r3, #2048
 3833 009e 6363     		str	r3, [r4, #52]
1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3834              		.loc 1 1470 7 is_stmt 1 view .LVU1385
ARM GAS  /tmp/ccxppnfb.s 			page 157


1470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3835              		.loc 1 1470 18 is_stmt 0 view .LVU1386
 3836 00a0 0123     		movs	r3, #1
 3837 00a2 84F83030 		strb	r3, [r4, #48]
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3838              		.loc 1 1471 7 is_stmt 1 view .LVU1387
1471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3839              		.loc 1 1471 14 is_stmt 0 view .LVU1388
 3840 00a6 23E0     		b	.L238
 3841              	.LVL308:
 3842              	.L245:
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3843              		.loc 1 1496 7 is_stmt 1 view .LVU1389
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3844              		.loc 1 1496 20 is_stmt 0 view .LVU1390
 3845 00a8 3146     		mov	r1, r6
 3846 00aa 2068     		ldr	r0, [r4]
 3847              	.LVL309:
1496:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 3848              		.loc 1 1496 20 view .LVU1391
 3849 00ac FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 3850              	.LVL310:
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3851              		.loc 1 1497 7 is_stmt 1 view .LVU1392
1497:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3852              		.loc 1 1497 10 is_stmt 0 view .LVU1393
 3853 00b0 70B9     		cbnz	r0, .L252
 3854              	.LVL311:
 3855              	.L244:
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 3856              		.loc 1 1508 5 is_stmt 1 view .LVU1394
1508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 3857              		.loc 1 1508 18 is_stmt 0 view .LVU1395
 3858 00b2 0021     		movs	r1, #0
 3859 00b4 2068     		ldr	r0, [r4]
 3860 00b6 FFF7FEFF 		bl	SDMMC_CmdErase
 3861              	.LVL312:
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3862              		.loc 1 1509 5 is_stmt 1 view .LVU1396
1509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3863              		.loc 1 1509 8 is_stmt 0 view .LVU1397
 3864 00ba 98B1     		cbz	r0, .L246
1512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3865              		.loc 1 1512 7 is_stmt 1 view .LVU1398
 3866 00bc 2368     		ldr	r3, [r4]
 3867 00be 0D49     		ldr	r1, .L253
 3868 00c0 9963     		str	r1, [r3, #56]
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3869              		.loc 1 1513 7 view .LVU1399
1513:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3870              		.loc 1 1513 22 is_stmt 0 view .LVU1400
 3871 00c2 636B     		ldr	r3, [r4, #52]
 3872 00c4 0343     		orrs	r3, r3, r0
 3873 00c6 6363     		str	r3, [r4, #52]
1514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 3874              		.loc 1 1514 7 is_stmt 1 view .LVU1401
1514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  /tmp/ccxppnfb.s 			page 158


 3875              		.loc 1 1514 18 is_stmt 0 view .LVU1402
 3876 00c8 0123     		movs	r3, #1
 3877 00ca 84F83030 		strb	r3, [r4, #48]
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3878              		.loc 1 1515 7 is_stmt 1 view .LVU1403
1515:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3879              		.loc 1 1515 14 is_stmt 0 view .LVU1404
 3880 00ce 0FE0     		b	.L238
 3881              	.L252:
1500:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3882              		.loc 1 1500 9 is_stmt 1 view .LVU1405
 3883 00d0 2368     		ldr	r3, [r4]
 3884 00d2 0849     		ldr	r1, .L253
 3885 00d4 9963     		str	r1, [r3, #56]
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3886              		.loc 1 1501 9 view .LVU1406
1501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3887              		.loc 1 1501 24 is_stmt 0 view .LVU1407
 3888 00d6 636B     		ldr	r3, [r4, #52]
 3889 00d8 0343     		orrs	r3, r3, r0
 3890 00da 6363     		str	r3, [r4, #52]
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3891              		.loc 1 1502 9 is_stmt 1 view .LVU1408
1502:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 3892              		.loc 1 1502 20 is_stmt 0 view .LVU1409
 3893 00dc 0123     		movs	r3, #1
 3894 00de 84F83030 		strb	r3, [r4, #48]
1503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3895              		.loc 1 1503 9 is_stmt 1 view .LVU1410
1503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 3896              		.loc 1 1503 16 is_stmt 0 view .LVU1411
 3897 00e2 05E0     		b	.L238
 3898              	.L246:
1518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3899              		.loc 1 1518 5 is_stmt 1 view .LVU1412
1518:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3900              		.loc 1 1518 16 is_stmt 0 view .LVU1413
 3901 00e4 0123     		movs	r3, #1
 3902 00e6 84F83030 		strb	r3, [r4, #48]
1520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3903              		.loc 1 1520 5 is_stmt 1 view .LVU1414
1520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3904              		.loc 1 1520 12 is_stmt 0 view .LVU1415
 3905 00ea 0025     		movs	r5, #0
 3906 00ec 00E0     		b	.L238
 3907              	.LVL313:
 3908              	.L247:
1524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3909              		.loc 1 1524 12 view .LVU1416
 3910 00ee 0225     		movs	r5, #2
 3911              	.LVL314:
 3912              	.L238:
1526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3913              		.loc 1 1526 1 view .LVU1417
 3914 00f0 2846     		mov	r0, r5
 3915 00f2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3916              	.L254:
ARM GAS  /tmp/ccxppnfb.s 			page 159


 3917              		.align	2
 3918              	.L253:
 3919 00f4 FF0FE01F 		.word	534777855
 3920              		.cfi_endproc
 3921              	.LFE361:
 3923              		.section	.text.HAL_SD_GetState,"ax",%progbits
 3924              		.align	1
 3925              		.global	HAL_SD_GetState
 3926              		.syntax unified
 3927              		.thumb
 3928              		.thumb_func
 3929              		.fpu fpv5-d16
 3931              	HAL_SD_GetState:
 3932              	.LVL315:
 3933              	.LFB363:
1769:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
 3934              		.loc 1 1769 1 is_stmt 1 view -0
 3935              		.cfi_startproc
 3936              		@ args = 0, pretend = 0, frame = 0
 3937              		@ frame_needed = 0, uses_anonymous_args = 0
 3938              		@ link register save eliminated.
1770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3939              		.loc 1 1770 3 view .LVU1419
1770:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3940              		.loc 1 1770 13 is_stmt 0 view .LVU1420
 3941 0000 90F83000 		ldrb	r0, [r0, #48]	@ zero_extendqisi2
 3942              	.LVL316:
1771:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3943              		.loc 1 1771 1 view .LVU1421
 3944 0004 7047     		bx	lr
 3945              		.cfi_endproc
 3946              	.LFE363:
 3948              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3949              		.align	1
 3950              		.global	HAL_SD_GetError
 3951              		.syntax unified
 3952              		.thumb
 3953              		.thumb_func
 3954              		.fpu fpv5-d16
 3956              	HAL_SD_GetError:
 3957              	.LVL317:
 3958              	.LFB364:
1780:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
 3959              		.loc 1 1780 1 is_stmt 1 view -0
 3960              		.cfi_startproc
 3961              		@ args = 0, pretend = 0, frame = 0
 3962              		@ frame_needed = 0, uses_anonymous_args = 0
 3963              		@ link register save eliminated.
1781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3964              		.loc 1 1781 3 view .LVU1423
1781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3965              		.loc 1 1781 13 is_stmt 0 view .LVU1424
 3966 0000 406B     		ldr	r0, [r0, #52]
 3967              	.LVL318:
1782:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3968              		.loc 1 1782 1 view .LVU1425
 3969 0002 7047     		bx	lr
ARM GAS  /tmp/ccxppnfb.s 			page 160


 3970              		.cfi_endproc
 3971              	.LFE364:
 3973              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3974              		.align	1
 3975              		.weak	HAL_SD_TxCpltCallback
 3976              		.syntax unified
 3977              		.thumb
 3978              		.thumb_func
 3979              		.fpu fpv5-d16
 3981              	HAL_SD_TxCpltCallback:
 3982              	.LVL319:
 3983              	.LFB365:
1790:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 3984              		.loc 1 1790 1 is_stmt 1 view -0
 3985              		.cfi_startproc
 3986              		@ args = 0, pretend = 0, frame = 0
 3987              		@ frame_needed = 0, uses_anonymous_args = 0
 3988              		@ link register save eliminated.
1792:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3989              		.loc 1 1792 3 view .LVU1427
1797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3990              		.loc 1 1797 1 is_stmt 0 view .LVU1428
 3991 0000 7047     		bx	lr
 3992              		.cfi_endproc
 3993              	.LFE365:
 3995              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 3996              		.align	1
 3997              		.weak	HAL_SD_RxCpltCallback
 3998              		.syntax unified
 3999              		.thumb
 4000              		.thumb_func
 4001              		.fpu fpv5-d16
 4003              	HAL_SD_RxCpltCallback:
 4004              	.LVL320:
 4005              	.LFB366:
1805:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4006              		.loc 1 1805 1 is_stmt 1 view -0
 4007              		.cfi_startproc
 4008              		@ args = 0, pretend = 0, frame = 0
 4009              		@ frame_needed = 0, uses_anonymous_args = 0
 4010              		@ link register save eliminated.
1807:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4011              		.loc 1 1807 3 view .LVU1430
1812:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4012              		.loc 1 1812 1 is_stmt 0 view .LVU1431
 4013 0000 7047     		bx	lr
 4014              		.cfi_endproc
 4015              	.LFE366:
 4017              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 4018              		.align	1
 4019              		.weak	HAL_SD_ErrorCallback
 4020              		.syntax unified
 4021              		.thumb
 4022              		.thumb_func
 4023              		.fpu fpv5-d16
 4025              	HAL_SD_ErrorCallback:
 4026              	.LVL321:
ARM GAS  /tmp/ccxppnfb.s 			page 161


 4027              	.LFB367:
1820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4028              		.loc 1 1820 1 is_stmt 1 view -0
 4029              		.cfi_startproc
 4030              		@ args = 0, pretend = 0, frame = 0
 4031              		@ frame_needed = 0, uses_anonymous_args = 0
 4032              		@ link register save eliminated.
1822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4033              		.loc 1 1822 3 view .LVU1433
1827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4034              		.loc 1 1827 1 is_stmt 0 view .LVU1434
 4035 0000 7047     		bx	lr
 4036              		.cfi_endproc
 4037              	.LFE367:
 4039              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 4040              		.align	1
 4041              		.weak	HAL_SD_AbortCallback
 4042              		.syntax unified
 4043              		.thumb
 4044              		.thumb_func
 4045              		.fpu fpv5-d16
 4047              	HAL_SD_AbortCallback:
 4048              	.LVL322:
 4049              	.LFB368:
1835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4050              		.loc 1 1835 1 is_stmt 1 view -0
 4051              		.cfi_startproc
 4052              		@ args = 0, pretend = 0, frame = 0
 4053              		@ frame_needed = 0, uses_anonymous_args = 0
 4054              		@ link register save eliminated.
1837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4055              		.loc 1 1837 3 view .LVU1436
1842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4056              		.loc 1 1842 1 is_stmt 0 view .LVU1437
 4057 0000 7047     		bx	lr
 4058              		.cfi_endproc
 4059              	.LFE368:
 4061              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 4062              		.align	1
 4063              		.global	HAL_SD_GetCardCID
 4064              		.syntax unified
 4065              		.thumb
 4066              		.thumb_func
 4067              		.fpu fpv5-d16
 4069              	HAL_SD_GetCardCID:
 4070              	.LVL323:
 4071              	.LFB369:
2161:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 4072              		.loc 1 2161 1 is_stmt 1 view -0
 4073              		.cfi_startproc
 4074              		@ args = 0, pretend = 0, frame = 0
 4075              		@ frame_needed = 0, uses_anonymous_args = 0
 4076              		@ link register save eliminated.
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4077              		.loc 1 2162 3 view .LVU1439
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4078              		.loc 1 2162 26 is_stmt 0 view .LVU1440
ARM GAS  /tmp/ccxppnfb.s 			page 162


 4079 0000 90F86F30 		ldrb	r3, [r0, #111]	@ zero_extendqisi2
2162:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4080              		.loc 1 2162 24 view .LVU1441
 4081 0004 0B70     		strb	r3, [r1]
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4082              		.loc 1 2164 3 is_stmt 1 view .LVU1442
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4083              		.loc 1 2164 43 is_stmt 0 view .LVU1443
 4084 0006 C36E     		ldr	r3, [r0, #108]
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4085              		.loc 1 2164 23 view .LVU1444
 4086 0008 C3F30F23 		ubfx	r3, r3, #8, #16
2164:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4087              		.loc 1 2164 21 view .LVU1445
 4088 000c 4B80     		strh	r3, [r1, #2]	@ movhi
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4089              		.loc 1 2166 3 is_stmt 1 view .LVU1446
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4090              		.loc 1 2166 32 is_stmt 0 view .LVU1447
 4091 000e C26E     		ldr	r2, [r0, #108]
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4092              		.loc 1 2166 71 view .LVU1448
 4093 0010 036F     		ldr	r3, [r0, #112]
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4094              		.loc 1 2166 90 view .LVU1449
 4095 0012 1B0A     		lsrs	r3, r3, #8
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4096              		.loc 1 2166 59 view .LVU1450
 4097 0014 43EA0263 		orr	r3, r3, r2, lsl #24
2166:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4098              		.loc 1 2166 19 view .LVU1451
 4099 0018 4B60     		str	r3, [r1, #4]
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4100              		.loc 1 2168 3 is_stmt 1 view .LVU1452
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4101              		.loc 1 2168 21 is_stmt 0 view .LVU1453
 4102 001a 90F87030 		ldrb	r3, [r0, #112]	@ zero_extendqisi2
2168:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4103              		.loc 1 2168 19 view .LVU1454
 4104 001e 0B72     		strb	r3, [r1, #8]
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4105              		.loc 1 2170 3 is_stmt 1 view .LVU1455
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4106              		.loc 1 2170 19 is_stmt 0 view .LVU1456
 4107 0020 90F87730 		ldrb	r3, [r0, #119]	@ zero_extendqisi2
2170:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4108              		.loc 1 2170 17 view .LVU1457
 4109 0024 4B72     		strb	r3, [r1, #9]
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4110              		.loc 1 2172 3 is_stmt 1 view .LVU1458
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4111              		.loc 1 2172 29 is_stmt 0 view .LVU1459
 4112 0026 426F     		ldr	r2, [r0, #116]
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4113              		.loc 1 2172 86 view .LVU1460
 4114 0028 90F87B30 		ldrb	r3, [r0, #123]	@ zero_extendqisi2
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 163


 4115              		.loc 1 2172 55 view .LVU1461
 4116 002c 43EA0223 		orr	r3, r3, r2, lsl #8
2172:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4117              		.loc 1 2172 16 view .LVU1462
 4118 0030 CB60     		str	r3, [r1, #12]
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4119              		.loc 1 2174 3 is_stmt 1 view .LVU1463
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4120              		.loc 1 2174 40 is_stmt 0 view .LVU1464
 4121 0032 836F     		ldr	r3, [r0, #120]
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4122              		.loc 1 2174 21 view .LVU1465
 4123 0034 C3F30353 		ubfx	r3, r3, #20, #4
2174:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4124              		.loc 1 2174 19 view .LVU1466
 4125 0038 0B74     		strb	r3, [r1, #16]
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4126              		.loc 1 2176 3 is_stmt 1 view .LVU1467
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4127              		.loc 1 2176 44 is_stmt 0 view .LVU1468
 4128 003a 836F     		ldr	r3, [r0, #120]
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4129              		.loc 1 2176 24 view .LVU1469
 4130 003c C3F30B23 		ubfx	r3, r3, #8, #12
2176:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4131              		.loc 1 2176 22 view .LVU1470
 4132 0040 4B82     		strh	r3, [r1, #18]	@ movhi
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4133              		.loc 1 2178 3 is_stmt 1 view .LVU1471
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4134              		.loc 1 2178 38 is_stmt 0 view .LVU1472
 4135 0042 836F     		ldr	r3, [r0, #120]
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4136              		.loc 1 2178 19 view .LVU1473
 4137 0044 C3F34603 		ubfx	r3, r3, #1, #7
2178:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4138              		.loc 1 2178 17 view .LVU1474
 4139 0048 0B75     		strb	r3, [r1, #20]
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4140              		.loc 1 2180 3 is_stmt 1 view .LVU1475
2180:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4141              		.loc 1 2180 19 is_stmt 0 view .LVU1476
 4142 004a 0123     		movs	r3, #1
 4143 004c 4B75     		strb	r3, [r1, #21]
2182:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4144              		.loc 1 2182 3 is_stmt 1 view .LVU1477
2183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4145              		.loc 1 2183 1 is_stmt 0 view .LVU1478
 4146 004e 0020     		movs	r0, #0
 4147              	.LVL324:
2183:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4148              		.loc 1 2183 1 view .LVU1479
 4149 0050 7047     		bx	lr
 4150              		.cfi_endproc
 4151              	.LFE369:
 4153              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 4154              		.align	1
ARM GAS  /tmp/ccxppnfb.s 			page 164


 4155              		.global	HAL_SD_GetCardCSD
 4156              		.syntax unified
 4157              		.thumb
 4158              		.thumb_func
 4159              		.fpu fpv5-d16
 4161              	HAL_SD_GetCardCSD:
 4162              	.LVL325:
 4163              	.LFB370:
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4164              		.loc 1 2194 1 is_stmt 1 view -0
 4165              		.cfi_startproc
 4166              		@ args = 0, pretend = 0, frame = 0
 4167              		@ frame_needed = 0, uses_anonymous_args = 0
 4168              		@ link register save eliminated.
2194:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4169              		.loc 1 2194 1 is_stmt 0 view .LVU1481
 4170 0000 10B4     		push	{r4}
 4171              	.LCFI51:
 4172              		.cfi_def_cfa_offset 4
 4173              		.cfi_offset 4, -4
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4174              		.loc 1 2195 3 is_stmt 1 view .LVU1482
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4175              		.loc 1 2195 40 is_stmt 0 view .LVU1483
 4176 0002 C36D     		ldr	r3, [r0, #92]
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4177              		.loc 1 2195 21 view .LVU1484
 4178 0004 9B0F     		lsrs	r3, r3, #30
2195:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4179              		.loc 1 2195 19 view .LVU1485
 4180 0006 0B70     		strb	r3, [r1]
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4181              		.loc 1 2197 3 is_stmt 1 view .LVU1486
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4182              		.loc 1 2197 45 is_stmt 0 view .LVU1487
 4183 0008 C36D     		ldr	r3, [r0, #92]
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4184              		.loc 1 2197 26 view .LVU1488
 4185 000a C3F38363 		ubfx	r3, r3, #26, #4
2197:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4186              		.loc 1 2197 24 view .LVU1489
 4187 000e 4B70     		strb	r3, [r1, #1]
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4188              		.loc 1 2199 3 is_stmt 1 view .LVU1490
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4189              		.loc 1 2199 59 is_stmt 0 view .LVU1491
 4190 0010 90F85F30 		ldrb	r3, [r0, #95]	@ zero_extendqisi2
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4191              		.loc 1 2199 21 view .LVU1492
 4192 0014 03F00303 		and	r3, r3, #3
2199:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4193              		.loc 1 2199 19 view .LVU1493
 4194 0018 8B70     		strb	r3, [r1, #2]
2201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4195              		.loc 1 2201 3 is_stmt 1 view .LVU1494
2201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4196              		.loc 1 2201 16 is_stmt 0 view .LVU1495
ARM GAS  /tmp/ccxppnfb.s 			page 165


 4197 001a 90F85E30 		ldrb	r3, [r0, #94]	@ zero_extendqisi2
2201:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4198              		.loc 1 2201 14 view .LVU1496
 4199 001e CB70     		strb	r3, [r1, #3]
2203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4200              		.loc 1 2203 3 is_stmt 1 view .LVU1497
2203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4201              		.loc 1 2203 16 is_stmt 0 view .LVU1498
 4202 0020 90F85D30 		ldrb	r3, [r0, #93]	@ zero_extendqisi2
2203:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4203              		.loc 1 2203 14 view .LVU1499
 4204 0024 0B71     		strb	r3, [r1, #4]
2205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4205              		.loc 1 2205 3 is_stmt 1 view .LVU1500
2205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4206              		.loc 1 2205 25 is_stmt 0 view .LVU1501
 4207 0026 90F85C30 		ldrb	r3, [r0, #92]	@ zero_extendqisi2
2205:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4208              		.loc 1 2205 23 view .LVU1502
 4209 002a 4B71     		strb	r3, [r1, #5]
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4210              		.loc 1 2207 3 is_stmt 1 view .LVU1503
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4211              		.loc 1 2207 47 is_stmt 0 view .LVU1504
 4212 002c 036E     		ldr	r3, [r0, #96]
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4213              		.loc 1 2207 27 view .LVU1505
 4214 002e 1B0D     		lsrs	r3, r3, #20
2207:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4215              		.loc 1 2207 25 view .LVU1506
 4216 0030 CB80     		strh	r3, [r1, #6]	@ movhi
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4217              		.loc 1 2209 3 is_stmt 1 view .LVU1507
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4218              		.loc 1 2209 60 is_stmt 0 view .LVU1508
 4219 0032 B0F86230 		ldrh	r3, [r0, #98]
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4220              		.loc 1 2209 22 view .LVU1509
 4221 0036 03F00F03 		and	r3, r3, #15
2209:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4222              		.loc 1 2209 20 view .LVU1510
 4223 003a 0B72     		strb	r3, [r1, #8]
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4224              		.loc 1 2211 3 is_stmt 1 view .LVU1511
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4225              		.loc 1 2211 46 is_stmt 0 view .LVU1512
 4226 003c 036E     		ldr	r3, [r0, #96]
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4227              		.loc 1 2211 27 view .LVU1513
 4228 003e C3F3C033 		ubfx	r3, r3, #15, #1
2211:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4229              		.loc 1 2211 25 view .LVU1514
 4230 0042 4B72     		strb	r3, [r1, #9]
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4231              		.loc 1 2213 3 is_stmt 1 view .LVU1515
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4232              		.loc 1 2213 46 is_stmt 0 view .LVU1516
ARM GAS  /tmp/ccxppnfb.s 			page 166


 4233 0044 036E     		ldr	r3, [r0, #96]
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4234              		.loc 1 2213 27 view .LVU1517
 4235 0046 C3F38033 		ubfx	r3, r3, #14, #1
2213:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4236              		.loc 1 2213 25 view .LVU1518
 4237 004a 8B72     		strb	r3, [r1, #10]
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4238              		.loc 1 2215 3 is_stmt 1 view .LVU1519
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4239              		.loc 1 2215 46 is_stmt 0 view .LVU1520
 4240 004c 036E     		ldr	r3, [r0, #96]
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4241              		.loc 1 2215 27 view .LVU1521
 4242 004e C3F34033 		ubfx	r3, r3, #13, #1
2215:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4243              		.loc 1 2215 25 view .LVU1522
 4244 0052 CB72     		strb	r3, [r1, #11]
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4245              		.loc 1 2217 3 is_stmt 1 view .LVU1523
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4246              		.loc 1 2217 38 is_stmt 0 view .LVU1524
 4247 0054 036E     		ldr	r3, [r0, #96]
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4248              		.loc 1 2217 19 view .LVU1525
 4249 0056 C3F30033 		ubfx	r3, r3, #12, #1
2217:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4250              		.loc 1 2217 17 view .LVU1526
 4251 005a 0B73     		strb	r3, [r1, #12]
2219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4252              		.loc 1 2219 3 is_stmt 1 view .LVU1527
2219:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4253              		.loc 1 2219 19 is_stmt 0 view .LVU1528
 4254 005c 0023     		movs	r3, #0
 4255 005e 4B73     		strb	r3, [r1, #13]
2221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4256              		.loc 1 2221 3 is_stmt 1 view .LVU1529
2221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4257              		.loc 1 2221 18 is_stmt 0 view .LVU1530
 4258 0060 836B     		ldr	r3, [r0, #56]
2221:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4259              		.loc 1 2221 6 view .LVU1531
 4260 0062 002B     		cmp	r3, #0
 4261 0064 40F08880 		bne	.L263
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4262              		.loc 1 2223 5 is_stmt 1 view .LVU1532
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4263              		.loc 1 2223 35 is_stmt 0 view .LVU1533
 4264 0068 026E     		ldr	r2, [r0, #96]
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4265              		.loc 1 2223 54 view .LVU1534
 4266 006a 40F6FC73 		movw	r3, #4092
 4267 006e 03EA8203 		and	r3, r3, r2, lsl #2
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4268              		.loc 1 2223 73 view .LVU1535
 4269 0072 426E     		ldr	r2, [r0, #100]
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 167


 4270              		.loc 1 2223 61 view .LVU1536
 4271 0074 43EA9273 		orr	r3, r3, r2, lsr #30
2223:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4272              		.loc 1 2223 22 view .LVU1537
 4273 0078 0B61     		str	r3, [r1, #16]
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4274              		.loc 1 2225 5 is_stmt 1 view .LVU1538
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4275              		.loc 1 2225 51 is_stmt 0 view .LVU1539
 4276 007a 436E     		ldr	r3, [r0, #100]
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4277              		.loc 1 2225 32 view .LVU1540
 4278 007c C3F3C263 		ubfx	r3, r3, #27, #3
2225:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4279              		.loc 1 2225 30 view .LVU1541
 4280 0080 0B75     		strb	r3, [r1, #20]
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4281              		.loc 1 2227 5 is_stmt 1 view .LVU1542
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4282              		.loc 1 2227 70 is_stmt 0 view .LVU1543
 4283 0082 90F86730 		ldrb	r3, [r0, #103]	@ zero_extendqisi2
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4284              		.loc 1 2227 32 view .LVU1544
 4285 0086 03F00703 		and	r3, r3, #7
2227:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4286              		.loc 1 2227 30 view .LVU1545
 4287 008a 4B75     		strb	r3, [r1, #21]
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4288              		.loc 1 2229 5 is_stmt 1 view .LVU1546
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4289              		.loc 1 2229 51 is_stmt 0 view .LVU1547
 4290 008c 436E     		ldr	r3, [r0, #100]
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4291              		.loc 1 2229 32 view .LVU1548
 4292 008e C3F34253 		ubfx	r3, r3, #21, #3
2229:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4293              		.loc 1 2229 30 view .LVU1549
 4294 0092 8B75     		strb	r3, [r1, #22]
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4295              		.loc 1 2231 5 is_stmt 1 view .LVU1550
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4296              		.loc 1 2231 51 is_stmt 0 view .LVU1551
 4297 0094 436E     		ldr	r3, [r0, #100]
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4298              		.loc 1 2231 32 view .LVU1552
 4299 0096 C3F38243 		ubfx	r3, r3, #18, #3
2231:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4300              		.loc 1 2231 30 view .LVU1553
 4301 009a CB75     		strb	r3, [r1, #23]
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4302              		.loc 1 2233 5 is_stmt 1 view .LVU1554
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4303              		.loc 1 2233 46 is_stmt 0 view .LVU1555
 4304 009c 436E     		ldr	r3, [r0, #100]
2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4305              		.loc 1 2233 27 view .LVU1556
 4306 009e C3F3C233 		ubfx	r3, r3, #15, #3
ARM GAS  /tmp/ccxppnfb.s 			page 168


2233:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4307              		.loc 1 2233 25 view .LVU1557
 4308 00a2 0B76     		strb	r3, [r1, #24]
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4309              		.loc 1 2235 5 is_stmt 1 view .LVU1558
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4310              		.loc 1 2235 34 is_stmt 0 view .LVU1559
 4311 00a4 0B69     		ldr	r3, [r1, #16]
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4312              		.loc 1 2235 47 view .LVU1560
 4313 00a6 0133     		adds	r3, r3, #1
2235:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4314              		.loc 1 2235 27 view .LVU1561
 4315 00a8 8364     		str	r3, [r0, #72]
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4316              		.loc 1 2236 5 is_stmt 1 view .LVU1562
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4317              		.loc 1 2236 43 is_stmt 0 view .LVU1563
 4318 00aa 0A7E     		ldrb	r2, [r1, #24]	@ zero_extendqisi2
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4319              		.loc 1 2236 59 view .LVU1564
 4320 00ac 02F00702 		and	r2, r2, #7
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4321              		.loc 1 2236 68 view .LVU1565
 4322 00b0 0232     		adds	r2, r2, #2
2236:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4323              		.loc 1 2236 26 view .LVU1566
 4324 00b2 03FA02F2 		lsl	r2, r3, r2
 4325 00b6 8264     		str	r2, [r0, #72]
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4326              		.loc 1 2237 5 is_stmt 1 view .LVU1567
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4327              		.loc 1 2237 42 is_stmt 0 view .LVU1568
 4328 00b8 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4329              		.loc 1 2237 55 view .LVU1569
 4330 00ba 03F00F04 		and	r4, r3, #15
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4331              		.loc 1 2237 34 view .LVU1570
 4332 00be 0123     		movs	r3, #1
 4333 00c0 A340     		lsls	r3, r3, r4
2237:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4334              		.loc 1 2237 27 view .LVU1571
 4335 00c2 C364     		str	r3, [r0, #76]
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4336              		.loc 1 2239 5 is_stmt 1 view .LVU1572
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4337              		.loc 1 2239 81 is_stmt 0 view .LVU1573
 4338 00c4 5B0A     		lsrs	r3, r3, #9
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4339              		.loc 1 2239 54 view .LVU1574
 4340 00c6 03FB02F3 		mul	r3, r3, r2
2239:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4341              		.loc 1 2239 29 view .LVU1575
 4342 00ca 0365     		str	r3, [r0, #80]
2240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4343              		.loc 1 2240 5 is_stmt 1 view .LVU1576
ARM GAS  /tmp/ccxppnfb.s 			page 169


2240:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4344              		.loc 1 2240 30 is_stmt 0 view .LVU1577
 4345 00cc 4FF40073 		mov	r3, #512
 4346 00d0 4365     		str	r3, [r0, #84]
 4347              	.L264:
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4348              		.loc 1 2261 3 is_stmt 1 view .LVU1578
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4349              		.loc 1 2261 42 is_stmt 0 view .LVU1579
 4350 00d2 436E     		ldr	r3, [r0, #100]
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4351              		.loc 1 2261 23 view .LVU1580
 4352 00d4 C3F38033 		ubfx	r3, r3, #14, #1
2261:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4353              		.loc 1 2261 21 view .LVU1581
 4354 00d8 4B76     		strb	r3, [r1, #25]
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4355              		.loc 1 2263 3 is_stmt 1 view .LVU1582
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4356              		.loc 1 2263 41 is_stmt 0 view .LVU1583
 4357 00da 436E     		ldr	r3, [r0, #100]
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4358              		.loc 1 2263 22 view .LVU1584
 4359 00dc C3F3C613 		ubfx	r3, r3, #7, #7
2263:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4360              		.loc 1 2263 20 view .LVU1585
 4361 00e0 8B76     		strb	r3, [r1, #26]
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4362              		.loc 1 2265 3 is_stmt 1 view .LVU1586
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4363              		.loc 1 2265 45 is_stmt 0 view .LVU1587
 4364 00e2 436E     		ldr	r3, [r0, #100]
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4365              		.loc 1 2265 27 view .LVU1588
 4366 00e4 03F07F03 		and	r3, r3, #127
2265:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4367              		.loc 1 2265 25 view .LVU1589
 4368 00e8 CB76     		strb	r3, [r1, #27]
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4369              		.loc 1 2267 3 is_stmt 1 view .LVU1590
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4370              		.loc 1 2267 48 is_stmt 0 view .LVU1591
 4371 00ea 836E     		ldr	r3, [r0, #104]
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4372              		.loc 1 2267 29 view .LVU1592
 4373 00ec DB0F     		lsrs	r3, r3, #31
2267:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4374              		.loc 1 2267 27 view .LVU1593
 4375 00ee 0B77     		strb	r3, [r1, #28]
2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4376              		.loc 1 2269 3 is_stmt 1 view .LVU1594
2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4377              		.loc 1 2269 41 is_stmt 0 view .LVU1595
 4378 00f0 836E     		ldr	r3, [r0, #104]
2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4379              		.loc 1 2269 22 view .LVU1596
 4380 00f2 C3F34173 		ubfx	r3, r3, #29, #2
ARM GAS  /tmp/ccxppnfb.s 			page 170


2269:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4381              		.loc 1 2269 20 view .LVU1597
 4382 00f6 4B77     		strb	r3, [r1, #29]
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4383              		.loc 1 2271 3 is_stmt 1 view .LVU1598
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4384              		.loc 1 2271 42 is_stmt 0 view .LVU1599
 4385 00f8 836E     		ldr	r3, [r0, #104]
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4386              		.loc 1 2271 23 view .LVU1600
 4387 00fa C3F38263 		ubfx	r3, r3, #26, #3
2271:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4388              		.loc 1 2271 21 view .LVU1601
 4389 00fe 8B77     		strb	r3, [r1, #30]
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4390              		.loc 1 2273 3 is_stmt 1 view .LVU1602
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4391              		.loc 1 2273 44 is_stmt 0 view .LVU1603
 4392 0100 836E     		ldr	r3, [r0, #104]
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4393              		.loc 1 2273 25 view .LVU1604
 4394 0102 C3F38353 		ubfx	r3, r3, #22, #4
2273:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4395              		.loc 1 2273 23 view .LVU1605
 4396 0106 CB77     		strb	r3, [r1, #31]
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4397              		.loc 1 2275 3 is_stmt 1 view .LVU1606
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4398              		.loc 1 2275 50 is_stmt 0 view .LVU1607
 4399 0108 836E     		ldr	r3, [r0, #104]
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4400              		.loc 1 2275 31 view .LVU1608
 4401 010a C3F34053 		ubfx	r3, r3, #21, #1
2275:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4402              		.loc 1 2275 29 view .LVU1609
 4403 010e 81F82030 		strb	r3, [r1, #32]
2277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4404              		.loc 1 2277 3 is_stmt 1 view .LVU1610
2277:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4405              		.loc 1 2277 19 is_stmt 0 view .LVU1611
 4406 0112 0023     		movs	r3, #0
 4407 0114 81F82130 		strb	r3, [r1, #33]
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4408              		.loc 1 2279 3 is_stmt 1 view .LVU1612
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4409              		.loc 1 2279 69 is_stmt 0 view .LVU1613
 4410 0118 B0F86A20 		ldrh	r2, [r0, #106]
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4411              		.loc 1 2279 31 view .LVU1614
 4412 011c 02F00102 		and	r2, r2, #1
2279:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4413              		.loc 1 2279 29 view .LVU1615
 4414 0120 81F82220 		strb	r2, [r1, #34]
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4415              		.loc 1 2281 3 is_stmt 1 view .LVU1616
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4416              		.loc 1 2281 46 is_stmt 0 view .LVU1617
ARM GAS  /tmp/ccxppnfb.s 			page 171


 4417 0124 826E     		ldr	r2, [r0, #104]
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4418              		.loc 1 2281 27 view .LVU1618
 4419 0126 C2F3C032 		ubfx	r2, r2, #15, #1
2281:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4420              		.loc 1 2281 25 view .LVU1619
 4421 012a 81F82320 		strb	r2, [r1, #35]
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4422              		.loc 1 2283 3 is_stmt 1 view .LVU1620
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4423              		.loc 1 2283 39 is_stmt 0 view .LVU1621
 4424 012e 826E     		ldr	r2, [r0, #104]
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4425              		.loc 1 2283 20 view .LVU1622
 4426 0130 C2F38032 		ubfx	r2, r2, #14, #1
2283:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4427              		.loc 1 2283 18 view .LVU1623
 4428 0134 81F82420 		strb	r2, [r1, #36]
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4429              		.loc 1 2285 3 is_stmt 1 view .LVU1624
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4430              		.loc 1 2285 44 is_stmt 0 view .LVU1625
 4431 0138 826E     		ldr	r2, [r0, #104]
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4432              		.loc 1 2285 25 view .LVU1626
 4433 013a C2F34032 		ubfx	r2, r2, #13, #1
2285:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4434              		.loc 1 2285 23 view .LVU1627
 4435 013e 81F82520 		strb	r2, [r1, #37]
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4436              		.loc 1 2287 3 is_stmt 1 view .LVU1628
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4437              		.loc 1 2287 44 is_stmt 0 view .LVU1629
 4438 0142 826E     		ldr	r2, [r0, #104]
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4439              		.loc 1 2287 25 view .LVU1630
 4440 0144 C2F30032 		ubfx	r2, r2, #12, #1
2287:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4441              		.loc 1 2287 23 view .LVU1631
 4442 0148 81F82620 		strb	r2, [r1, #38]
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4443              		.loc 1 2289 3 is_stmt 1 view .LVU1632
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4444              		.loc 1 2289 41 is_stmt 0 view .LVU1633
 4445 014c 826E     		ldr	r2, [r0, #104]
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4446              		.loc 1 2289 22 view .LVU1634
 4447 014e C2F38122 		ubfx	r2, r2, #10, #2
2289:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4448              		.loc 1 2289 20 view .LVU1635
 4449 0152 81F82720 		strb	r2, [r1, #39]
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4450              		.loc 1 2291 3 is_stmt 1 view .LVU1636
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4451              		.loc 1 2291 34 is_stmt 0 view .LVU1637
 4452 0156 826E     		ldr	r2, [r0, #104]
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 172


 4453              		.loc 1 2291 15 view .LVU1638
 4454 0158 C2F30122 		ubfx	r2, r2, #8, #2
2291:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4455              		.loc 1 2291 13 view .LVU1639
 4456 015c 81F82820 		strb	r2, [r1, #40]
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4457              		.loc 1 2293 3 is_stmt 1 view .LVU1640
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4458              		.loc 1 2293 38 is_stmt 0 view .LVU1641
 4459 0160 826E     		ldr	r2, [r0, #104]
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4460              		.loc 1 2293 19 view .LVU1642
 4461 0162 C2F34602 		ubfx	r2, r2, #1, #7
2293:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4462              		.loc 1 2293 17 view .LVU1643
 4463 0166 81F82920 		strb	r2, [r1, #41]
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4464              		.loc 1 2295 3 is_stmt 1 view .LVU1644
2295:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4465              		.loc 1 2295 19 is_stmt 0 view .LVU1645
 4466 016a 0122     		movs	r2, #1
 4467 016c 81F82A20 		strb	r2, [r1, #42]
2297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4468              		.loc 1 2297 3 is_stmt 1 view .LVU1646
2297:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4469              		.loc 1 2297 10 is_stmt 0 view .LVU1647
 4470 0170 1846     		mov	r0, r3
 4471              	.LVL326:
 4472              	.L266:
2298:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4473              		.loc 1 2298 1 view .LVU1648
 4474 0172 5DF8044B 		ldr	r4, [sp], #4
 4475              	.LCFI52:
 4476              		.cfi_remember_state
 4477              		.cfi_restore 4
 4478              		.cfi_def_cfa_offset 0
 4479 0176 7047     		bx	lr
 4480              	.LVL327:
 4481              	.L263:
 4482              	.LCFI53:
 4483              		.cfi_restore_state
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4484              		.loc 1 2242 8 is_stmt 1 view .LVU1649
2242:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4485              		.loc 1 2242 11 is_stmt 0 view .LVU1650
 4486 0178 012B     		cmp	r3, #1
 4487 017a 11D1     		bne	.L265
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4488              		.loc 1 2245 5 is_stmt 1 view .LVU1651
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4489              		.loc 1 2245 35 is_stmt 0 view .LVU1652
 4490 017c 036E     		ldr	r3, [r0, #96]
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4491              		.loc 1 2245 54 view .LVU1653
 4492 017e 1B04     		lsls	r3, r3, #16
 4493 0180 03F47C13 		and	r3, r3, #4128768
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 173


 4494              		.loc 1 2245 93 view .LVU1654
 4495 0184 B0F86620 		ldrh	r2, [r0, #102]
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4496              		.loc 1 2245 62 view .LVU1655
 4497 0188 1343     		orrs	r3, r3, r2
2245:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4498              		.loc 1 2245 22 view .LVU1656
 4499 018a 0B61     		str	r3, [r1, #16]
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4500              		.loc 1 2247 5 is_stmt 1 view .LVU1657
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4501              		.loc 1 2247 34 is_stmt 0 view .LVU1658
 4502 018c 0B69     		ldr	r3, [r1, #16]
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4503              		.loc 1 2247 47 view .LVU1659
 4504 018e 0133     		adds	r3, r3, #1
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4505              		.loc 1 2247 53 view .LVU1660
 4506 0190 9B02     		lsls	r3, r3, #10
2247:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4507              		.loc 1 2247 26 view .LVU1661
 4508 0192 8364     		str	r3, [r0, #72]
2248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4509              		.loc 1 2248 5 is_stmt 1 view .LVU1662
2248:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4510              		.loc 1 2248 29 is_stmt 0 view .LVU1663
 4511 0194 0365     		str	r3, [r0, #80]
2249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4512              		.loc 1 2249 5 is_stmt 1 view .LVU1664
2249:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4513              		.loc 1 2249 27 is_stmt 0 view .LVU1665
 4514 0196 4FF40073 		mov	r3, #512
 4515 019a C364     		str	r3, [r0, #76]
2250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4516              		.loc 1 2250 5 is_stmt 1 view .LVU1666
2250:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4517              		.loc 1 2250 30 is_stmt 0 view .LVU1667
 4518 019c 4365     		str	r3, [r0, #84]
 4519 019e 98E7     		b	.L264
 4520              	.L265:
2255:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4521              		.loc 1 2255 5 is_stmt 1 view .LVU1668
 4522 01a0 0368     		ldr	r3, [r0]
 4523 01a2 054A     		ldr	r2, .L268
 4524 01a4 9A63     		str	r2, [r3, #56]
2256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4525              		.loc 1 2256 5 view .LVU1669
2256:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4526              		.loc 1 2256 20 is_stmt 0 view .LVU1670
 4527 01a6 436B     		ldr	r3, [r0, #52]
 4528 01a8 43F08053 		orr	r3, r3, #268435456
 4529 01ac 4363     		str	r3, [r0, #52]
2257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4530              		.loc 1 2257 5 is_stmt 1 view .LVU1671
2257:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4531              		.loc 1 2257 16 is_stmt 0 view .LVU1672
 4532 01ae 0123     		movs	r3, #1
ARM GAS  /tmp/ccxppnfb.s 			page 174


 4533 01b0 80F83030 		strb	r3, [r0, #48]
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4534              		.loc 1 2258 5 is_stmt 1 view .LVU1673
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4535              		.loc 1 2258 12 is_stmt 0 view .LVU1674
 4536 01b4 1846     		mov	r0, r3
 4537              	.LVL328:
2258:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4538              		.loc 1 2258 12 view .LVU1675
 4539 01b6 DCE7     		b	.L266
 4540              	.L269:
 4541              		.align	2
 4542              	.L268:
 4543 01b8 FF0FE01F 		.word	534777855
 4544              		.cfi_endproc
 4545              	.LFE370:
 4547              		.section	.text.SD_InitCard,"ax",%progbits
 4548              		.align	1
 4549              		.syntax unified
 4550              		.thumb
 4551              		.thumb_func
 4552              		.fpu fpv5-d16
 4554              	SD_InitCard:
 4555              	.LVL329:
 4556              	.LFB378:
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4557              		.loc 1 3041 1 is_stmt 1 view -0
 4558              		.cfi_startproc
 4559              		@ args = 0, pretend = 0, frame = 48
 4560              		@ frame_needed = 0, uses_anonymous_args = 0
3041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4561              		.loc 1 3041 1 is_stmt 0 view .LVU1677
 4562 0000 30B5     		push	{r4, r5, lr}
 4563              	.LCFI54:
 4564              		.cfi_def_cfa_offset 12
 4565              		.cfi_offset 4, -12
 4566              		.cfi_offset 5, -8
 4567              		.cfi_offset 14, -4
 4568 0002 8DB0     		sub	sp, sp, #52
 4569              	.LCFI55:
 4570              		.cfi_def_cfa_offset 64
 4571 0004 0446     		mov	r4, r0
3042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4572              		.loc 1 3042 3 is_stmt 1 view .LVU1678
3043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 0U;
 4573              		.loc 1 3043 3 view .LVU1679
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 4574              		.loc 1 3044 3 view .LVU1680
3044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 4575              		.loc 1 3044 12 is_stmt 0 view .LVU1681
 4576 0006 0023     		movs	r3, #0
 4577 0008 ADF80230 		strh	r3, [sp, #2]	@ movhi
3045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4578              		.loc 1 3045 3 is_stmt 1 view .LVU1682
3045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4579              		.loc 1 3045 24 is_stmt 0 view .LVU1683
 4580 000c FFF7FEFF 		bl	HAL_GetTick
ARM GAS  /tmp/ccxppnfb.s 			page 175


 4581              	.LVL330:
3045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4582              		.loc 1 3045 24 view .LVU1684
 4583 0010 0546     		mov	r5, r0
 4584              	.LVL331:
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4585              		.loc 1 3048 3 is_stmt 1 view .LVU1685
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4586              		.loc 1 3048 7 is_stmt 0 view .LVU1686
 4587 0012 2068     		ldr	r0, [r4]
 4588              	.LVL332:
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4589              		.loc 1 3048 7 view .LVU1687
 4590 0014 FFF7FEFF 		bl	SDMMC_GetPowerState
 4591              	.LVL333:
3048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4592              		.loc 1 3048 6 view .LVU1688
 4593 0018 0028     		cmp	r0, #0
 4594 001a 67D0     		beq	.L277
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4595              		.loc 1 3054 3 is_stmt 1 view .LVU1689
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4596              		.loc 1 3054 18 is_stmt 0 view .LVU1690
 4597 001c A36B     		ldr	r3, [r4, #56]
3054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4598              		.loc 1 3054 6 view .LVU1691
 4599 001e 032B     		cmp	r3, #3
 4600 0020 17D1     		bne	.L281
 4601              	.L272:
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4602              		.loc 1 3072 3 is_stmt 1 view .LVU1692
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4603              		.loc 1 3072 18 is_stmt 0 view .LVU1693
 4604 0022 A36B     		ldr	r3, [r4, #56]
3072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4605              		.loc 1 3072 6 view .LVU1694
 4606 0024 032B     		cmp	r3, #3
 4607 0026 2FD0     		beq	.L274
 4608              	.L273:
3076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4609              		.loc 1 3076 11 is_stmt 1 view .LVU1695
3076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4610              		.loc 1 3076 19 is_stmt 0 view .LVU1696
 4611 0028 BDF80230 		ldrh	r3, [sp, #2]
3076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4612              		.loc 1 3076 11 view .LVU1697
 4613 002c 63BB     		cbnz	r3, .L274
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 4614              		.loc 1 3078 7 is_stmt 1 view .LVU1698
3078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 4615              		.loc 1 3078 20 is_stmt 0 view .LVU1699
 4616 002e 0DF10201 		add	r1, sp, #2
 4617 0032 2068     		ldr	r0, [r4]
 4618 0034 FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 4619              	.LVL334:
3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4620              		.loc 1 3079 7 is_stmt 1 view .LVU1700
ARM GAS  /tmp/ccxppnfb.s 			page 176


3079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4621              		.loc 1 3079 10 is_stmt 0 view .LVU1701
 4622 0038 0346     		mov	r3, r0
 4623 003a 0028     		cmp	r0, #0
 4624 003c 58D1     		bne	.L270
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4625              		.loc 1 3083 7 is_stmt 1 view .LVU1702
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4626              		.loc 1 3083 12 is_stmt 0 view .LVU1703
 4627 003e FFF7FEFF 		bl	HAL_GetTick
 4628              	.LVL335:
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4629              		.loc 1 3083 26 view .LVU1704
 4630 0042 431B     		subs	r3, r0, r5
3083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 4631              		.loc 1 3083 10 view .LVU1705
 4632 0044 41F28732 		movw	r2, #4999
 4633 0048 9342     		cmp	r3, r2
 4634 004a EDD9     		bls	.L273
3085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 4635              		.loc 1 3085 16 view .LVU1706
 4636 004c 4FF00043 		mov	r3, #-2147483648
 4637 0050 4EE0     		b	.L270
 4638              	.L281:
3057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4639              		.loc 1 3057 5 is_stmt 1 view .LVU1707
3057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4640              		.loc 1 3057 18 is_stmt 0 view .LVU1708
 4641 0052 2068     		ldr	r0, [r4]
 4642 0054 FFF7FEFF 		bl	SDMMC_CmdSendCID
 4643              	.LVL336:
3058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4644              		.loc 1 3058 5 is_stmt 1 view .LVU1709
3058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4645              		.loc 1 3058 8 is_stmt 0 view .LVU1710
 4646 0058 0346     		mov	r3, r0
 4647 005a 0028     		cmp	r0, #0
 4648 005c 48D1     		bne	.L270
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4649              		.loc 1 3065 7 is_stmt 1 view .LVU1711
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4650              		.loc 1 3065 22 is_stmt 0 view .LVU1712
 4651 005e 0021     		movs	r1, #0
 4652 0060 2068     		ldr	r0, [r4]
 4653              	.LVL337:
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4654              		.loc 1 3065 22 view .LVU1713
 4655 0062 FFF7FEFF 		bl	SDMMC_GetResponse
 4656              	.LVL338:
3065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4657              		.loc 1 3065 20 view .LVU1714
 4658 0066 E066     		str	r0, [r4, #108]
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4659              		.loc 1 3066 7 is_stmt 1 view .LVU1715
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4660              		.loc 1 3066 22 is_stmt 0 view .LVU1716
 4661 0068 0421     		movs	r1, #4
ARM GAS  /tmp/ccxppnfb.s 			page 177


 4662 006a 2068     		ldr	r0, [r4]
 4663 006c FFF7FEFF 		bl	SDMMC_GetResponse
 4664              	.LVL339:
3066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4665              		.loc 1 3066 20 view .LVU1717
 4666 0070 2067     		str	r0, [r4, #112]
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4667              		.loc 1 3067 7 is_stmt 1 view .LVU1718
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4668              		.loc 1 3067 22 is_stmt 0 view .LVU1719
 4669 0072 0821     		movs	r1, #8
 4670 0074 2068     		ldr	r0, [r4]
 4671 0076 FFF7FEFF 		bl	SDMMC_GetResponse
 4672              	.LVL340:
3067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4673              		.loc 1 3067 20 view .LVU1720
 4674 007a 6067     		str	r0, [r4, #116]
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4675              		.loc 1 3068 7 is_stmt 1 view .LVU1721
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4676              		.loc 1 3068 22 is_stmt 0 view .LVU1722
 4677 007c 0C21     		movs	r1, #12
 4678 007e 2068     		ldr	r0, [r4]
 4679 0080 FFF7FEFF 		bl	SDMMC_GetResponse
 4680              	.LVL341:
3068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4681              		.loc 1 3068 20 view .LVU1723
 4682 0084 A067     		str	r0, [r4, #120]
 4683 0086 CCE7     		b	.L272
 4684              	.L274:
3089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4685              		.loc 1 3089 3 is_stmt 1 view .LVU1724
3089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4686              		.loc 1 3089 18 is_stmt 0 view .LVU1725
 4687 0088 A36B     		ldr	r3, [r4, #56]
3089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4688              		.loc 1 3089 6 view .LVU1726
 4689 008a 032B     		cmp	r3, #3
 4690 008c 1CD0     		beq	.L276
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4691              		.loc 1 3092 5 is_stmt 1 view .LVU1727
3092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4692              		.loc 1 3092 28 is_stmt 0 view .LVU1728
 4693 008e BDF80210 		ldrh	r1, [sp, #2]
 4694 0092 6164     		str	r1, [r4, #68]
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4695              		.loc 1 3095 5 is_stmt 1 view .LVU1729
3095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 4696              		.loc 1 3095 18 is_stmt 0 view .LVU1730
 4697 0094 0904     		lsls	r1, r1, #16
 4698 0096 2068     		ldr	r0, [r4]
 4699 0098 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 4700              	.LVL342:
3096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4701              		.loc 1 3096 5 is_stmt 1 view .LVU1731
3096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 4702              		.loc 1 3096 8 is_stmt 0 view .LVU1732
ARM GAS  /tmp/ccxppnfb.s 			page 178


 4703 009c 0346     		mov	r3, r0
 4704 009e 38BB     		cbnz	r0, .L270
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4705              		.loc 1 3103 7 is_stmt 1 view .LVU1733
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4706              		.loc 1 3103 22 is_stmt 0 view .LVU1734
 4707 00a0 0021     		movs	r1, #0
 4708 00a2 2068     		ldr	r0, [r4]
 4709              	.LVL343:
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4710              		.loc 1 3103 22 view .LVU1735
 4711 00a4 FFF7FEFF 		bl	SDMMC_GetResponse
 4712              	.LVL344:
3103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 4713              		.loc 1 3103 20 view .LVU1736
 4714 00a8 E065     		str	r0, [r4, #92]
3104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4715              		.loc 1 3104 7 is_stmt 1 view .LVU1737
3104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4716              		.loc 1 3104 22 is_stmt 0 view .LVU1738
 4717 00aa 0421     		movs	r1, #4
 4718 00ac 2068     		ldr	r0, [r4]
 4719 00ae FFF7FEFF 		bl	SDMMC_GetResponse
 4720              	.LVL345:
3104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 4721              		.loc 1 3104 20 view .LVU1739
 4722 00b2 2066     		str	r0, [r4, #96]
3105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4723              		.loc 1 3105 7 is_stmt 1 view .LVU1740
3105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4724              		.loc 1 3105 22 is_stmt 0 view .LVU1741
 4725 00b4 0821     		movs	r1, #8
 4726 00b6 2068     		ldr	r0, [r4]
 4727 00b8 FFF7FEFF 		bl	SDMMC_GetResponse
 4728              	.LVL346:
3105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 4729              		.loc 1 3105 20 view .LVU1742
 4730 00bc 6066     		str	r0, [r4, #100]
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4731              		.loc 1 3106 7 is_stmt 1 view .LVU1743
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4732              		.loc 1 3106 22 is_stmt 0 view .LVU1744
 4733 00be 0C21     		movs	r1, #12
 4734 00c0 2068     		ldr	r0, [r4]
 4735 00c2 FFF7FEFF 		bl	SDMMC_GetResponse
 4736              	.LVL347:
3106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 4737              		.loc 1 3106 20 view .LVU1745
 4738 00c6 A066     		str	r0, [r4, #104]
 4739              	.L276:
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4740              		.loc 1 3111 3 is_stmt 1 view .LVU1746
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4741              		.loc 1 3111 24 is_stmt 0 view .LVU1747
 4742 00c8 0421     		movs	r1, #4
 4743 00ca 2068     		ldr	r0, [r4]
 4744 00cc FFF7FEFF 		bl	SDMMC_GetResponse
ARM GAS  /tmp/ccxppnfb.s 			page 179


 4745              	.LVL348:
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4746              		.loc 1 3111 70 view .LVU1748
 4747 00d0 000D     		lsrs	r0, r0, #20
3111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4748              		.loc 1 3111 21 view .LVU1749
 4749 00d2 2064     		str	r0, [r4, #64]
3114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4750              		.loc 1 3114 3 is_stmt 1 view .LVU1750
3114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4751              		.loc 1 3114 7 is_stmt 0 view .LVU1751
 4752 00d4 01A9     		add	r1, sp, #4
 4753 00d6 2046     		mov	r0, r4
 4754 00d8 FFF7FEFF 		bl	HAL_SD_GetCardCSD
 4755              	.LVL349:
3114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4756              		.loc 1 3114 6 view .LVU1752
 4757 00dc 58B9     		cbnz	r0, .L279
3120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4758              		.loc 1 3120 3 is_stmt 1 view .LVU1753
3120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4759              		.loc 1 3120 82 is_stmt 0 view .LVU1754
 4760 00de 616C     		ldr	r1, [r4, #68]
3120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4761              		.loc 1 3120 16 view .LVU1755
 4762 00e0 0904     		lsls	r1, r1, #16
 4763 00e2 2068     		ldr	r0, [r4]
 4764 00e4 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 4765              	.LVL350:
 4766 00e8 0346     		mov	r3, r0
 4767              	.LVL351:
3121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4768              		.loc 1 3121 3 is_stmt 1 view .LVU1756
 4769 00ea 01E0     		b	.L270
 4770              	.LVL352:
 4771              	.L277:
3051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4772              		.loc 1 3051 12 is_stmt 0 view .LVU1757
 4773 00ec 4FF08063 		mov	r3, #67108864
 4774              	.L270:
3128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4775              		.loc 1 3128 1 view .LVU1758
 4776 00f0 1846     		mov	r0, r3
 4777 00f2 0DB0     		add	sp, sp, #52
 4778              	.LCFI56:
 4779              		.cfi_remember_state
 4780              		.cfi_def_cfa_offset 12
 4781              		@ sp needed
 4782 00f4 30BD     		pop	{r4, r5, pc}
 4783              	.LVL353:
 4784              	.L279:
 4785              	.LCFI57:
 4786              		.cfi_restore_state
3116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4787              		.loc 1 3116 12 view .LVU1759
 4788 00f6 4FF08053 		mov	r3, #268435456
 4789 00fa F9E7     		b	.L270
ARM GAS  /tmp/ccxppnfb.s 			page 180


 4790              		.cfi_endproc
 4791              	.LFE378:
 4793              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 4794              		.align	1
 4795              		.global	HAL_SD_InitCard
 4796              		.syntax unified
 4797              		.thumb
 4798              		.thumb_func
 4799              		.fpu fpv5-d16
 4801              	HAL_SD_InitCard:
 4802              	.LVL354:
 4803              	.LFB351:
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4804              		.loc 1 470 1 is_stmt 1 view -0
 4805              		.cfi_startproc
 4806              		@ args = 0, pretend = 0, frame = 24
 4807              		@ frame_needed = 0, uses_anonymous_args = 0
 470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 4808              		.loc 1 470 1 is_stmt 0 view .LVU1761
 4809 0000 70B5     		push	{r4, r5, r6, lr}
 4810              	.LCFI58:
 4811              		.cfi_def_cfa_offset 16
 4812              		.cfi_offset 4, -16
 4813              		.cfi_offset 5, -12
 4814              		.cfi_offset 6, -8
 4815              		.cfi_offset 14, -4
 4816 0002 88B0     		sub	sp, sp, #32
 4817              	.LCFI59:
 4818              		.cfi_def_cfa_offset 48
 4819 0004 0446     		mov	r4, r0
 471:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 4820              		.loc 1 471 3 is_stmt 1 view .LVU1762
 472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 4821              		.loc 1 472 3 view .LVU1763
 473:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4822              		.loc 1 473 3 view .LVU1764
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 4823              		.loc 1 476 3 view .LVU1765
 476:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 4824              		.loc 1 476 28 is_stmt 0 view .LVU1766
 4825 0006 0023     		movs	r3, #0
 4826 0008 0393     		str	r3, [sp, #12]
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4827              		.loc 1 477 3 is_stmt 1 view .LVU1767
 477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 4828              		.loc 1 477 28 is_stmt 0 view .LVU1768
 4829 000a 0493     		str	r3, [sp, #16]
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4830              		.loc 1 478 3 is_stmt 1 view .LVU1769
 478:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 4831              		.loc 1 478 28 is_stmt 0 view .LVU1770
 4832 000c 0593     		str	r3, [sp, #20]
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4833              		.loc 1 479 3 is_stmt 1 view .LVU1771
 479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4834              		.loc 1 479 28 is_stmt 0 view .LVU1772
 4835 000e 0693     		str	r3, [sp, #24]
ARM GAS  /tmp/ccxppnfb.s 			page 181


 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4836              		.loc 1 482 3 is_stmt 1 view .LVU1773
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4837              		.loc 1 482 19 is_stmt 0 view .LVU1774
 4838 0010 4FF48030 		mov	r0, #65536
 4839              	.LVL355:
 482:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 4840              		.loc 1 482 19 view .LVU1775
 4841 0014 0021     		movs	r1, #0
 4842 0016 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 4843              	.LVL356:
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4844              		.loc 1 483 3 is_stmt 1 view .LVU1776
 483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4845              		.loc 1 483 6 is_stmt 0 view .LVU1777
 4846 001a 38B9     		cbnz	r0, .L283
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4847              		.loc 1 485 5 is_stmt 1 view .LVU1778
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4848              		.loc 1 485 16 is_stmt 0 view .LVU1779
 4849 001c 0120     		movs	r0, #1
 4850              	.LVL357:
 485:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 4851              		.loc 1 485 16 view .LVU1780
 4852 001e 84F83000 		strb	r0, [r4, #48]
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4853              		.loc 1 486 5 is_stmt 1 view .LVU1781
 486:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4854              		.loc 1 486 20 is_stmt 0 view .LVU1782
 4855 0022 4FF00063 		mov	r3, #134217728
 4856 0026 6363     		str	r3, [r4, #52]
 487:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4857              		.loc 1 487 5 is_stmt 1 view .LVU1783
 4858              	.L284:
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4859              		.loc 1 552 1 is_stmt 0 view .LVU1784
 4860 0028 08B0     		add	sp, sp, #32
 4861              	.LCFI60:
 4862              		.cfi_remember_state
 4863              		.cfi_def_cfa_offset 16
 4864              		@ sp needed
 4865 002a 70BD     		pop	{r4, r5, r6, pc}
 4866              	.LVL358:
 4867              	.L283:
 4868              	.LCFI61:
 4869              		.cfi_restore_state
 552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4870              		.loc 1 552 1 view .LVU1785
 4871 002c 0646     		mov	r6, r0
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4872              		.loc 1 489 3 is_stmt 1 view .LVU1786
 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4873              		.loc 1 489 29 is_stmt 0 view .LVU1787
 4874 002e 050A     		lsrs	r5, r0, #8
 4875 0030 234B     		ldr	r3, .L293
 4876 0032 A3FB0535 		umull	r3, r5, r3, r5
 4877 0036 2D09     		lsrs	r5, r5, #4
ARM GAS  /tmp/ccxppnfb.s 			page 182


 489:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4878              		.loc 1 489 17 view .LVU1788
 4879 0038 0795     		str	r5, [sp, #28]
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4880              		.loc 1 505 3 is_stmt 1 view .LVU1789
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4881              		.loc 1 505 9 is_stmt 0 view .LVU1790
 4882 003a 08AB     		add	r3, sp, #32
 4883 003c 13E90300 		ldmdb	r3, {r0, r1}
 4884              	.LVL359:
 505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4885              		.loc 1 505 9 view .LVU1791
 4886 0040 8DE80300 		stm	sp, {r0, r1}
 4887 0044 03AB     		add	r3, sp, #12
 4888 0046 0ECB     		ldm	r3, {r1, r2, r3}
 4889 0048 2068     		ldr	r0, [r4]
 4890 004a FFF7FEFF 		bl	SDMMC_Init
 4891              	.LVL360:
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4892              		.loc 1 508 3 is_stmt 1 view .LVU1792
 508:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 4893              		.loc 1 508 9 is_stmt 0 view .LVU1793
 4894 004e 2068     		ldr	r0, [r4]
 4895 0050 FFF7FEFF 		bl	SDMMC_PowerState_ON
 4896              	.LVL361:
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4897              		.loc 1 512 3 is_stmt 1 view .LVU1794
 512:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4898              		.loc 1 512 6 is_stmt 0 view .LVU1795
 4899 0054 15B1     		cbz	r5, .L285
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4900              		.loc 1 514 5 is_stmt 1 view .LVU1796
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4901              		.loc 1 514 33 is_stmt 0 view .LVU1797
 4902 0056 6D00     		lsls	r5, r5, #1
 514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4903              		.loc 1 514 15 view .LVU1798
 4904 0058 B6FBF5F6 		udiv	r6, r6, r5
 4905              	.LVL362:
 4906              	.L285:
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4907              		.loc 1 517 3 is_stmt 1 view .LVU1799
 517:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4908              		.loc 1 517 6 is_stmt 0 view .LVU1800
 4909 005c 5EB9     		cbnz	r6, .L291
 4910              	.L286:
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4911              		.loc 1 523 3 is_stmt 1 view .LVU1801
 523:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4912              		.loc 1 523 16 is_stmt 0 view .LVU1802
 4913 005e 2046     		mov	r0, r4
 4914 0060 FFF7FEFF 		bl	SD_PowerON
 4915              	.LVL363:
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4916              		.loc 1 524 3 is_stmt 1 view .LVU1803
 524:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4917              		.loc 1 524 6 is_stmt 0 view .LVU1804
ARM GAS  /tmp/ccxppnfb.s 			page 183


 4918 0064 0246     		mov	r2, r0
 4919 0066 68B1     		cbz	r0, .L287
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4920              		.loc 1 526 5 is_stmt 1 view .LVU1805
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4921              		.loc 1 526 16 is_stmt 0 view .LVU1806
 4922 0068 0120     		movs	r0, #1
 4923              	.LVL364:
 526:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4924              		.loc 1 526 16 view .LVU1807
 4925 006a 84F83000 		strb	r0, [r4, #48]
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4926              		.loc 1 527 5 is_stmt 1 view .LVU1808
 527:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4927              		.loc 1 527 20 is_stmt 0 view .LVU1809
 4928 006e 636B     		ldr	r3, [r4, #52]
 4929 0070 1343     		orrs	r3, r3, r2
 4930 0072 6363     		str	r3, [r4, #52]
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4931              		.loc 1 528 5 is_stmt 1 view .LVU1810
 528:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4932              		.loc 1 528 12 is_stmt 0 view .LVU1811
 4933 0074 D8E7     		b	.L284
 4934              	.LVL365:
 4935              	.L291:
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4936              		.loc 1 519 5 is_stmt 1 view .LVU1812
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4937              		.loc 1 519 33 is_stmt 0 view .LVU1813
 4938 0076 1348     		ldr	r0, .L293+4
 4939 0078 B0FBF6F0 		udiv	r0, r0, r6
 519:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4940              		.loc 1 519 5 view .LVU1814
 4941 007c 0130     		adds	r0, r0, #1
 4942 007e FFF7FEFF 		bl	HAL_Delay
 4943              	.LVL366:
 4944 0082 ECE7     		b	.L286
 4945              	.LVL367:
 4946              	.L287:
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4947              		.loc 1 532 3 is_stmt 1 view .LVU1815
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4948              		.loc 1 532 16 is_stmt 0 view .LVU1816
 4949 0084 2046     		mov	r0, r4
 4950              	.LVL368:
 532:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4951              		.loc 1 532 16 view .LVU1817
 4952 0086 FFF7FEFF 		bl	SD_InitCard
 4953              	.LVL369:
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4954              		.loc 1 533 3 is_stmt 1 view .LVU1818
 533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4955              		.loc 1 533 6 is_stmt 0 view .LVU1819
 4956 008a 0246     		mov	r2, r0
 4957 008c 30B1     		cbz	r0, .L288
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4958              		.loc 1 535 5 is_stmt 1 view .LVU1820
ARM GAS  /tmp/ccxppnfb.s 			page 184


 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4959              		.loc 1 535 16 is_stmt 0 view .LVU1821
 4960 008e 0120     		movs	r0, #1
 4961              	.LVL370:
 535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4962              		.loc 1 535 16 view .LVU1822
 4963 0090 84F83000 		strb	r0, [r4, #48]
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4964              		.loc 1 536 5 is_stmt 1 view .LVU1823
 536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4965              		.loc 1 536 20 is_stmt 0 view .LVU1824
 4966 0094 636B     		ldr	r3, [r4, #52]
 4967 0096 1343     		orrs	r3, r3, r2
 4968 0098 6363     		str	r3, [r4, #52]
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4969              		.loc 1 537 5 is_stmt 1 view .LVU1825
 537:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 4970              		.loc 1 537 12 is_stmt 0 view .LVU1826
 4971 009a C5E7     		b	.L284
 4972              	.LVL371:
 4973              	.L288:
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4974              		.loc 1 541 3 is_stmt 1 view .LVU1827
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4975              		.loc 1 541 16 is_stmt 0 view .LVU1828
 4976 009c 4FF40071 		mov	r1, #512
 4977 00a0 2068     		ldr	r0, [r4]
 4978              	.LVL372:
 541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4979              		.loc 1 541 16 view .LVU1829
 4980 00a2 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4981              	.LVL373:
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4982              		.loc 1 542 3 is_stmt 1 view .LVU1830
 542:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 4983              		.loc 1 542 6 is_stmt 0 view .LVU1831
 4984 00a6 08B9     		cbnz	r0, .L292
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4985              		.loc 1 551 10 view .LVU1832
 4986 00a8 0020     		movs	r0, #0
 4987              	.LVL374:
 551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4988              		.loc 1 551 10 view .LVU1833
 4989 00aa BDE7     		b	.L284
 4990              	.LVL375:
 4991              	.L292:
 545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4992              		.loc 1 545 5 is_stmt 1 view .LVU1834
 4993 00ac 2368     		ldr	r3, [r4]
 4994 00ae 0649     		ldr	r1, .L293+8
 4995 00b0 9963     		str	r1, [r3, #56]
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4996              		.loc 1 546 5 view .LVU1835
 546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4997              		.loc 1 546 20 is_stmt 0 view .LVU1836
 4998 00b2 636B     		ldr	r3, [r4, #52]
 4999 00b4 0343     		orrs	r3, r3, r0
ARM GAS  /tmp/ccxppnfb.s 			page 185


 5000 00b6 6363     		str	r3, [r4, #52]
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5001              		.loc 1 547 5 is_stmt 1 view .LVU1837
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5002              		.loc 1 547 16 is_stmt 0 view .LVU1838
 5003 00b8 0120     		movs	r0, #1
 5004              	.LVL376:
 547:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5005              		.loc 1 547 16 view .LVU1839
 5006 00ba 84F83000 		strb	r0, [r4, #48]
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5007              		.loc 1 548 5 is_stmt 1 view .LVU1840
 548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5008              		.loc 1 548 12 is_stmt 0 view .LVU1841
 5009 00be B3E7     		b	.L284
 5010              	.L294:
 5011              		.align	2
 5012              	.L293:
 5013 00c0 598B4F01 		.word	21990233
 5014 00c4 10210100 		.word	74000
 5015 00c8 FF0FE01F 		.word	534777855
 5016              		.cfi_endproc
 5017              	.LFE351:
 5019              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5020              		.align	1
 5021              		.global	HAL_SD_GetCardStatus
 5022              		.syntax unified
 5023              		.thumb
 5024              		.thumb_func
 5025              		.fpu fpv5-d16
 5027              	HAL_SD_GetCardStatus:
 5028              	.LVL377:
 5029              	.LFB371:
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
 5030              		.loc 1 2308 1 is_stmt 1 view -0
 5031              		.cfi_startproc
 5032              		@ args = 0, pretend = 0, frame = 64
 5033              		@ frame_needed = 0, uses_anonymous_args = 0
2308:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
 5034              		.loc 1 2308 1 is_stmt 0 view .LVU1843
 5035 0000 30B5     		push	{r4, r5, lr}
 5036              	.LCFI62:
 5037              		.cfi_def_cfa_offset 12
 5038              		.cfi_offset 4, -12
 5039              		.cfi_offset 5, -8
 5040              		.cfi_offset 14, -4
 5041 0002 91B0     		sub	sp, sp, #68
 5042              	.LCFI63:
 5043              		.cfi_def_cfa_offset 80
2309:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5044              		.loc 1 2309 3 is_stmt 1 view .LVU1844
2310:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5045              		.loc 1 2310 3 view .LVU1845
2311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5046              		.loc 1 2311 3 view .LVU1846
 5047              	.LVL378:
2313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /tmp/ccxppnfb.s 			page 186


 5048              		.loc 1 2313 3 view .LVU1847
2313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5049              		.loc 1 2313 10 is_stmt 0 view .LVU1848
 5050 0004 90F83030 		ldrb	r3, [r0, #48]	@ zero_extendqisi2
 5051 0008 DBB2     		uxtb	r3, r3
2313:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5052              		.loc 1 2313 6 view .LVU1849
 5053 000a 032B     		cmp	r3, #3
 5054 000c 59D0     		beq	.L299
 5055 000e 0446     		mov	r4, r0
 5056 0010 0D46     		mov	r5, r1
2318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5057              		.loc 1 2318 3 is_stmt 1 view .LVU1850
2318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5058              		.loc 1 2318 16 is_stmt 0 view .LVU1851
 5059 0012 6946     		mov	r1, sp
 5060              	.LVL379:
2318:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5061              		.loc 1 2318 16 view .LVU1852
 5062 0014 FFF7FEFF 		bl	SD_SendSDStatus
 5063              	.LVL380:
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5064              		.loc 1 2319 3 is_stmt 1 view .LVU1853
2319:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5065              		.loc 1 2319 6 is_stmt 0 view .LVU1854
 5066 0018 B8B1     		cbz	r0, .L297
2322:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5067              		.loc 1 2322 5 is_stmt 1 view .LVU1855
 5068 001a 2368     		ldr	r3, [r4]
 5069 001c 2B49     		ldr	r1, .L301
 5070 001e 9963     		str	r1, [r3, #56]
2323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5071              		.loc 1 2323 5 view .LVU1856
2323:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5072              		.loc 1 2323 20 is_stmt 0 view .LVU1857
 5073 0020 636B     		ldr	r3, [r4, #52]
 5074 0022 0343     		orrs	r3, r3, r0
 5075 0024 6363     		str	r3, [r4, #52]
2324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5076              		.loc 1 2324 5 is_stmt 1 view .LVU1858
2324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5077              		.loc 1 2324 16 is_stmt 0 view .LVU1859
 5078 0026 0125     		movs	r5, #1
 5079              	.LVL381:
2324:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5080              		.loc 1 2324 16 view .LVU1860
 5081 0028 84F83050 		strb	r5, [r4, #48]
2325:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5082              		.loc 1 2325 5 is_stmt 1 view .LVU1861
 5083              	.LVL382:
 5084              	.L298:
2356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5085              		.loc 1 2356 3 view .LVU1862
2356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5086              		.loc 1 2356 16 is_stmt 0 view .LVU1863
 5087 002c 4FF40071 		mov	r1, #512
 5088 0030 2068     		ldr	r0, [r4]
ARM GAS  /tmp/ccxppnfb.s 			page 187


 5089              	.LVL383:
2356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5090              		.loc 1 2356 16 view .LVU1864
 5091 0032 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5092              	.LVL384:
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5093              		.loc 1 2357 3 is_stmt 1 view .LVU1865
2357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5094              		.loc 1 2357 6 is_stmt 0 view .LVU1866
 5095 0036 0028     		cmp	r0, #0
 5096 0038 44D0     		beq	.L296
2360:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 5097              		.loc 1 2360 5 is_stmt 1 view .LVU1867
 5098 003a 2268     		ldr	r2, [r4]
 5099 003c 2349     		ldr	r1, .L301
 5100 003e 9163     		str	r1, [r2, #56]
2361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5101              		.loc 1 2361 5 view .LVU1868
2361:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5102              		.loc 1 2361 20 is_stmt 0 view .LVU1869
 5103 0040 6063     		str	r0, [r4, #52]
2362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5104              		.loc 1 2362 5 is_stmt 1 view .LVU1870
2362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5105              		.loc 1 2362 16 is_stmt 0 view .LVU1871
 5106 0042 0125     		movs	r5, #1
 5107              	.LVL385:
2362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5108              		.loc 1 2362 16 view .LVU1872
 5109 0044 84F83050 		strb	r5, [r4, #48]
2363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5110              		.loc 1 2363 5 is_stmt 1 view .LVU1873
 5111              	.LVL386:
2363:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5112              		.loc 1 2363 5 is_stmt 0 view .LVU1874
 5113 0048 3CE0     		b	.L296
 5114              	.LVL387:
 5115              	.L297:
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5116              		.loc 1 2329 5 is_stmt 1 view .LVU1875
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5117              		.loc 1 2329 49 is_stmt 0 view .LVU1876
 5118 004a 009A     		ldr	r2, [sp]
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5119              		.loc 1 2329 29 view .LVU1877
 5120 004c C2F38113 		ubfx	r3, r2, #6, #2
2329:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5121              		.loc 1 2329 27 view .LVU1878
 5122 0050 2B70     		strb	r3, [r5]
2331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5123              		.loc 1 2331 5 is_stmt 1 view .LVU1879
2331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5124              		.loc 1 2331 28 is_stmt 0 view .LVU1880
 5125 0052 C2F34013 		ubfx	r3, r2, #5, #1
2331:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5126              		.loc 1 2331 26 view .LVU1881
 5127 0056 6B70     		strb	r3, [r5, #1]
ARM GAS  /tmp/ccxppnfb.s 			page 188


2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5128              		.loc 1 2333 5 is_stmt 1 view .LVU1882
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5129              		.loc 1 2333 66 is_stmt 0 view .LVU1883
 5130 0058 130A     		lsrs	r3, r2, #8
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5131              		.loc 1 2333 25 view .LVU1884
 5132 005a 23F0FF03 		bic	r3, r3, #255
 5133 005e 43EA1263 		orr	r3, r3, r2, lsr #24
 5134 0062 9BB2     		uxth	r3, r3
2333:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5135              		.loc 1 2333 23 view .LVU1885
 5136 0064 6B80     		strh	r3, [r5, #2]	@ movhi
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5137              		.loc 1 2335 5 is_stmt 1 view .LVU1886
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5138              		.loc 1 2335 46 is_stmt 0 view .LVU1887
 5139 0066 019A     		ldr	r2, [sp, #4]
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5140              		.loc 1 2335 98 view .LVU1888
 5141 0068 1302     		lsls	r3, r2, #8
 5142 006a 03F47F03 		and	r3, r3, #16711680
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5143              		.loc 1 2335 70 view .LVU1889
 5144 006e 43EA0263 		orr	r3, r3, r2, lsl #24
2336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5145              		.loc 1 2336 63 view .LVU1890
 5146 0072 110A     		lsrs	r1, r2, #8
 5147 0074 01F47F41 		and	r1, r1, #65280
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5148              		.loc 1 2335 105 view .LVU1891
 5149 0078 0B43     		orrs	r3, r3, r1
2336:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5150              		.loc 1 2336 70 view .LVU1892
 5151 007a 43EA1263 		orr	r3, r3, r2, lsr #24
2335:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5152              		.loc 1 2335 32 view .LVU1893
 5153 007e 6B60     		str	r3, [r5, #4]
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5154              		.loc 1 2338 5 is_stmt 1 view .LVU1894
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5155              		.loc 1 2338 46 is_stmt 0 view .LVU1895
 5156 0080 029B     		ldr	r3, [sp, #8]
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5157              		.loc 1 2338 27 view .LVU1896
 5158 0082 DAB2     		uxtb	r2, r3
2338:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5159              		.loc 1 2338 25 view .LVU1897
 5160 0084 2A72     		strb	r2, [r5, #8]
2340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5161              		.loc 1 2340 5 is_stmt 1 view .LVU1898
2340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5162              		.loc 1 2340 32 is_stmt 0 view .LVU1899
 5163 0086 C3F30722 		ubfx	r2, r3, #8, #8
2340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5164              		.loc 1 2340 30 view .LVU1900
 5165 008a 6A72     		strb	r2, [r5, #9]
ARM GAS  /tmp/ccxppnfb.s 			page 189


2342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5166              		.loc 1 2342 5 is_stmt 1 view .LVU1901
2342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5167              		.loc 1 2342 35 is_stmt 0 view .LVU1902
 5168 008c C3F30352 		ubfx	r2, r3, #20, #4
2342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5169              		.loc 1 2342 33 view .LVU1903
 5170 0090 AA72     		strb	r2, [r5, #10]
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5171              		.loc 1 2344 5 is_stmt 1 view .LVU1904
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5172              		.loc 1 2344 67 is_stmt 0 view .LVU1905
 5173 0092 1B0C     		lsrs	r3, r3, #16
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5174              		.loc 1 2344 87 view .LVU1906
 5175 0094 039A     		ldr	r2, [sp, #12]
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5176              		.loc 1 2344 91 view .LVU1907
 5177 0096 D1B2     		uxtb	r1, r2
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5178              		.loc 1 2344 26 view .LVU1908
 5179 0098 23F0FF03 		bic	r3, r3, #255
 5180 009c 0B43     		orrs	r3, r3, r1
2344:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5181              		.loc 1 2344 24 view .LVU1909
 5182 009e AB81     		strh	r3, [r5, #12]	@ movhi
2346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5183              		.loc 1 2346 5 is_stmt 1 view .LVU1910
2346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5184              		.loc 1 2346 29 is_stmt 0 view .LVU1911
 5185 00a0 C2F38523 		ubfx	r3, r2, #10, #6
2346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5186              		.loc 1 2346 27 view .LVU1912
 5187 00a4 AB73     		strb	r3, [r5, #14]
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5188              		.loc 1 2348 5 is_stmt 1 view .LVU1913
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5189              		.loc 1 2348 28 is_stmt 0 view .LVU1914
 5190 00a6 C2F30123 		ubfx	r3, r2, #8, #2
2348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5191              		.loc 1 2348 26 view .LVU1915
 5192 00aa EB73     		strb	r3, [r5, #15]
2350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5193              		.loc 1 2350 5 is_stmt 1 view .LVU1916
2350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5194              		.loc 1 2350 30 is_stmt 0 view .LVU1917
 5195 00ac C2F30313 		ubfx	r3, r2, #4, #4
2350:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 5196              		.loc 1 2350 28 view .LVU1918
 5197 00b0 2B74     		strb	r3, [r5, #16]
2351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5198              		.loc 1 2351 5 is_stmt 1 view .LVU1919
2351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5199              		.loc 1 2351 38 is_stmt 0 view .LVU1920
 5200 00b2 02F00F02 		and	r2, r2, #15
2351:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 5201              		.loc 1 2351 36 view .LVU1921
ARM GAS  /tmp/ccxppnfb.s 			page 190


 5202 00b6 6A74     		strb	r2, [r5, #17]
2352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5203              		.loc 1 2352 5 is_stmt 1 view .LVU1922
2352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5204              		.loc 1 2352 32 is_stmt 0 view .LVU1923
 5205 00b8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
2352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5206              		.loc 1 2352 30 view .LVU1924
 5207 00bc AB74     		strb	r3, [r5, #18]
2311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5208              		.loc 1 2311 21 view .LVU1925
 5209 00be 0025     		movs	r5, #0
 5210              	.LVL388:
2311:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5211              		.loc 1 2311 21 view .LVU1926
 5212 00c0 B4E7     		b	.L298
 5213              	.LVL389:
 5214              	.L299:
2315:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5215              		.loc 1 2315 12 view .LVU1927
 5216 00c2 0125     		movs	r5, #1
 5217              	.LVL390:
 5218              	.L296:
2368:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5219              		.loc 1 2368 1 view .LVU1928
 5220 00c4 2846     		mov	r0, r5
 5221 00c6 11B0     		add	sp, sp, #68
 5222              	.LCFI64:
 5223              		.cfi_def_cfa_offset 12
 5224              		@ sp needed
 5225 00c8 30BD     		pop	{r4, r5, pc}
 5226              	.L302:
 5227 00ca 00BF     		.align	2
 5228              	.L301:
 5229 00cc FF0FE01F 		.word	534777855
 5230              		.cfi_endproc
 5231              	.LFE371:
 5233              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 5234              		.align	1
 5235              		.global	HAL_SD_GetCardInfo
 5236              		.syntax unified
 5237              		.thumb
 5238              		.thumb_func
 5239              		.fpu fpv5-d16
 5241              	HAL_SD_GetCardInfo:
 5242              	.LVL391:
 5243              	.LFB372:
2378:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 5244              		.loc 1 2378 1 is_stmt 1 view -0
 5245              		.cfi_startproc
 5246              		@ args = 0, pretend = 0, frame = 0
 5247              		@ frame_needed = 0, uses_anonymous_args = 0
 5248              		@ link register save eliminated.
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5249              		.loc 1 2379 3 view .LVU1930
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5250              		.loc 1 2379 51 is_stmt 0 view .LVU1931
ARM GAS  /tmp/ccxppnfb.s 			page 191


 5251 0000 836B     		ldr	r3, [r0, #56]
2379:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5252              		.loc 1 2379 27 view .LVU1932
 5253 0002 0B60     		str	r3, [r1]
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5254              		.loc 1 2380 3 is_stmt 1 view .LVU1933
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5255              		.loc 1 2380 51 is_stmt 0 view .LVU1934
 5256 0004 C36B     		ldr	r3, [r0, #60]
2380:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5257              		.loc 1 2380 27 view .LVU1935
 5258 0006 4B60     		str	r3, [r1, #4]
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5259              		.loc 1 2381 3 is_stmt 1 view .LVU1936
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5260              		.loc 1 2381 51 is_stmt 0 view .LVU1937
 5261 0008 036C     		ldr	r3, [r0, #64]
2381:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5262              		.loc 1 2381 27 view .LVU1938
 5263 000a 8B60     		str	r3, [r1, #8]
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5264              		.loc 1 2382 3 is_stmt 1 view .LVU1939
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5265              		.loc 1 2382 51 is_stmt 0 view .LVU1940
 5266 000c 436C     		ldr	r3, [r0, #68]
2382:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5267              		.loc 1 2382 27 view .LVU1941
 5268 000e CB60     		str	r3, [r1, #12]
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5269              		.loc 1 2383 3 is_stmt 1 view .LVU1942
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5270              		.loc 1 2383 51 is_stmt 0 view .LVU1943
 5271 0010 836C     		ldr	r3, [r0, #72]
2383:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5272              		.loc 1 2383 27 view .LVU1944
 5273 0012 0B61     		str	r3, [r1, #16]
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5274              		.loc 1 2384 3 is_stmt 1 view .LVU1945
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5275              		.loc 1 2384 51 is_stmt 0 view .LVU1946
 5276 0014 C36C     		ldr	r3, [r0, #76]
2384:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5277              		.loc 1 2384 27 view .LVU1947
 5278 0016 4B61     		str	r3, [r1, #20]
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5279              		.loc 1 2385 3 is_stmt 1 view .LVU1948
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5280              		.loc 1 2385 51 is_stmt 0 view .LVU1949
 5281 0018 036D     		ldr	r3, [r0, #80]
2385:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5282              		.loc 1 2385 27 view .LVU1950
 5283 001a 8B61     		str	r3, [r1, #24]
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5284              		.loc 1 2386 3 is_stmt 1 view .LVU1951
2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5285              		.loc 1 2386 51 is_stmt 0 view .LVU1952
 5286 001c 436D     		ldr	r3, [r0, #84]
ARM GAS  /tmp/ccxppnfb.s 			page 192


2386:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5287              		.loc 1 2386 27 view .LVU1953
 5288 001e CB61     		str	r3, [r1, #28]
2388:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5289              		.loc 1 2388 3 is_stmt 1 view .LVU1954
2389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5290              		.loc 1 2389 1 is_stmt 0 view .LVU1955
 5291 0020 0020     		movs	r0, #0
 5292              	.LVL392:
2389:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5293              		.loc 1 2389 1 view .LVU1956
 5294 0022 7047     		bx	lr
 5295              		.cfi_endproc
 5296              	.LFE372:
 5298              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 5299              		.align	1
 5300              		.global	HAL_SD_ConfigWideBusOperation
 5301              		.syntax unified
 5302              		.thumb
 5303              		.thumb_func
 5304              		.fpu fpv5-d16
 5306              	HAL_SD_ConfigWideBusOperation:
 5307              	.LVL393:
 5308              	.LFB373:
2403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5309              		.loc 1 2403 1 is_stmt 1 view -0
 5310              		.cfi_startproc
 5311              		@ args = 0, pretend = 0, frame = 24
 5312              		@ frame_needed = 0, uses_anonymous_args = 0
2403:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
 5313              		.loc 1 2403 1 is_stmt 0 view .LVU1958
 5314 0000 30B5     		push	{r4, r5, lr}
 5315              	.LCFI65:
 5316              		.cfi_def_cfa_offset 12
 5317              		.cfi_offset 4, -12
 5318              		.cfi_offset 5, -8
 5319              		.cfi_offset 14, -4
 5320 0002 89B0     		sub	sp, sp, #36
 5321              	.LCFI66:
 5322              		.cfi_def_cfa_offset 48
 5323 0004 0446     		mov	r4, r0
 5324 0006 0D46     		mov	r5, r1
2404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5325              		.loc 1 2404 3 is_stmt 1 view .LVU1959
2405:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 5326              		.loc 1 2405 3 view .LVU1960
2406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5327              		.loc 1 2406 3 view .LVU1961
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5328              		.loc 1 2407 3 view .LVU1962
 5329              	.LVL394:
2410:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5330              		.loc 1 2410 3 view .LVU1963
2413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5331              		.loc 1 2413 3 view .LVU1964
2413:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5332              		.loc 1 2413 14 is_stmt 0 view .LVU1965
ARM GAS  /tmp/ccxppnfb.s 			page 193


 5333 0008 0323     		movs	r3, #3
 5334 000a 80F83030 		strb	r3, [r0, #48]
2415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5335              		.loc 1 2415 3 is_stmt 1 view .LVU1966
2415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5336              		.loc 1 2415 18 is_stmt 0 view .LVU1967
 5337 000e 836B     		ldr	r3, [r0, #56]
2415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5338              		.loc 1 2415 6 view .LVU1968
 5339 0010 032B     		cmp	r3, #3
 5340 0012 1CD0     		beq	.L305
2417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5341              		.loc 1 2417 5 is_stmt 1 view .LVU1969
2417:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5342              		.loc 1 2417 8 is_stmt 0 view .LVU1970
 5343 0014 B1F5004F 		cmp	r1, #32768
 5344 0018 08D0     		beq	.L325
2421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5345              		.loc 1 2421 10 is_stmt 1 view .LVU1971
2421:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5346              		.loc 1 2421 13 is_stmt 0 view .LVU1972
 5347 001a B1F5804F 		cmp	r1, #16384
 5348 001e 0AD0     		beq	.L326
2427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5349              		.loc 1 2427 10 is_stmt 1 view .LVU1973
2427:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5350              		.loc 1 2427 13 is_stmt 0 view .LVU1974
 5351 0020 79B1     		cbz	r1, .L327
2436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5352              		.loc 1 2436 7 is_stmt 1 view .LVU1975
2436:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5353              		.loc 1 2436 22 is_stmt 0 view .LVU1976
 5354 0022 436B     		ldr	r3, [r0, #52]
 5355 0024 43F00063 		orr	r3, r3, #134217728
 5356 0028 4363     		str	r3, [r0, #52]
 5357 002a 14E0     		b	.L307
 5358              	.L325:
2419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5359              		.loc 1 2419 7 is_stmt 1 view .LVU1977
2419:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5360              		.loc 1 2419 22 is_stmt 0 view .LVU1978
 5361 002c 436B     		ldr	r3, [r0, #52]
 5362 002e 43F08053 		orr	r3, r3, #268435456
 5363 0032 4363     		str	r3, [r0, #52]
 5364 0034 0FE0     		b	.L307
 5365              	.L326:
2423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5366              		.loc 1 2423 7 is_stmt 1 view .LVU1979
2423:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5367              		.loc 1 2423 20 is_stmt 0 view .LVU1980
 5368 0036 FFF7FEFF 		bl	SD_WideBus_Enable
 5369              	.LVL395:
2425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5370              		.loc 1 2425 7 is_stmt 1 view .LVU1981
2425:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5371              		.loc 1 2425 22 is_stmt 0 view .LVU1982
 5372 003a 636B     		ldr	r3, [r4, #52]
ARM GAS  /tmp/ccxppnfb.s 			page 194


 5373 003c 0343     		orrs	r3, r3, r0
 5374 003e 6363     		str	r3, [r4, #52]
 5375 0040 09E0     		b	.L307
 5376              	.LVL396:
 5377              	.L327:
2429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5378              		.loc 1 2429 7 is_stmt 1 view .LVU1983
2429:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5379              		.loc 1 2429 20 is_stmt 0 view .LVU1984
 5380 0042 FFF7FEFF 		bl	SD_WideBus_Disable
 5381              	.LVL397:
2431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5382              		.loc 1 2431 7 is_stmt 1 view .LVU1985
2431:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5383              		.loc 1 2431 22 is_stmt 0 view .LVU1986
 5384 0046 636B     		ldr	r3, [r4, #52]
 5385 0048 0343     		orrs	r3, r3, r0
 5386 004a 6363     		str	r3, [r4, #52]
 5387 004c 03E0     		b	.L307
 5388              	.LVL398:
 5389              	.L305:
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5390              		.loc 1 2442 5 is_stmt 1 view .LVU1987
2442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5391              		.loc 1 2442 20 is_stmt 0 view .LVU1988
 5392 004e 436B     		ldr	r3, [r0, #52]
 5393 0050 43F08053 		orr	r3, r3, #268435456
 5394 0054 4363     		str	r3, [r0, #52]
 5395              	.LVL399:
 5396              	.L307:
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5397              		.loc 1 2445 3 is_stmt 1 view .LVU1989
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5398              		.loc 1 2445 10 is_stmt 0 view .LVU1990
 5399 0056 636B     		ldr	r3, [r4, #52]
2445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5400              		.loc 1 2445 6 view .LVU1991
 5401 0058 B3B1     		cbz	r3, .L310
2448:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5402              		.loc 1 2448 5 is_stmt 1 view .LVU1992
 5403 005a 2368     		ldr	r3, [r4]
 5404 005c 3A4A     		ldr	r2, .L330
 5405 005e 9A63     		str	r2, [r3, #56]
2449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5406              		.loc 1 2449 5 view .LVU1993
 5407              	.LVL400:
2449:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5408              		.loc 1 2449 12 is_stmt 0 view .LVU1994
 5409 0060 0125     		movs	r5, #1
 5410              	.LVL401:
 5411              	.L311:
2539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5412              		.loc 1 2539 3 is_stmt 1 view .LVU1995
2539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5413              		.loc 1 2539 16 is_stmt 0 view .LVU1996
 5414 0062 4FF40071 		mov	r1, #512
 5415 0066 2068     		ldr	r0, [r4]
ARM GAS  /tmp/ccxppnfb.s 			page 195


 5416 0068 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5417              	.LVL402:
2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5418              		.loc 1 2540 3 is_stmt 1 view .LVU1997
2540:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5419              		.loc 1 2540 6 is_stmt 0 view .LVU1998
 5420 006c 30B1     		cbz	r0, .L323
2543:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5421              		.loc 1 2543 5 is_stmt 1 view .LVU1999
 5422 006e 2368     		ldr	r3, [r4]
 5423 0070 3549     		ldr	r1, .L330
 5424 0072 9963     		str	r1, [r3, #56]
2544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5425              		.loc 1 2544 5 view .LVU2000
2544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5426              		.loc 1 2544 20 is_stmt 0 view .LVU2001
 5427 0074 636B     		ldr	r3, [r4, #52]
 5428 0076 0343     		orrs	r3, r3, r0
 5429 0078 6363     		str	r3, [r4, #52]
2545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5430              		.loc 1 2545 5 is_stmt 1 view .LVU2002
 5431              	.LVL403:
2545:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5432              		.loc 1 2545 12 is_stmt 0 view .LVU2003
 5433 007a 0125     		movs	r5, #1
 5434              	.LVL404:
 5435              	.L323:
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5436              		.loc 1 2549 3 is_stmt 1 view .LVU2004
2549:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5437              		.loc 1 2549 14 is_stmt 0 view .LVU2005
 5438 007c 0123     		movs	r3, #1
 5439 007e 84F83030 		strb	r3, [r4, #48]
2551:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5440              		.loc 1 2551 3 is_stmt 1 view .LVU2006
2552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5441              		.loc 1 2552 1 is_stmt 0 view .LVU2007
 5442 0082 2846     		mov	r0, r5
 5443              	.LVL405:
2552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5444              		.loc 1 2552 1 view .LVU2008
 5445 0084 09B0     		add	sp, sp, #36
 5446              	.LCFI67:
 5447              		.cfi_remember_state
 5448              		.cfi_def_cfa_offset 12
 5449              		@ sp needed
 5450 0086 30BD     		pop	{r4, r5, pc}
 5451              	.LVL406:
 5452              	.L310:
 5453              	.LCFI68:
 5454              		.cfi_restore_state
2453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5455              		.loc 1 2453 5 is_stmt 1 view .LVU2009
2453:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5456              		.loc 1 2453 21 is_stmt 0 view .LVU2010
 5457 0088 4FF48030 		mov	r0, #65536
 5458 008c 0021     		movs	r1, #0
ARM GAS  /tmp/ccxppnfb.s 			page 196


 5459 008e FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 5460              	.LVL407:
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5461              		.loc 1 2454 5 is_stmt 1 view .LVU2011
2454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5462              		.loc 1 2454 8 is_stmt 0 view .LVU2012
 5463 0092 0246     		mov	r2, r0
 5464 0094 0028     		cmp	r0, #0
 5465 0096 50D0     		beq	.L312
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5466              		.loc 1 2457 7 is_stmt 1 view .LVU2013
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5467              		.loc 1 2457 43 is_stmt 0 view .LVU2014
 5468 0098 6368     		ldr	r3, [r4, #4]
2457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5469              		.loc 1 2457 32 view .LVU2015
 5470 009a 0393     		str	r3, [sp, #12]
2458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5471              		.loc 1 2458 7 is_stmt 1 view .LVU2016
2458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5472              		.loc 1 2458 43 is_stmt 0 view .LVU2017
 5473 009c A368     		ldr	r3, [r4, #8]
2458:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5474              		.loc 1 2458 32 view .LVU2018
 5475 009e 0493     		str	r3, [sp, #16]
2459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5476              		.loc 1 2459 7 is_stmt 1 view .LVU2019
2459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5477              		.loc 1 2459 32 is_stmt 0 view .LVU2020
 5478 00a0 0595     		str	r5, [sp, #20]
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5479              		.loc 1 2460 7 is_stmt 1 view .LVU2021
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5480              		.loc 1 2460 43 is_stmt 0 view .LVU2022
 5481 00a2 2369     		ldr	r3, [r4, #16]
2460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5482              		.loc 1 2460 32 view .LVU2023
 5483 00a4 0693     		str	r3, [sp, #24]
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5484              		.loc 1 2463 7 is_stmt 1 view .LVU2024
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5485              		.loc 1 2463 20 is_stmt 0 view .LVU2025
 5486 00a6 6169     		ldr	r1, [r4, #20]
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5487              		.loc 1 2463 44 view .LVU2026
 5488 00a8 284B     		ldr	r3, .L330+4
 5489 00aa A3FB0203 		umull	r0, r3, r3, r2
 5490              	.LVL408:
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5491              		.loc 1 2463 44 view .LVU2027
 5492 00ae 180E     		lsrs	r0, r3, #24
2463:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5493              		.loc 1 2463 10 view .LVU2028
 5494 00b0 B1EB136F 		cmp	r1, r3, lsr #24
 5495 00b4 0CD3     		bcc	.L313
2465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5496              		.loc 1 2465 9 is_stmt 1 view .LVU2029
ARM GAS  /tmp/ccxppnfb.s 			page 197


2465:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5497              		.loc 1 2465 23 is_stmt 0 view .LVU2030
 5498 00b6 0791     		str	r1, [sp, #28]
 5499              	.LVL409:
 5500              	.L314:
2529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5501              		.loc 1 2529 7 is_stmt 1 view .LVU2031
2529:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5502              		.loc 1 2529 13 is_stmt 0 view .LVU2032
 5503 00b8 08AB     		add	r3, sp, #32
 5504 00ba 13E90300 		ldmdb	r3, {r0, r1}
 5505 00be 8DE80300 		stm	sp, {r0, r1}
 5506 00c2 03AB     		add	r3, sp, #12
 5507 00c4 0ECB     		ldm	r3, {r1, r2, r3}
 5508 00c6 2068     		ldr	r0, [r4]
 5509 00c8 FFF7FEFF 		bl	SDMMC_Init
 5510              	.LVL410:
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5511              		.loc 1 2407 21 view .LVU2033
 5512 00cc 0025     		movs	r5, #0
 5513              	.LVL411:
2407:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5514              		.loc 1 2407 21 view .LVU2034
 5515 00ce C8E7     		b	.L311
 5516              	.LVL412:
 5517              	.L313:
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5518              		.loc 1 2467 12 is_stmt 1 view .LVU2035
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5519              		.loc 1 2467 27 is_stmt 0 view .LVU2036
 5520 00d0 A36D     		ldr	r3, [r4, #88]
2467:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5521              		.loc 1 2467 15 view .LVU2037
 5522 00d2 B3F5007F 		cmp	r3, #512
 5523 00d6 08D0     		beq	.L328
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5524              		.loc 1 2472 12 is_stmt 1 view .LVU2038
2472:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 5525              		.loc 1 2472 15 is_stmt 0 view .LVU2039
 5526 00d8 B3F5807F 		cmp	r3, #256
 5527 00dc 07D0     		beq	.L329
2501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5528              		.loc 1 2501 9 is_stmt 1 view .LVU2040
2501:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5529              		.loc 1 2501 12 is_stmt 0 view .LVU2041
 5530 00de 11BB     		cbnz	r1, .L320
2503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5531              		.loc 1 2503 11 is_stmt 1 view .LVU2042
2503:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5532              		.loc 1 2503 14 is_stmt 0 view .LVU2043
 5533 00e0 1B4B     		ldr	r3, .L330+8
 5534 00e2 9A42     		cmp	r2, r3
 5535 00e4 1DD9     		bls	.L321
2505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5536              		.loc 1 2505 13 is_stmt 1 view .LVU2044
2505:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5537              		.loc 1 2505 27 is_stmt 0 view .LVU2045
ARM GAS  /tmp/ccxppnfb.s 			page 198


 5538 00e6 0790     		str	r0, [sp, #28]
 5539 00e8 E6E7     		b	.L314
 5540              	.L328:
2470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5541              		.loc 1 2470 9 is_stmt 1 view .LVU2046
2470:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5542              		.loc 1 2470 23 is_stmt 0 view .LVU2047
 5543 00ea 0791     		str	r1, [sp, #28]
 5544 00ec E4E7     		b	.L314
 5545              	.L329:
2475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5546              		.loc 1 2475 9 is_stmt 1 view .LVU2048
2475:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 5547              		.loc 1 2475 12 is_stmt 0 view .LVU2049
 5548 00ee 51B9     		cbnz	r1, .L317
2477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5549              		.loc 1 2477 11 is_stmt 1 view .LVU2050
2477:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5550              		.loc 1 2477 14 is_stmt 0 view .LVU2051
 5551 00f0 184B     		ldr	r3, .L330+12
 5552 00f2 9A42     		cmp	r2, r3
 5553 00f4 05D9     		bls	.L318
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5554              		.loc 1 2479 13 is_stmt 1 view .LVU2052
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5555              		.loc 1 2479 39 is_stmt 0 view .LVU2053
 5556 00f6 154B     		ldr	r3, .L330+4
 5557 00f8 A3FB0223 		umull	r2, r3, r3, r2
 5558              	.LVL413:
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5559              		.loc 1 2479 39 view .LVU2054
 5560 00fc 5B0E     		lsrs	r3, r3, #25
2479:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5561              		.loc 1 2479 27 view .LVU2055
 5562 00fe 0793     		str	r3, [sp, #28]
 5563 0100 DAE7     		b	.L314
 5564              	.LVL414:
 5565              	.L318:
2483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5566              		.loc 1 2483 13 is_stmt 1 view .LVU2056
2483:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5567              		.loc 1 2483 27 is_stmt 0 view .LVU2057
 5568 0102 0791     		str	r1, [sp, #28]
 5569 0104 D8E7     		b	.L314
 5570              	.L317:
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5571              		.loc 1 2488 11 is_stmt 1 view .LVU2058
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5572              		.loc 1 2488 32 is_stmt 0 view .LVU2059
 5573 0106 4B00     		lsls	r3, r1, #1
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5574              		.loc 1 2488 26 view .LVU2060
 5575 0108 B2FBF3F3 		udiv	r3, r2, r3
2488:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5576              		.loc 1 2488 14 view .LVU2061
 5577 010c 1148     		ldr	r0, .L330+12
 5578 010e 8342     		cmp	r3, r0
ARM GAS  /tmp/ccxppnfb.s 			page 199


 5579 0110 05D9     		bls	.L319
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5580              		.loc 1 2490 13 is_stmt 1 view .LVU2062
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5581              		.loc 1 2490 39 is_stmt 0 view .LVU2063
 5582 0112 0E4B     		ldr	r3, .L330+4
 5583 0114 A3FB0223 		umull	r2, r3, r3, r2
 5584              	.LVL415:
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5585              		.loc 1 2490 39 view .LVU2064
 5586 0118 5B0E     		lsrs	r3, r3, #25
2490:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5587              		.loc 1 2490 27 view .LVU2065
 5588 011a 0793     		str	r3, [sp, #28]
 5589 011c CCE7     		b	.L314
 5590              	.LVL416:
 5591              	.L319:
2494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5592              		.loc 1 2494 13 is_stmt 1 view .LVU2066
2494:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5593              		.loc 1 2494 27 is_stmt 0 view .LVU2067
 5594 011e 0791     		str	r1, [sp, #28]
 5595 0120 CAE7     		b	.L314
 5596              	.L321:
2509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5597              		.loc 1 2509 13 is_stmt 1 view .LVU2068
2509:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5598              		.loc 1 2509 27 is_stmt 0 view .LVU2069
 5599 0122 0791     		str	r1, [sp, #28]
 5600 0124 C8E7     		b	.L314
 5601              	.L320:
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5602              		.loc 1 2514 11 is_stmt 1 view .LVU2070
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5603              		.loc 1 2514 32 is_stmt 0 view .LVU2071
 5604 0126 4B00     		lsls	r3, r1, #1
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5605              		.loc 1 2514 26 view .LVU2072
 5606 0128 B2FBF3F2 		udiv	r2, r2, r3
 5607              	.LVL417:
2514:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5608              		.loc 1 2514 14 view .LVU2073
 5609 012c 084B     		ldr	r3, .L330+8
 5610 012e 9A42     		cmp	r2, r3
 5611 0130 01D9     		bls	.L322
2516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5612              		.loc 1 2516 13 is_stmt 1 view .LVU2074
2516:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5613              		.loc 1 2516 27 is_stmt 0 view .LVU2075
 5614 0132 0790     		str	r0, [sp, #28]
 5615 0134 C0E7     		b	.L314
 5616              	.L322:
2520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5617              		.loc 1 2520 13 is_stmt 1 view .LVU2076
2520:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
 5618              		.loc 1 2520 27 is_stmt 0 view .LVU2077
 5619 0136 0791     		str	r1, [sp, #28]
ARM GAS  /tmp/ccxppnfb.s 			page 200


 5620 0138 BEE7     		b	.L314
 5621              	.LVL418:
 5622              	.L312:
2533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5623              		.loc 1 2533 7 is_stmt 1 view .LVU2078
2533:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5624              		.loc 1 2533 22 is_stmt 0 view .LVU2079
 5625 013a 636B     		ldr	r3, [r4, #52]
 5626 013c 43F00063 		orr	r3, r3, #134217728
 5627 0140 6363     		str	r3, [r4, #52]
2534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5628              		.loc 1 2534 7 is_stmt 1 view .LVU2080
 5629              	.LVL419:
2534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5630              		.loc 1 2534 14 is_stmt 0 view .LVU2081
 5631 0142 0125     		movs	r5, #1
 5632              	.LVL420:
2534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5633              		.loc 1 2534 14 view .LVU2082
 5634 0144 8DE7     		b	.L311
 5635              	.L331:
 5636 0146 00BF     		.align	2
 5637              	.L330:
 5638 0148 FF0FE01F 		.word	534777855
 5639 014c 893BE655 		.word	1441151881
 5640 0150 40787D01 		.word	25000000
 5641 0154 80F0FA02 		.word	50000000
 5642              		.cfi_endproc
 5643              	.LFE373:
 5645              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5646              		.align	1
 5647              		.global	HAL_SD_GetCardState
 5648              		.syntax unified
 5649              		.thumb
 5650              		.thumb_func
 5651              		.fpu fpv5-d16
 5653              	HAL_SD_GetCardState:
 5654              	.LVL421:
 5655              	.LFB375:
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
 5656              		.loc 1 2865 1 is_stmt 1 view -0
 5657              		.cfi_startproc
 5658              		@ args = 0, pretend = 0, frame = 8
 5659              		@ frame_needed = 0, uses_anonymous_args = 0
2865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
 5660              		.loc 1 2865 1 is_stmt 0 view .LVU2084
 5661 0000 10B5     		push	{r4, lr}
 5662              	.LCFI69:
 5663              		.cfi_def_cfa_offset 8
 5664              		.cfi_offset 4, -8
 5665              		.cfi_offset 14, -4
 5666 0002 82B0     		sub	sp, sp, #8
 5667              	.LCFI70:
 5668              		.cfi_def_cfa_offset 16
 5669 0004 0446     		mov	r4, r0
2866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5670              		.loc 1 2866 3 is_stmt 1 view .LVU2085
ARM GAS  /tmp/ccxppnfb.s 			page 201


2867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
 5671              		.loc 1 2867 3 view .LVU2086
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5672              		.loc 1 2868 3 view .LVU2087
2868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5673              		.loc 1 2868 12 is_stmt 0 view .LVU2088
 5674 0006 0023     		movs	r3, #0
 5675 0008 0193     		str	r3, [sp, #4]
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5676              		.loc 1 2870 3 is_stmt 1 view .LVU2089
2870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5677              		.loc 1 2870 16 is_stmt 0 view .LVU2090
 5678 000a 01A9     		add	r1, sp, #4
 5679 000c FFF7FEFF 		bl	SD_SendStatus
 5680              	.LVL422:
2871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5681              		.loc 1 2871 3 is_stmt 1 view .LVU2091
2871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5682              		.loc 1 2871 6 is_stmt 0 view .LVU2092
 5683 0010 10B1     		cbz	r0, .L333
2873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5684              		.loc 1 2873 5 is_stmt 1 view .LVU2093
2873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5685              		.loc 1 2873 20 is_stmt 0 view .LVU2094
 5686 0012 636B     		ldr	r3, [r4, #52]
 5687 0014 0343     		orrs	r3, r3, r0
 5688 0016 6363     		str	r3, [r4, #52]
 5689              	.L333:
2876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5690              		.loc 1 2876 3 is_stmt 1 view .LVU2095
 5691              	.LVL423:
2878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5692              		.loc 1 2878 3 view .LVU2096
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5693              		.loc 1 2879 1 is_stmt 0 view .LVU2097
 5694 0018 0198     		ldr	r0, [sp, #4]
 5695              	.LVL424:
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5696              		.loc 1 2879 1 view .LVU2098
 5697 001a C0F34320 		ubfx	r0, r0, #9, #4
 5698              	.LVL425:
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5699              		.loc 1 2879 1 view .LVU2099
 5700 001e 02B0     		add	sp, sp, #8
 5701              	.LCFI71:
 5702              		.cfi_def_cfa_offset 8
 5703              		@ sp needed
 5704 0020 10BD     		pop	{r4, pc}
2879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5705              		.loc 1 2879 1 view .LVU2100
 5706              		.cfi_endproc
 5707              	.LFE375:
 5709              		.section	.text.HAL_SD_Init,"ax",%progbits
 5710              		.align	1
 5711              		.global	HAL_SD_Init
 5712              		.syntax unified
 5713              		.thumb
ARM GAS  /tmp/ccxppnfb.s 			page 202


 5714              		.thumb_func
 5715              		.fpu fpv5-d16
 5717              	HAL_SD_Init:
 5718              	.LVL426:
 5719              	.LFB350:
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 5720              		.loc 1 339 1 is_stmt 1 view -0
 5721              		.cfi_startproc
 5722              		@ args = 0, pretend = 0, frame = 24
 5723              		@ frame_needed = 0, uses_anonymous_args = 0
 339:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 5724              		.loc 1 339 1 is_stmt 0 view .LVU2102
 5725 0000 70B5     		push	{r4, r5, r6, lr}
 5726              	.LCFI72:
 5727              		.cfi_def_cfa_offset 16
 5728              		.cfi_offset 4, -16
 5729              		.cfi_offset 5, -12
 5730              		.cfi_offset 6, -8
 5731              		.cfi_offset 14, -4
 5732 0002 86B0     		sub	sp, sp, #24
 5733              	.LCFI73:
 5734              		.cfi_def_cfa_offset 40
 340:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 5735              		.loc 1 340 3 is_stmt 1 view .LVU2103
 341:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 5736              		.loc 1 341 3 view .LVU2104
 342:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5737              		.loc 1 342 3 view .LVU2105
 343:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5738              		.loc 1 343 3 view .LVU2106
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5739              		.loc 1 346 3 view .LVU2107
 346:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5740              		.loc 1 346 6 is_stmt 0 view .LVU2108
 5741 0004 0028     		cmp	r0, #0
 5742 0006 54D0     		beq	.L343
 5743 0008 0446     		mov	r4, r0
 352:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 5744              		.loc 1 352 3 is_stmt 1 view .LVU2109
 353:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 5745              		.loc 1 353 3 view .LVU2110
 354:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 5746              		.loc 1 354 3 view .LVU2111
 355:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 5747              		.loc 1 355 3 view .LVU2112
 356:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 5748              		.loc 1 356 3 view .LVU2113
 357:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5749              		.loc 1 357 3 view .LVU2114
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5750              		.loc 1 359 3 view .LVU2115
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5751              		.loc 1 359 10 is_stmt 0 view .LVU2116
 5752 000a 90F83030 		ldrb	r3, [r0, #48]	@ zero_extendqisi2
 359:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5753              		.loc 1 359 6 view .LVU2117
 5754 000e 53B1     		cbz	r3, .L348
ARM GAS  /tmp/ccxppnfb.s 			page 203


 5755              	.LVL427:
 5756              	.L337:
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5757              		.loc 1 401 3 is_stmt 1 view .LVU2118
 401:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5758              		.loc 1 401 14 is_stmt 0 view .LVU2119
 5759 0010 0423     		movs	r3, #4
 5760 0012 84F83030 		strb	r3, [r4, #48]
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5761              		.loc 1 404 3 is_stmt 1 view .LVU2120
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5762              		.loc 1 404 7 is_stmt 0 view .LVU2121
 5763 0016 2046     		mov	r0, r4
 5764 0018 FFF7FEFF 		bl	HAL_SD_InitCard
 5765              	.LVL428:
 404:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5766              		.loc 1 404 6 view .LVU2122
 5767 001c 38B1     		cbz	r0, .L349
 406:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5768              		.loc 1 406 12 view .LVU2123
 5769 001e 0125     		movs	r5, #1
 5770              	.LVL429:
 5771              	.L336:
 460:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5772              		.loc 1 460 1 view .LVU2124
 5773 0020 2846     		mov	r0, r5
 5774 0022 06B0     		add	sp, sp, #24
 5775              	.LCFI74:
 5776              		.cfi_remember_state
 5777              		.cfi_def_cfa_offset 16
 5778              		@ sp needed
 5779 0024 70BD     		pop	{r4, r5, r6, pc}
 5780              	.LVL430:
 5781              	.L348:
 5782              	.LCFI75:
 5783              		.cfi_restore_state
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5784              		.loc 1 362 5 is_stmt 1 view .LVU2125
 362:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5785              		.loc 1 362 15 is_stmt 0 view .LVU2126
 5786 0026 0376     		strb	r3, [r0, #24]
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5787              		.loc 1 397 5 is_stmt 1 view .LVU2127
 5788 0028 FFF7FEFF 		bl	HAL_SD_MspInit
 5789              	.LVL431:
 397:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5790              		.loc 1 397 5 is_stmt 0 view .LVU2128
 5791 002c F0E7     		b	.L337
 5792              	.L349:
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5793              		.loc 1 409 3 is_stmt 1 view .LVU2129
 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5794              		.loc 1 409 7 is_stmt 0 view .LVU2130
 5795 002e 01A9     		add	r1, sp, #4
 5796 0030 2046     		mov	r0, r4
 5797 0032 FFF7FEFF 		bl	HAL_SD_GetCardStatus
 5798              	.LVL432:
ARM GAS  /tmp/ccxppnfb.s 			page 204


 409:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5799              		.loc 1 409 6 view .LVU2131
 5800 0036 0028     		cmp	r0, #0
 5801 0038 3DD1     		bne	.L345
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 5802              		.loc 1 414 3 is_stmt 1 view .LVU2132
 414:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 5803              		.loc 1 414 26 is_stmt 0 view .LVU2133
 5804 003a 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 5805 003e DAB2     		uxtb	r2, r3
 5806              	.LVL433:
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 5807              		.loc 1 415 3 is_stmt 1 view .LVU2134
 415:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 5808              		.loc 1 415 24 is_stmt 0 view .LVU2135
 5809 0040 9DF81530 		ldrb	r3, [sp, #21]	@ zero_extendqisi2
 5810 0044 DBB2     		uxtb	r3, r3
 5811              	.LVL434:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5812              		.loc 1 416 3 is_stmt 1 view .LVU2136
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5813              		.loc 1 416 19 is_stmt 0 view .LVU2137
 5814 0046 A16B     		ldr	r1, [r4, #56]
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5815              		.loc 1 416 6 view .LVU2138
 5816 0048 0129     		cmp	r1, #1
 5817 004a 0BD0     		beq	.L350
 5818              	.LVL435:
 5819              	.L338:
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5820              		.loc 1 422 5 is_stmt 1 view .LVU2139
 422:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5821              		.loc 1 422 8 is_stmt 0 view .LVU2140
 5822 004c 0129     		cmp	r1, #1
 5823 004e 0FD0     		beq	.L351
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5824              		.loc 1 428 7 is_stmt 1 view .LVU2141
 428:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5825              		.loc 1 428 30 is_stmt 0 view .LVU2142
 5826 0050 0023     		movs	r3, #0
 5827 0052 A365     		str	r3, [r4, #88]
 5828              	.L339:
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5829              		.loc 1 433 3 is_stmt 1 view .LVU2143
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5830              		.loc 1 433 7 is_stmt 0 view .LVU2144
 5831 0054 E168     		ldr	r1, [r4, #12]
 5832 0056 2046     		mov	r0, r4
 5833 0058 FFF7FEFF 		bl	HAL_SD_ConfigWideBusOperation
 5834              	.LVL436:
 433:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5835              		.loc 1 433 6 view .LVU2145
 5836 005c 0546     		mov	r5, r0
 5837 005e 58B1     		cbz	r0, .L352
 435:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5838              		.loc 1 435 12 view .LVU2146
 5839 0060 0125     		movs	r5, #1
ARM GAS  /tmp/ccxppnfb.s 			page 205


 5840 0062 DDE7     		b	.L336
 5841              	.LVL437:
 5842              	.L350:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5843              		.loc 1 416 48 discriminator 1 view .LVU2147
 5844 0064 1343     		orrs	r3, r2, r3
 5845              	.LVL438:
 416:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5846              		.loc 1 416 48 discriminator 1 view .LVU2148
 5847 0066 F1D0     		beq	.L338
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5848              		.loc 1 418 5 is_stmt 1 view .LVU2149
 418:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5849              		.loc 1 418 27 is_stmt 0 view .LVU2150
 5850 0068 4FF40073 		mov	r3, #512
 5851 006c A365     		str	r3, [r4, #88]
 5852 006e F1E7     		b	.L339
 5853              	.L351:
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5854              		.loc 1 424 7 is_stmt 1 view .LVU2151
 424:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5855              		.loc 1 424 30 is_stmt 0 view .LVU2152
 5856 0070 4FF48073 		mov	r3, #256
 5857 0074 A365     		str	r3, [r4, #88]
 5858 0076 EDE7     		b	.L339
 5859              	.LVL439:
 5860              	.L352:
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5861              		.loc 1 439 3 is_stmt 1 view .LVU2153
 439:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5862              		.loc 1 439 15 is_stmt 0 view .LVU2154
 5863 0078 FFF7FEFF 		bl	HAL_GetTick
 5864              	.LVL440:
 5865 007c 0646     		mov	r6, r0
 5866              	.LVL441:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5867              		.loc 1 440 3 is_stmt 1 view .LVU2155
 5868              	.L341:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5869              		.loc 1 440 9 view .LVU2156
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5870              		.loc 1 440 11 is_stmt 0 view .LVU2157
 5871 007e 2046     		mov	r0, r4
 5872 0080 FFF7FEFF 		bl	HAL_SD_GetCardState
 5873              	.LVL442:
 440:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5874              		.loc 1 440 9 view .LVU2158
 5875 0084 0428     		cmp	r0, #4
 5876 0086 0DD0     		beq	.L353
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5877              		.loc 1 442 5 is_stmt 1 view .LVU2159
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5878              		.loc 1 442 10 is_stmt 0 view .LVU2160
 5879 0088 FFF7FEFF 		bl	HAL_GetTick
 5880              	.LVL443:
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5881              		.loc 1 442 24 view .LVU2161
ARM GAS  /tmp/ccxppnfb.s 			page 206


 5882 008c 801B     		subs	r0, r0, r6
 442:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5883              		.loc 1 442 8 view .LVU2162
 5884 008e B0F1FF3F 		cmp	r0, #-1
 5885 0092 F4D1     		bne	.L341
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5886              		.loc 1 444 7 is_stmt 1 view .LVU2163
 444:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5887              		.loc 1 444 22 is_stmt 0 view .LVU2164
 5888 0094 4FF00043 		mov	r3, #-2147483648
 5889 0098 6363     		str	r3, [r4, #52]
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5890              		.loc 1 445 7 is_stmt 1 view .LVU2165
 445:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5891              		.loc 1 445 18 is_stmt 0 view .LVU2166
 5892 009a 0123     		movs	r3, #1
 5893 009c 84F83030 		strb	r3, [r4, #48]
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5894              		.loc 1 446 7 is_stmt 1 view .LVU2167
 446:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 5895              		.loc 1 446 14 is_stmt 0 view .LVU2168
 5896 00a0 0325     		movs	r5, #3
 5897 00a2 BDE7     		b	.L336
 5898              	.L353:
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5899              		.loc 1 451 3 is_stmt 1 view .LVU2169
 451:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5900              		.loc 1 451 18 is_stmt 0 view .LVU2170
 5901 00a4 0023     		movs	r3, #0
 5902 00a6 6363     		str	r3, [r4, #52]
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5903              		.loc 1 454 3 is_stmt 1 view .LVU2171
 454:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5904              		.loc 1 454 16 is_stmt 0 view .LVU2172
 5905 00a8 E362     		str	r3, [r4, #44]
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5906              		.loc 1 457 3 is_stmt 1 view .LVU2173
 457:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5907              		.loc 1 457 14 is_stmt 0 view .LVU2174
 5908 00aa 0123     		movs	r3, #1
 5909 00ac 84F83030 		strb	r3, [r4, #48]
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5910              		.loc 1 459 3 is_stmt 1 view .LVU2175
 459:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5911              		.loc 1 459 10 is_stmt 0 view .LVU2176
 5912 00b0 B6E7     		b	.L336
 5913              	.LVL444:
 5914              	.L343:
 348:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5915              		.loc 1 348 12 view .LVU2177
 5916 00b2 0125     		movs	r5, #1
 5917 00b4 B4E7     		b	.L336
 5918              	.LVL445:
 5919              	.L345:
 411:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5920              		.loc 1 411 12 view .LVU2178
 5921 00b6 0125     		movs	r5, #1
ARM GAS  /tmp/ccxppnfb.s 			page 207


 5922 00b8 B2E7     		b	.L336
 5923              		.cfi_endproc
 5924              	.LFE350:
 5926              		.section	.text.HAL_SD_ConfigSpeedBusOperation,"ax",%progbits
 5927              		.align	1
 5928              		.global	HAL_SD_ConfigSpeedBusOperation
 5929              		.syntax unified
 5930              		.thumb
 5931              		.thumb_func
 5932              		.fpu fpv5-d16
 5934              	HAL_SD_ConfigSpeedBusOperation:
 5935              	.LVL446:
 5936              	.LFB374:
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5937              		.loc 1 2567 1 is_stmt 1 view -0
 5938              		.cfi_startproc
 5939              		@ args = 0, pretend = 0, frame = 0
 5940              		@ frame_needed = 0, uses_anonymous_args = 0
2567:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 5941              		.loc 1 2567 1 is_stmt 0 view .LVU2180
 5942 0000 70B5     		push	{r4, r5, r6, lr}
 5943              	.LCFI76:
 5944              		.cfi_def_cfa_offset 16
 5945              		.cfi_offset 4, -16
 5946              		.cfi_offset 5, -12
 5947              		.cfi_offset 6, -8
 5948              		.cfi_offset 14, -4
 5949 0002 0446     		mov	r4, r0
2568:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 5950              		.loc 1 2568 3 is_stmt 1 view .LVU2181
2569:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5951              		.loc 1 2569 3 view .LVU2182
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5952              		.loc 1 2570 3 view .LVU2183
 5953              	.LVL447:
2573:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
 5954              		.loc 1 2573 3 view .LVU2184
2575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5955              		.loc 1 2575 3 view .LVU2185
2575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 5956              		.loc 1 2575 14 is_stmt 0 view .LVU2186
 5957 0004 0323     		movs	r3, #3
 5958 0006 80F83030 		strb	r3, [r0, #48]
2772:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5959              		.loc 1 2772 3 is_stmt 1 view .LVU2187
 5960 000a 0129     		cmp	r1, #1
 5961 000c 4FD0     		beq	.L355
 5962 000e 0229     		cmp	r1, #2
 5963 0010 32D0     		beq	.L356
 5964 0012 D1B1     		cbz	r1, .L371
2826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5965              		.loc 1 2826 7 view .LVU2188
2826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5966              		.loc 1 2826 22 is_stmt 0 view .LVU2189
 5967 0014 436B     		ldr	r3, [r0, #52]
 5968 0016 43F00063 		orr	r3, r3, #134217728
 5969 001a 4363     		str	r3, [r0, #52]
ARM GAS  /tmp/ccxppnfb.s 			page 208


2827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
 5970              		.loc 1 2827 7 is_stmt 1 view .LVU2190
 5971              	.LVL448:
2828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 5972              		.loc 1 2828 7 view .LVU2191
2827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
 5973              		.loc 1 2827 14 is_stmt 0 view .LVU2192
 5974 001c 0126     		movs	r6, #1
 5975              	.LVL449:
 5976              	.L359:
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5977              		.loc 1 2833 3 is_stmt 1 view .LVU2193
2833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5978              		.loc 1 2833 15 is_stmt 0 view .LVU2194
 5979 001e FFF7FEFF 		bl	HAL_GetTick
 5980              	.LVL450:
 5981 0022 0546     		mov	r5, r0
 5982              	.LVL451:
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5983              		.loc 1 2834 3 is_stmt 1 view .LVU2195
 5984              	.L362:
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5985              		.loc 1 2834 9 view .LVU2196
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5986              		.loc 1 2834 11 is_stmt 0 view .LVU2197
 5987 0024 2046     		mov	r0, r4
 5988 0026 FFF7FEFF 		bl	HAL_SD_GetCardState
 5989              	.LVL452:
2834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5990              		.loc 1 2834 9 view .LVU2198
 5991 002a 0428     		cmp	r0, #4
 5992 002c 4FD0     		beq	.L372
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5993              		.loc 1 2836 5 is_stmt 1 view .LVU2199
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5994              		.loc 1 2836 10 is_stmt 0 view .LVU2200
 5995 002e FFF7FEFF 		bl	HAL_GetTick
 5996              	.LVL453:
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5997              		.loc 1 2836 24 view .LVU2201
 5998 0032 401B     		subs	r0, r0, r5
2836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 5999              		.loc 1 2836 8 view .LVU2202
 6000 0034 B0F1FF3F 		cmp	r0, #-1
 6001 0038 F4D1     		bne	.L362
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 6002              		.loc 1 2838 7 is_stmt 1 view .LVU2203
2838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 6003              		.loc 1 2838 22 is_stmt 0 view .LVU2204
 6004 003a 4FF00043 		mov	r3, #-2147483648
 6005 003e 6363     		str	r3, [r4, #52]
2839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 6006              		.loc 1 2839 7 is_stmt 1 view .LVU2205
2839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 6007              		.loc 1 2839 18 is_stmt 0 view .LVU2206
 6008 0040 0123     		movs	r3, #1
 6009 0042 84F83030 		strb	r3, [r4, #48]
ARM GAS  /tmp/ccxppnfb.s 			page 209


2840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6010              		.loc 1 2840 7 is_stmt 1 view .LVU2207
2840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6011              		.loc 1 2840 14 is_stmt 0 view .LVU2208
 6012 0046 0326     		movs	r6, #3
 6013              	.LVL454:
2840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6014              		.loc 1 2840 14 view .LVU2209
 6015 0048 51E0     		b	.L363
 6016              	.LVL455:
 6017              	.L371:
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6018              		.loc 1 2776 7 is_stmt 1 view .LVU2210
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6019              		.loc 1 2776 23 is_stmt 0 view .LVU2211
 6020 004a 836D     		ldr	r3, [r0, #88]
2776:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6021              		.loc 1 2776 10 view .LVU2212
 6022 004c B3F5807F 		cmp	r3, #256
 6023 0050 18BF     		it	ne
 6024 0052 B3F5007F 		cmpne	r3, #512
 6025 0056 04D0     		beq	.L358
2778:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6026              		.loc 1 2778 23 view .LVU2213
 6027 0058 836B     		ldr	r3, [r0, #56]
2777:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 6028              		.loc 1 2777 55 view .LVU2214
 6029 005a 012B     		cmp	r3, #1
 6030 005c 01D0     		beq	.L358
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6031              		.loc 1 2570 21 view .LVU2215
 6032 005e 0026     		movs	r6, #0
 6033 0060 DDE7     		b	.L359
 6034              	.L358:
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6035              		.loc 1 2781 9 is_stmt 1 view .LVU2216
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6036              		.loc 1 2781 13 is_stmt 0 view .LVU2217
 6037 0062 2449     		ldr	r1, .L373
 6038              	.LVL456:
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6039              		.loc 1 2781 13 view .LVU2218
 6040 0064 2046     		mov	r0, r4
 6041              	.LVL457:
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6042              		.loc 1 2781 13 view .LVU2219
 6043 0066 FFF7FEFF 		bl	SD_SwitchSpeed
 6044              	.LVL458:
2781:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6045              		.loc 1 2781 12 view .LVU2220
 6046 006a 50B3     		cbz	r0, .L367
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6047              		.loc 1 2783 11 is_stmt 1 view .LVU2221
2783:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6048              		.loc 1 2783 26 is_stmt 0 view .LVU2222
 6049 006c 636B     		ldr	r3, [r4, #52]
 6050 006e 43F08053 		orr	r3, r3, #268435456
ARM GAS  /tmp/ccxppnfb.s 			page 210


 6051 0072 6363     		str	r3, [r4, #52]
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6052              		.loc 1 2784 11 is_stmt 1 view .LVU2223
 6053              	.LVL459:
2784:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6054              		.loc 1 2784 18 is_stmt 0 view .LVU2224
 6055 0074 0126     		movs	r6, #1
 6056 0076 D2E7     		b	.L359
 6057              	.LVL460:
 6058              	.L356:
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6059              		.loc 1 2795 7 is_stmt 1 view .LVU2225
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6060              		.loc 1 2795 23 is_stmt 0 view .LVU2226
 6061 0078 836D     		ldr	r3, [r0, #88]
2795:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 6062              		.loc 1 2795 10 view .LVU2227
 6063 007a B3F5807F 		cmp	r3, #256
 6064 007e 18BF     		it	ne
 6065 0080 B3F5007F 		cmpne	r3, #512
 6066 0084 08D0     		beq	.L360
2797:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6067              		.loc 1 2797 23 view .LVU2228
 6068 0086 836B     		ldr	r3, [r0, #56]
2796:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 6069              		.loc 1 2796 55 view .LVU2229
 6070 0088 012B     		cmp	r3, #1
 6071 008a 05D0     		beq	.L360
2808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6072              		.loc 1 2808 9 is_stmt 1 view .LVU2230
2808:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6073              		.loc 1 2808 24 is_stmt 0 view .LVU2231
 6074 008c 436B     		ldr	r3, [r0, #52]
 6075 008e 43F08053 		orr	r3, r3, #268435456
 6076 0092 4363     		str	r3, [r0, #52]
2809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6077              		.loc 1 2809 9 is_stmt 1 view .LVU2232
 6078              	.LVL461:
2809:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6079              		.loc 1 2809 16 is_stmt 0 view .LVU2233
 6080 0094 0126     		movs	r6, #1
 6081 0096 C2E7     		b	.L359
 6082              	.LVL462:
 6083              	.L360:
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6084              		.loc 1 2800 9 is_stmt 1 view .LVU2234
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6085              		.loc 1 2800 13 is_stmt 0 view .LVU2235
 6086 0098 1649     		ldr	r1, .L373
 6087              	.LVL463:
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6088              		.loc 1 2800 13 view .LVU2236
 6089 009a 2046     		mov	r0, r4
 6090              	.LVL464:
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6091              		.loc 1 2800 13 view .LVU2237
 6092 009c FFF7FEFF 		bl	SD_SwitchSpeed
ARM GAS  /tmp/ccxppnfb.s 			page 211


 6093              	.LVL465:
2800:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6094              		.loc 1 2800 12 view .LVU2238
 6095 00a0 88B1     		cbz	r0, .L368
2802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6096              		.loc 1 2802 11 is_stmt 1 view .LVU2239
2802:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 6097              		.loc 1 2802 26 is_stmt 0 view .LVU2240
 6098 00a2 636B     		ldr	r3, [r4, #52]
 6099 00a4 43F08053 		orr	r3, r3, #268435456
 6100 00a8 6363     		str	r3, [r4, #52]
2803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6101              		.loc 1 2803 11 is_stmt 1 view .LVU2241
 6102              	.LVL466:
2803:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 6103              		.loc 1 2803 18 is_stmt 0 view .LVU2242
 6104 00aa 0126     		movs	r6, #1
 6105 00ac B7E7     		b	.L359
 6106              	.LVL467:
 6107              	.L355:
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6108              		.loc 1 2816 7 is_stmt 1 view .LVU2243
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6109              		.loc 1 2816 11 is_stmt 0 view .LVU2244
 6110 00ae 1249     		ldr	r1, .L373+4
 6111              	.LVL468:
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6112              		.loc 1 2816 11 view .LVU2245
 6113 00b0 FFF7FEFF 		bl	SD_SwitchSpeed
 6114              	.LVL469:
2816:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6115              		.loc 1 2816 10 view .LVU2246
 6116 00b4 48B1     		cbz	r0, .L369
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6117              		.loc 1 2818 9 is_stmt 1 view .LVU2247
2818:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 6118              		.loc 1 2818 24 is_stmt 0 view .LVU2248
 6119 00b6 636B     		ldr	r3, [r4, #52]
 6120 00b8 43F08053 		orr	r3, r3, #268435456
 6121 00bc 6363     		str	r3, [r4, #52]
2819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6122              		.loc 1 2819 9 is_stmt 1 view .LVU2249
 6123              	.LVL470:
2819:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 6124              		.loc 1 2819 16 is_stmt 0 view .LVU2250
 6125 00be 0126     		movs	r6, #1
 6126 00c0 ADE7     		b	.L359
 6127              	.LVL471:
 6128              	.L367:
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6129              		.loc 1 2570 21 view .LVU2251
 6130 00c2 0026     		movs	r6, #0
 6131 00c4 ABE7     		b	.L359
 6132              	.L368:
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6133              		.loc 1 2570 21 view .LVU2252
 6134 00c6 0026     		movs	r6, #0
ARM GAS  /tmp/ccxppnfb.s 			page 212


 6135 00c8 A9E7     		b	.L359
 6136              	.L369:
2570:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6137              		.loc 1 2570 21 view .LVU2253
 6138 00ca 0026     		movs	r6, #0
 6139 00cc A7E7     		b	.L359
 6140              	.LVL472:
 6141              	.L372:
2845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6142              		.loc 1 2845 3 is_stmt 1 view .LVU2254
2845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6143              		.loc 1 2845 16 is_stmt 0 view .LVU2255
 6144 00ce 4FF40071 		mov	r1, #512
 6145 00d2 2068     		ldr	r0, [r4]
 6146 00d4 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 6147              	.LVL473:
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6148              		.loc 1 2846 3 is_stmt 1 view .LVU2256
2846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6149              		.loc 1 2846 6 is_stmt 0 view .LVU2257
 6150 00d8 30B1     		cbz	r0, .L365
2849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 6151              		.loc 1 2849 5 is_stmt 1 view .LVU2258
 6152 00da 2368     		ldr	r3, [r4]
 6153 00dc 0749     		ldr	r1, .L373+8
 6154 00de 9963     		str	r1, [r3, #56]
2850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6155              		.loc 1 2850 5 view .LVU2259
2850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 6156              		.loc 1 2850 20 is_stmt 0 view .LVU2260
 6157 00e0 636B     		ldr	r3, [r4, #52]
 6158 00e2 0343     		orrs	r3, r3, r0
 6159 00e4 6363     		str	r3, [r4, #52]
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6160              		.loc 1 2851 5 is_stmt 1 view .LVU2261
 6161              	.LVL474:
2851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6162              		.loc 1 2851 12 is_stmt 0 view .LVU2262
 6163 00e6 0126     		movs	r6, #1
 6164              	.LVL475:
 6165              	.L365:
2855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 6166              		.loc 1 2855 3 is_stmt 1 view .LVU2263
2855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 6167              		.loc 1 2855 14 is_stmt 0 view .LVU2264
 6168 00e8 0123     		movs	r3, #1
 6169 00ea 84F83030 		strb	r3, [r4, #48]
2856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6170              		.loc 1 2856 3 is_stmt 1 view .LVU2265
 6171              	.LVL476:
 6172              	.L363:
2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6173              		.loc 1 2857 1 is_stmt 0 view .LVU2266
 6174 00ee 3046     		mov	r0, r6
 6175 00f0 70BD     		pop	{r4, r5, r6, pc}
 6176              	.LVL477:
 6177              	.L374:
ARM GAS  /tmp/ccxppnfb.s 			page 213


2857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6178              		.loc 1 2857 1 view .LVU2267
 6179 00f2 00BF     		.align	2
 6180              	.L373:
 6181 00f4 01FFFF80 		.word	-2130706687
 6182 00f8 00FFFF80 		.word	-2130706688
 6183 00fc FF0FE01F 		.word	534777855
 6184              		.cfi_endproc
 6185              	.LFE374:
 6187              		.section	.text.HAL_SD_Abort,"ax",%progbits
 6188              		.align	1
 6189              		.global	HAL_SD_Abort
 6190              		.syntax unified
 6191              		.thumb
 6192              		.thumb_func
 6193              		.fpu fpv5-d16
 6195              	HAL_SD_Abort:
 6196              	.LVL478:
 6197              	.LFB376:
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t error_code;
 6198              		.loc 1 2888 1 is_stmt 1 view -0
 6199              		.cfi_startproc
 6200              		@ args = 0, pretend = 0, frame = 0
 6201              		@ frame_needed = 0, uses_anonymous_args = 0
2888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t error_code;
 6202              		.loc 1 2888 1 is_stmt 0 view .LVU2269
 6203 0000 70B5     		push	{r4, r5, r6, lr}
 6204              	.LCFI77:
 6205              		.cfi_def_cfa_offset 16
 6206              		.cfi_offset 4, -16
 6207              		.cfi_offset 5, -12
 6208              		.cfi_offset 6, -8
 6209              		.cfi_offset 14, -4
2889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 6210              		.loc 1 2889 3 is_stmt 1 view .LVU2270
2890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6211              		.loc 1 2890 3 view .LVU2271
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6212              		.loc 1 2892 3 view .LVU2272
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6213              		.loc 1 2892 10 is_stmt 0 view .LVU2273
 6214 0002 90F83040 		ldrb	r4, [r0, #48]	@ zero_extendqisi2
 6215 0006 E4B2     		uxtb	r4, r4
2892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6216              		.loc 1 2892 6 view .LVU2274
 6217 0008 032C     		cmp	r4, #3
 6218 000a 02D0     		beq	.L389
2973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6219              		.loc 1 2973 10 view .LVU2275
 6220 000c 0024     		movs	r4, #0
 6221              	.LVL479:
 6222              	.L376:
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6223              		.loc 1 2974 1 view .LVU2276
 6224 000e 2046     		mov	r0, r4
 6225 0010 70BD     		pop	{r4, r5, r6, pc}
 6226              	.LVL480:
ARM GAS  /tmp/ccxppnfb.s 			page 214


 6227              	.L389:
2974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6228              		.loc 1 2974 1 view .LVU2277
 6229 0012 0546     		mov	r5, r0
2895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                          SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6230              		.loc 1 2895 5 is_stmt 1 view .LVU2278
 6231 0014 0268     		ldr	r2, [r0]
 6232 0016 D36B     		ldr	r3, [r2, #60]
 6233 0018 23F49D73 		bic	r3, r3, #314
 6234 001c D363     		str	r3, [r2, #60]
2897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6235              		.loc 1 2897 5 view .LVU2279
 6236 001e 0268     		ldr	r2, [r0]
 6237 0020 D368     		ldr	r3, [r2, #12]
 6238 0022 23F04003 		bic	r3, r3, #64
 6239 0026 D360     		str	r3, [r2, #12]
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6240              		.loc 1 2904 5 view .LVU2280
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6241              		.loc 1 2904 22 is_stmt 0 view .LVU2281
 6242 0028 0068     		ldr	r0, [r0]
 6243              	.LVL481:
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6244              		.loc 1 2904 22 view .LVU2282
 6245 002a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6246              	.LVL482:
2904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     error_code = hsd->ErrorCode;
 6247              		.loc 1 2904 20 view .LVU2283
 6248 002e 6863     		str	r0, [r5, #52]
2905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((error_code != HAL_SD_ERROR_NONE) && (error_code != HAL_SD_ERROR_CMD_RSP_TIMEOUT))
 6249              		.loc 1 2905 5 is_stmt 1 view .LVU2284
2905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((error_code != HAL_SD_ERROR_NONE) && (error_code != HAL_SD_ERROR_CMD_RSP_TIMEOUT))
 6250              		.loc 1 2905 16 is_stmt 0 view .LVU2285
 6251 0030 6A6B     		ldr	r2, [r5, #52]
 6252              	.LVL483:
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6253              		.loc 1 2906 5 is_stmt 1 view .LVU2286
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6254              		.loc 1 2906 58 is_stmt 0 view .LVU2287
 6255 0032 131F     		subs	r3, r2, #4
 6256 0034 18BF     		it	ne
 6257 0036 0123     		movne	r3, #1
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6258              		.loc 1 2906 43 view .LVU2288
 6259 0038 002A     		cmp	r2, #0
 6260 003a 08BF     		it	eq
 6261 003c 0023     		moveq	r3, #0
2906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6262              		.loc 1 2906 8 view .LVU2289
 6263 003e 0BB1     		cbz	r3, .L390
2908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6264              		.loc 1 2908 14 view .LVU2290
 6265 0040 0124     		movs	r4, #1
 6266 0042 E4E7     		b	.L376
 6267              	.L390:
2911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
 6268              		.loc 1 2911 5 is_stmt 1 view .LVU2291
ARM GAS  /tmp/ccxppnfb.s 			page 215


2911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
 6269              		.loc 1 2911 17 is_stmt 0 view .LVU2292
 6270 0044 FFF7FEFF 		bl	HAL_GetTick
 6271              	.LVL484:
2911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((hsd->Instance->DCTRL & SDMMC_DCTRL_DTDIR) == SDMMC_TRANSFER_DIR_TO_CARD)
 6272              		.loc 1 2911 17 view .LVU2293
 6273 0048 0646     		mov	r6, r0
 6274              	.LVL485:
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6275              		.loc 1 2912 5 is_stmt 1 view .LVU2294
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6276              		.loc 1 2912 13 is_stmt 0 view .LVU2295
 6277 004a 2B68     		ldr	r3, [r5]
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6278              		.loc 1 2912 23 view .LVU2296
 6279 004c DA6A     		ldr	r2, [r3, #44]
2912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6280              		.loc 1 2912 8 view .LVU2297
 6281 004e 12F0020F 		tst	r2, #2
 6282 0052 28D1     		bne	.L377
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6283              		.loc 1 2914 7 is_stmt 1 view .LVU2298
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6284              		.loc 1 2914 14 is_stmt 0 view .LVU2299
 6285 0054 6B6B     		ldr	r3, [r5, #52]
2914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6286              		.loc 1 2914 10 view .LVU2300
 6287 0056 A3B1     		cbz	r3, .L378
 6288              	.LVL486:
 6289              	.L379:
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6290              		.loc 1 2927 7 is_stmt 1 view .LVU2301
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6291              		.loc 1 2927 14 is_stmt 0 view .LVU2302
 6292 0058 6B6B     		ldr	r3, [r5, #52]
2927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6293              		.loc 1 2927 10 view .LVU2303
 6294 005a 042B     		cmp	r3, #4
 6295 005c 27D1     		bne	.L382
 6296              	.L381:
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6297              		.loc 1 2929 14 is_stmt 1 view .LVU2304
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6298              		.loc 1 2929 16 is_stmt 0 view .LVU2305
 6299 005e 2B68     		ldr	r3, [r5]
 6300 0060 5B6B     		ldr	r3, [r3, #52]
2929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6301              		.loc 1 2929 14 view .LVU2306
 6302 0062 13F4807F 		tst	r3, #256
 6303 0066 22D1     		bne	.L382
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6304              		.loc 1 2931 12 is_stmt 1 view .LVU2307
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6305              		.loc 1 2931 17 is_stmt 0 view .LVU2308
 6306 0068 FFF7FEFF 		bl	HAL_GetTick
 6307              	.LVL487:
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
ARM GAS  /tmp/ccxppnfb.s 			page 216


 6308              		.loc 1 2931 31 view .LVU2309
 6309 006c 801B     		subs	r0, r0, r6
2931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6310              		.loc 1 2931 15 view .LVU2310
 6311 006e B0F1FF3F 		cmp	r0, #-1
 6312 0072 F4D1     		bne	.L381
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
 6313              		.loc 1 2933 15 is_stmt 1 view .LVU2311
2933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
 6314              		.loc 1 2933 30 is_stmt 0 view .LVU2312
 6315 0074 4FF00043 		mov	r3, #-2147483648
 6316 0078 6B63     		str	r3, [r5, #52]
2934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
 6317              		.loc 1 2934 15 is_stmt 1 view .LVU2313
2934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
 6318              		.loc 1 2934 26 is_stmt 0 view .LVU2314
 6319 007a 0123     		movs	r3, #1
 6320 007c 85F83030 		strb	r3, [r5, #48]
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
 6321              		.loc 1 2935 15 is_stmt 1 view .LVU2315
2935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
 6322              		.loc 1 2935 22 is_stmt 0 view .LVU2316
 6323 0080 C5E7     		b	.L376
 6324              	.L378:
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6325              		.loc 1 2916 15 is_stmt 1 view .LVU2317
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6326              		.loc 1 2916 17 is_stmt 0 view .LVU2318
 6327 0082 2B68     		ldr	r3, [r5]
 6328 0084 5A6B     		ldr	r2, [r3, #52]
2916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6329              		.loc 1 2916 15 view .LVU2319
 6330 0086 1A4B     		ldr	r3, .L391
 6331 0088 1A42     		tst	r2, r3
 6332 008a E5D1     		bne	.L379
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6333              		.loc 1 2918 12 is_stmt 1 view .LVU2320
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6334              		.loc 1 2918 17 is_stmt 0 view .LVU2321
 6335 008c FFF7FEFF 		bl	HAL_GetTick
 6336              	.LVL488:
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6337              		.loc 1 2918 31 view .LVU2322
 6338 0090 831B     		subs	r3, r0, r6
2918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6339              		.loc 1 2918 15 view .LVU2323
 6340 0092 B3F1FF3F 		cmp	r3, #-1
 6341 0096 F4D1     		bne	.L378
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
 6342              		.loc 1 2920 15 is_stmt 1 view .LVU2324
2920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
 6343              		.loc 1 2920 30 is_stmt 0 view .LVU2325
 6344 0098 4FF00043 		mov	r3, #-2147483648
 6345 009c 6B63     		str	r3, [r5, #52]
2921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
 6346              		.loc 1 2921 15 is_stmt 1 view .LVU2326
2921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
ARM GAS  /tmp/ccxppnfb.s 			page 217


 6347              		.loc 1 2921 26 is_stmt 0 view .LVU2327
 6348 009e 0123     		movs	r3, #1
 6349 00a0 85F83030 		strb	r3, [r5, #48]
2922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
 6350              		.loc 1 2922 15 is_stmt 1 view .LVU2328
2922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
 6351              		.loc 1 2922 22 is_stmt 0 view .LVU2329
 6352 00a4 B3E7     		b	.L376
 6353              	.LVL489:
 6354              	.L377:
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6355              		.loc 1 2940 10 is_stmt 1 view .LVU2330
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6356              		.loc 1 2940 28 is_stmt 0 view .LVU2331
 6357 00a6 DB6A     		ldr	r3, [r3, #44]
2940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6358              		.loc 1 2940 13 view .LVU2332
 6359 00a8 13F0020F 		tst	r3, #2
 6360 00ac 0ED1     		bne	.L384
 6361              	.LVL490:
 6362              	.L382:
2955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6363              		.loc 1 2955 5 is_stmt 1 view .LVU2333
2963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 6364              		.loc 1 2963 5 view .LVU2334
 6365 00ae 2B68     		ldr	r3, [r5]
 6366 00b0 4FF40012 		mov	r2, #2097152
 6367 00b4 9A63     		str	r2, [r3, #56]
2964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* If IDMA Context, disable Internal DMA */
 6368              		.loc 1 2964 5 view .LVU2335
 6369 00b6 2B68     		ldr	r3, [r5]
 6370 00b8 0E4A     		ldr	r2, .L391+4
 6371 00ba 9A63     		str	r2, [r3, #56]
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6372              		.loc 1 2966 5 view .LVU2336
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6373              		.loc 1 2966 8 is_stmt 0 view .LVU2337
 6374 00bc 2B68     		ldr	r3, [r5]
2966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6375              		.loc 1 2966 29 view .LVU2338
 6376 00be 0024     		movs	r4, #0
 6377 00c0 1C65     		str	r4, [r3, #80]
2968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6378              		.loc 1 2968 5 is_stmt 1 view .LVU2339
2968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6379              		.loc 1 2968 16 is_stmt 0 view .LVU2340
 6380 00c2 0123     		movs	r3, #1
 6381 00c4 85F83030 		strb	r3, [r5, #48]
2971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6382              		.loc 1 2971 5 is_stmt 1 view .LVU2341
2971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6383              		.loc 1 2971 18 is_stmt 0 view .LVU2342
 6384 00c8 EC62     		str	r4, [r5, #44]
 6385 00ca A0E7     		b	.L376
 6386              	.L384:
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6387              		.loc 1 2942 12 is_stmt 1 view .LVU2343
ARM GAS  /tmp/ccxppnfb.s 			page 218


2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6388              		.loc 1 2942 14 is_stmt 0 view .LVU2344
 6389 00cc 2B68     		ldr	r3, [r5]
 6390 00ce 5B6B     		ldr	r3, [r3, #52]
2942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6391              		.loc 1 2942 12 view .LVU2345
 6392 00d0 13F4106F 		tst	r3, #2304
 6393 00d4 EBD1     		bne	.L382
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6394              		.loc 1 2944 12 is_stmt 1 view .LVU2346
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6395              		.loc 1 2944 17 is_stmt 0 view .LVU2347
 6396 00d6 FFF7FEFF 		bl	HAL_GetTick
 6397              	.LVL491:
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6398              		.loc 1 2944 31 view .LVU2348
 6399 00da 831B     		subs	r3, r0, r6
2944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            {
 6400              		.loc 1 2944 15 view .LVU2349
 6401 00dc B3F1FF3F 		cmp	r3, #-1
 6402 00e0 F4D1     		bne	.L384
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
 6403              		.loc 1 2946 15 is_stmt 1 view .LVU2350
2946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->State = HAL_SD_STATE_READY;
 6404              		.loc 1 2946 30 is_stmt 0 view .LVU2351
 6405 00e2 4FF00043 		mov	r3, #-2147483648
 6406 00e6 6B63     		str	r3, [r5, #52]
2947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
 6407              		.loc 1 2947 15 is_stmt 1 view .LVU2352
2947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_TIMEOUT;
 6408              		.loc 1 2947 26 is_stmt 0 view .LVU2353
 6409 00e8 0123     		movs	r3, #1
 6410 00ea 85F83030 		strb	r3, [r5, #48]
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
 6411              		.loc 1 2948 15 is_stmt 1 view .LVU2354
2948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            }
 6412              		.loc 1 2948 22 is_stmt 0 view .LVU2355
 6413 00ee 8EE7     		b	.L376
 6414              	.L392:
 6415              		.align	2
 6416              	.L391:
 6417 00f0 00082000 		.word	2099200
 6418 00f4 3A0F0018 		.word	402657082
 6419              		.cfi_endproc
 6420              	.LFE376:
 6422              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 6423              		.align	1
 6424              		.global	HAL_SD_Abort_IT
 6425              		.syntax unified
 6426              		.thumb
 6427              		.thumb_func
 6428              		.fpu fpv5-d16
 6430              	HAL_SD_Abort_IT:
 6431              	.LVL492:
 6432              	.LFB377:
2984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6433              		.loc 1 2984 1 is_stmt 1 view -0
ARM GAS  /tmp/ccxppnfb.s 			page 219


 6434              		.cfi_startproc
 6435              		@ args = 0, pretend = 0, frame = 0
 6436              		@ frame_needed = 0, uses_anonymous_args = 0
2984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6437              		.loc 1 2984 1 is_stmt 0 view .LVU2357
 6438 0000 10B5     		push	{r4, lr}
 6439              	.LCFI78:
 6440              		.cfi_def_cfa_offset 8
 6441              		.cfi_offset 4, -8
 6442              		.cfi_offset 14, -4
 6443 0002 0446     		mov	r4, r0
2985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6444              		.loc 1 2985 3 is_stmt 1 view .LVU2358
2988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6445              		.loc 1 2988 3 view .LVU2359
 6446 0004 0268     		ldr	r2, [r0]
 6447 0006 D36B     		ldr	r3, [r2, #60]
 6448 0008 23F49D73 		bic	r3, r3, #314
 6449 000c D363     		str	r3, [r2, #60]
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6450              		.loc 1 2992 3 view .LVU2360
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6451              		.loc 1 2992 6 is_stmt 0 view .LVU2361
 6452 000e 0368     		ldr	r3, [r0]
2992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6453              		.loc 1 2992 27 view .LVU2362
 6454 0010 0022     		movs	r2, #0
 6455 0012 1A65     		str	r2, [r3, #80]
2995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6456              		.loc 1 2995 3 is_stmt 1 view .LVU2363
 6457 0014 0368     		ldr	r3, [r0]
 6458 0016 0C4A     		ldr	r2, .L400
 6459 0018 9A63     		str	r2, [r3, #56]
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6460              		.loc 1 2997 3 view .LVU2364
2997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6461              		.loc 1 2997 15 is_stmt 0 view .LVU2365
 6462 001a FFF7FEFF 		bl	HAL_SD_GetCardState
 6463              	.LVL493:
2998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6464              		.loc 1 2998 3 is_stmt 1 view .LVU2366
2998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6465              		.loc 1 2998 14 is_stmt 0 view .LVU2367
 6466 001e 0123     		movs	r3, #1
 6467 0020 84F83030 		strb	r3, [r4, #48]
3000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6468              		.loc 1 3000 3 is_stmt 1 view .LVU2368
3000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6469              		.loc 1 3000 44 is_stmt 0 view .LVU2369
 6470 0024 0538     		subs	r0, r0, #5
 6471              	.LVL494:
3000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6472              		.loc 1 3000 6 view .LVU2370
 6473 0026 9842     		cmp	r0, r3
 6474 0028 03D9     		bls	.L398
 6475              	.LVL495:
 6476              	.L394:
ARM GAS  /tmp/ccxppnfb.s 			page 220


3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6477              		.loc 1 3005 3 is_stmt 1 view .LVU2371
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6478              		.loc 1 3005 10 is_stmt 0 view .LVU2372
 6479 002a 636B     		ldr	r3, [r4, #52]
3005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6480              		.loc 1 3005 6 view .LVU2373
 6481 002c 33B1     		cbz	r3, .L399
3007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6482              		.loc 1 3007 12 view .LVU2374
 6483 002e 0120     		movs	r0, #1
 6484              	.L395:
3019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6485              		.loc 1 3019 1 view .LVU2375
 6486 0030 10BD     		pop	{r4, pc}
 6487              	.LVL496:
 6488              	.L398:
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6489              		.loc 1 3002 5 is_stmt 1 view .LVU2376
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6490              		.loc 1 3002 22 is_stmt 0 view .LVU2377
 6491 0032 2068     		ldr	r0, [r4]
 6492              	.LVL497:
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6493              		.loc 1 3002 22 view .LVU2378
 6494 0034 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6495              	.LVL498:
3002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6496              		.loc 1 3002 20 view .LVU2379
 6497 0038 6063     		str	r0, [r4, #52]
 6498 003a F6E7     		b	.L394
 6499              	.L399:
3014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6500              		.loc 1 3014 5 is_stmt 1 view .LVU2380
 6501 003c 2046     		mov	r0, r4
 6502 003e FFF7FEFF 		bl	HAL_SD_AbortCallback
 6503              	.LVL499:
3018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6504              		.loc 1 3018 3 view .LVU2381
3018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6505              		.loc 1 3018 10 is_stmt 0 view .LVU2382
 6506 0042 0020     		movs	r0, #0
 6507 0044 F4E7     		b	.L395
 6508              	.L401:
 6509 0046 00BF     		.align	2
 6510              	.L400:
 6511 0048 3A0F0018 		.word	402657082
 6512              		.cfi_endproc
 6513              	.LFE377:
 6515              		.section	.text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback,"ax",%progbits
 6516              		.align	1
 6517              		.weak	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 6518              		.syntax unified
 6519              		.thumb
 6520              		.thumb_func
 6521              		.fpu fpv5-d16
 6523              	HAL_SDEx_Read_DMADoubleBuf0CpltCallback:
ARM GAS  /tmp/ccxppnfb.s 			page 221


 6524              	.LVL500:
 6525              	.LFB389:
3820:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3821:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3822:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3823:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Ultra High Speed mode.
3824:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3825:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3826:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
3827:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3828:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  UltraHighSpeedMode: SD speed mode( SDMMC_SDR50_SWITCH_PATTERN, SDMMC_SDR104_SWITCH_PATT
3829:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3830:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3831:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd, uint32_t UltraHighSpeedMode)
3832:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3833:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
3834:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3835:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
3836:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3837:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
3838:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
3839:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3840:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
3841:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3842:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3843:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3844:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3845:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3846:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
3847:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3848:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3849:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3850:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3851:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3852:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3853:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3854:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3855:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3856:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3857:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3858:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
3859:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3860:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3861:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3862:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3863:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3864:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3865:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
3866:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3867:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3868:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3869:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3870:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, UltraHighSpeedMode);
3871:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3872:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3873:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3874:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccxppnfb.s 			page 222


3875:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3876:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3877:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3878:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3879:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
3880:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3881:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
3882:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3883:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
3884:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3885:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
3886:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3887:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3888:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
3889:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3890:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
3891:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
3892:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
3893:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3894:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3895:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3896:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
3897:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3898:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
3899:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3900:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3901:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3902:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
3903:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3904:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
3905:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3906:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
3907:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3908:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3909:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3910:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
3911:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3912:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
3913:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3914:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
3915:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3916:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3917:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3918:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3919:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3920:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3921:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3922:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3923:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3924:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
3925:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3926:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3927:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
3928:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3929:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
3930:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3931:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
ARM GAS  /tmp/ccxppnfb.s 			page 223


3932:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3933:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3934:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
3935:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3936:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
3937:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3938:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
3939:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
3940:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_FB_CLK tuned feedback clock selected as receive clock, for SDR104 */
3941:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_1);
3942:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
3943:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3944:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3945:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3946:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
3947:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3948:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3949:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3950:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
3951:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
3952:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3953:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3954:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Double Data Rate (DDR) mode.
3955:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3956:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3957:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock less than 50MHz
3958:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3959:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3960:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3961:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd)
3962:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
3963:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
3964:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3965:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
3966:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3967:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
3968:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
3969:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3970:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
3971:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3972:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3973:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3974:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3975:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3976:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
3977:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3978:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3979:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
3980:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
3981:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3982:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
3983:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3984:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
3985:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3986:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3987:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3988:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
ARM GAS  /tmp/ccxppnfb.s 			page 224


3989:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
3990:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
3991:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
3992:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
3993:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
3994:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3995:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
3996:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3997:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
3998:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3999:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4000:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_DDR50_SWITCH_PATTERN);
4001:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
4002:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4003:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4004:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4005:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4006:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
4007:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
4008:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4009:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
4010:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
4011:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
4012:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
4013:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
4014:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
4015:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
4016:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
4017:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4018:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
4019:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
4020:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
4021:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
4022:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
4023:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
4024:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4025:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4026:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
4027:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4028:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
4029:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4030:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4031:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4032:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
4033:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4034:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
4035:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4036:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
4037:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4038:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4039:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4040:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
4041:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4042:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
4043:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4044:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
4045:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccxppnfb.s 			page 225


4046:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
4047:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4048:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
4049:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4050:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
4051:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4052:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4053:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
4054:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
4055:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4056:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode  is ok */
4057:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
4058:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4059:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
4060:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4061:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
4062:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
4063:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
4064:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
4065:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
4066:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
4067:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
4068:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
4069:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
4070:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_CKin feedback clock selected as receive clock, for DDR50 */
4071:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_0);
4072:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
4073:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
4074:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
4075:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
4076:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
4077:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
4078:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
4079:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4080:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
4081:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
4082:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4083:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
4084:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4085:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4086:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 0 Transfer completed callbacks
4087:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4088:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4089:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4090:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
4091:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6526              		.loc 1 4091 1 is_stmt 1 view -0
 6527              		.cfi_startproc
 6528              		@ args = 0, pretend = 0, frame = 0
 6529              		@ frame_needed = 0, uses_anonymous_args = 0
 6530              		@ link register save eliminated.
4092:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4093:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6531              		.loc 1 4093 3 view .LVU2384
4094:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4095:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4096:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf0CpltCallback can be implemented in the user file
ARM GAS  /tmp/ccxppnfb.s 			page 226


4097:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4098:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6532              		.loc 1 4098 1 is_stmt 0 view .LVU2385
 6533 0000 7047     		bx	lr
 6534              		.cfi_endproc
 6535              	.LFE389:
 6537              		.section	.text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback,"ax",%progbits
 6538              		.align	1
 6539              		.weak	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 6540              		.syntax unified
 6541              		.thumb
 6542              		.thumb_func
 6543              		.fpu fpv5-d16
 6545              	HAL_SDEx_Read_DMADoubleBuf1CpltCallback:
 6546              	.LVL501:
 6547              	.LFB390:
4099:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4100:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4101:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 1 Transfer completed callbacks
4102:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4103:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4104:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4105:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
4106:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6548              		.loc 1 4106 1 is_stmt 1 view -0
 6549              		.cfi_startproc
 6550              		@ args = 0, pretend = 0, frame = 0
 6551              		@ frame_needed = 0, uses_anonymous_args = 0
 6552              		@ link register save eliminated.
4107:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4108:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6553              		.loc 1 4108 3 view .LVU2387
4109:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4110:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4111:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf1CpltCallback can be implemented in the user file
4112:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4113:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6554              		.loc 1 4113 1 is_stmt 0 view .LVU2388
 6555 0000 7047     		bx	lr
 6556              		.cfi_endproc
 6557              	.LFE390:
 6559              		.section	.text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback,"ax",%progbits
 6560              		.align	1
 6561              		.weak	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 6562              		.syntax unified
 6563              		.thumb
 6564              		.thumb_func
 6565              		.fpu fpv5-d16
 6567              	HAL_SDEx_Write_DMADoubleBuf0CpltCallback:
 6568              	.LVL502:
 6569              	.LFB391:
4114:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4115:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4116:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 0 Transfer completed callbacks
4117:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4118:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4119:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
ARM GAS  /tmp/ccxppnfb.s 			page 227


4120:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
4121:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6570              		.loc 1 4121 1 is_stmt 1 view -0
 6571              		.cfi_startproc
 6572              		@ args = 0, pretend = 0, frame = 0
 6573              		@ frame_needed = 0, uses_anonymous_args = 0
 6574              		@ link register save eliminated.
4122:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4123:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6575              		.loc 1 4123 3 view .LVU2390
4124:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4125:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4126:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf0CpltCallback can be implemented in the user file
4127:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4128:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6576              		.loc 1 4128 1 is_stmt 0 view .LVU2391
 6577 0000 7047     		bx	lr
 6578              		.cfi_endproc
 6579              	.LFE391:
 6581              		.section	.text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback,"ax",%progbits
 6582              		.align	1
 6583              		.weak	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 6584              		.syntax unified
 6585              		.thumb
 6586              		.thumb_func
 6587              		.fpu fpv5-d16
 6589              	HAL_SDEx_Write_DMADoubleBuf1CpltCallback:
 6590              	.LVL503:
 6591              	.LFB392:
4129:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4130:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4131:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 1 Transfer completed callbacks
4132:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4133:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4134:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4135:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
4136:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6592              		.loc 1 4136 1 is_stmt 1 view -0
 6593              		.cfi_startproc
 6594              		@ args = 0, pretend = 0, frame = 0
 6595              		@ frame_needed = 0, uses_anonymous_args = 0
 6596              		@ link register save eliminated.
4137:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4138:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 6597              		.loc 1 4138 3 view .LVU2393
4139:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4140:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4141:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf1CpltCallback can be implemented in the user file
4142:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4143:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6598              		.loc 1 4143 1 is_stmt 0 view .LVU2394
 6599 0000 7047     		bx	lr
 6600              		.cfi_endproc
 6601              	.LFE392:
 6603              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 6604              		.align	1
 6605              		.global	HAL_SD_IRQHandler
ARM GAS  /tmp/ccxppnfb.s 			page 228


 6606              		.syntax unified
 6607              		.thumb
 6608              		.thumb_func
 6609              		.fpu fpv5-d16
 6611              	HAL_SD_IRQHandler:
 6612              	.LVL504:
 6613              	.LFB362:
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 6614              		.loc 1 1534 1 is_stmt 1 view -0
 6615              		.cfi_startproc
 6616              		@ args = 0, pretend = 0, frame = 0
 6617              		@ frame_needed = 0, uses_anonymous_args = 0
1534:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 6618              		.loc 1 1534 1 is_stmt 0 view .LVU2396
 6619 0000 38B5     		push	{r3, r4, r5, lr}
 6620              	.LCFI79:
 6621              		.cfi_def_cfa_offset 16
 6622              		.cfi_offset 3, -16
 6623              		.cfi_offset 4, -12
 6624              		.cfi_offset 5, -8
 6625              		.cfi_offset 14, -4
 6626 0002 0446     		mov	r4, r0
1535:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6627              		.loc 1 1535 3 is_stmt 1 view .LVU2397
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6628              		.loc 1 1536 3 view .LVU2398
1536:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6629              		.loc 1 1536 12 is_stmt 0 view .LVU2399
 6630 0004 C56A     		ldr	r5, [r0, #44]
 6631              	.LVL505:
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6632              		.loc 1 1539 3 is_stmt 1 view .LVU2400
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6633              		.loc 1 1539 8 is_stmt 0 view .LVU2401
 6634 0006 0368     		ldr	r3, [r0]
 6635 0008 5A6B     		ldr	r2, [r3, #52]
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6636              		.loc 1 1539 6 view .LVU2402
 6637 000a 12F4004F 		tst	r2, #32768
 6638 000e 02D0     		beq	.L407
1539:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6639              		.loc 1 1539 62 discriminator 1 view .LVU2403
 6640 0010 15F0080F 		tst	r5, #8
 6641 0014 2AD1     		bne	.L426
 6642              	.L407:
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6643              		.loc 1 1544 8 is_stmt 1 view .LVU2404
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6644              		.loc 1 1544 12 is_stmt 0 view .LVU2405
 6645 0016 5A6B     		ldr	r2, [r3, #52]
1544:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6646              		.loc 1 1544 11 view .LVU2406
 6647 0018 12F4807F 		tst	r2, #256
 6648 001c 67D0     		beq	.L409
1546:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6649              		.loc 1 1546 5 is_stmt 1 view .LVU2407
 6650 001e 4FF48072 		mov	r2, #256
ARM GAS  /tmp/ccxppnfb.s 			page 229


 6651 0022 9A63     		str	r2, [r3, #56]
1548:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
 6652              		.loc 1 1548 5 view .LVU2408
 6653 0024 2268     		ldr	r2, [r4]
 6654 0026 D16B     		ldr	r1, [r2, #60]
 6655 0028 7E4B     		ldr	r3, .L432
 6656 002a 0B40     		ands	r3, r3, r1
 6657 002c D363     		str	r3, [r2, #60]
1552:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 6658              		.loc 1 1552 5 view .LVU2409
 6659 002e 2268     		ldr	r2, [r4]
 6660 0030 D36B     		ldr	r3, [r2, #60]
 6661 0032 23F08053 		bic	r3, r3, #268435456
 6662 0036 D363     		str	r3, [r2, #60]
1553:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6663              		.loc 1 1553 5 view .LVU2410
 6664 0038 2268     		ldr	r2, [r4]
 6665 003a D368     		ldr	r3, [r2, #12]
 6666 003c 23F04003 		bic	r3, r3, #64
 6667 0040 D360     		str	r3, [r2, #12]
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6668              		.loc 1 1555 5 view .LVU2411
1555:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6669              		.loc 1 1555 8 is_stmt 0 view .LVU2412
 6670 0042 15F0080F 		tst	r5, #8
 6671 0046 25D0     		beq	.L410
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6672              		.loc 1 1557 7 is_stmt 1 view .LVU2413
1557:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6673              		.loc 1 1557 10 is_stmt 0 view .LVU2414
 6674 0048 15F0220F 		tst	r5, #34
 6675 004c 11D1     		bne	.L427
 6676              	.LVL506:
 6677              	.L411:
1572:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6678              		.loc 1 1572 7 is_stmt 1 view .LVU2415
 6679 004e 2368     		ldr	r3, [r4]
 6680 0050 754A     		ldr	r2, .L432+4
 6681 0052 9A63     		str	r2, [r3, #56]
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6682              		.loc 1 1574 7 view .LVU2416
1574:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6683              		.loc 1 1574 18 is_stmt 0 view .LVU2417
 6684 0054 0123     		movs	r3, #1
 6685 0056 84F83030 		strb	r3, [r4, #48]
1575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 6686              		.loc 1 1575 7 is_stmt 1 view .LVU2418
1575:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 6687              		.loc 1 1575 20 is_stmt 0 view .LVU2419
 6688 005a 0023     		movs	r3, #0
 6689 005c E362     		str	r3, [r4, #44]
1576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6690              		.loc 1 1576 7 is_stmt 1 view .LVU2420
1576:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6691              		.loc 1 1576 10 is_stmt 0 view .LVU2421
 6692 005e 15F0030F 		tst	r5, #3
 6693 0062 13D0     		beq	.L412
ARM GAS  /tmp/ccxppnfb.s 			page 230


1581:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6694              		.loc 1 1581 9 is_stmt 1 view .LVU2422
 6695 0064 2046     		mov	r0, r4
 6696 0066 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6697              	.LVL507:
 6698 006a 01E0     		b	.L406
 6699              	.LVL508:
 6700              	.L426:
1541:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6701              		.loc 1 1541 5 view .LVU2423
 6702 006c FFF7FEFF 		bl	SD_Read_IT
 6703              	.LVL509:
 6704              	.L406:
1761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6705              		.loc 1 1761 1 is_stmt 0 view .LVU2424
 6706 0070 38BD     		pop	{r3, r4, r5, pc}
 6707              	.LVL510:
 6708              	.L427:
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6709              		.loc 1 1559 9 is_stmt 1 view .LVU2425
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6710              		.loc 1 1559 22 is_stmt 0 view .LVU2426
 6711 0072 2068     		ldr	r0, [r4]
 6712              	.LVL511:
1559:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6713              		.loc 1 1559 22 view .LVU2427
 6714 0074 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6715              	.LVL512:
1560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6716              		.loc 1 1560 9 is_stmt 1 view .LVU2428
1560:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6717              		.loc 1 1560 12 is_stmt 0 view .LVU2429
 6718 0078 0346     		mov	r3, r0
 6719 007a 0028     		cmp	r0, #0
 6720 007c E7D0     		beq	.L411
1562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6721              		.loc 1 1562 11 is_stmt 1 view .LVU2430
1562:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6722              		.loc 1 1562 26 is_stmt 0 view .LVU2431
 6723 007e 626B     		ldr	r2, [r4, #52]
 6724 0080 1343     		orrs	r3, r3, r2
 6725 0082 6363     		str	r3, [r4, #52]
1566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6726              		.loc 1 1566 11 is_stmt 1 view .LVU2432
 6727 0084 2046     		mov	r0, r4
 6728              	.LVL513:
1566:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6729              		.loc 1 1566 11 is_stmt 0 view .LVU2433
 6730 0086 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6731              	.LVL514:
 6732 008a E0E7     		b	.L411
 6733              	.L412:
1589:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6734              		.loc 1 1589 9 is_stmt 1 view .LVU2434
 6735 008c 2046     		mov	r0, r4
 6736 008e FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6737              	.LVL515:
ARM GAS  /tmp/ccxppnfb.s 			page 231


 6738 0092 EDE7     		b	.L406
 6739              	.LVL516:
 6740              	.L410:
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6741              		.loc 1 1593 10 view .LVU2435
1593:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6742              		.loc 1 1593 13 is_stmt 0 view .LVU2436
 6743 0094 15F0800F 		tst	r5, #128
 6744 0098 EAD0     		beq	.L406
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6745              		.loc 1 1595 7 is_stmt 1 view .LVU2437
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6746              		.loc 1 1595 10 is_stmt 0 view .LVU2438
 6747 009a 2268     		ldr	r2, [r4]
1595:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 6748              		.loc 1 1595 27 view .LVU2439
 6749 009c 0023     		movs	r3, #0
 6750 009e 9362     		str	r3, [r2, #40]
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6751              		.loc 1 1596 7 is_stmt 1 view .LVU2440
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6752              		.loc 1 1596 10 is_stmt 0 view .LVU2441
 6753 00a0 2268     		ldr	r2, [r4]
1596:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6754              		.loc 1 1596 28 view .LVU2442
 6755 00a2 D362     		str	r3, [r2, #44]
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6756              		.loc 1 1597 7 is_stmt 1 view .LVU2443
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6757              		.loc 1 1597 10 is_stmt 0 view .LVU2444
 6758 00a4 2268     		ldr	r2, [r4]
1597:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6759              		.loc 1 1597 31 view .LVU2445
 6760 00a6 1365     		str	r3, [r2, #80]
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6761              		.loc 1 1600 7 is_stmt 1 view .LVU2446
1600:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6762              		.loc 1 1600 10 is_stmt 0 view .LVU2447
 6763 00a8 15F0220F 		tst	r5, #34
 6764 00ac 0ED1     		bne	.L428
 6765              	.LVL517:
 6766              	.L413:
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6767              		.loc 1 1614 7 is_stmt 1 view .LVU2448
1614:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6768              		.loc 1 1614 18 is_stmt 0 view .LVU2449
 6769 00ae 0123     		movs	r3, #1
 6770 00b0 84F83030 		strb	r3, [r4, #48]
1615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 6771              		.loc 1 1615 7 is_stmt 1 view .LVU2450
1615:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 6772              		.loc 1 1615 20 is_stmt 0 view .LVU2451
 6773 00b4 0023     		movs	r3, #0
 6774 00b6 E362     		str	r3, [r4, #44]
1616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6775              		.loc 1 1616 7 is_stmt 1 view .LVU2452
1616:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
ARM GAS  /tmp/ccxppnfb.s 			page 232


 6776              		.loc 1 1616 10 is_stmt 0 view .LVU2453
 6777 00b8 15F0300F 		tst	r5, #48
 6778 00bc 13D1     		bne	.L429
 6779              	.L414:
1624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6780              		.loc 1 1624 7 is_stmt 1 view .LVU2454
1624:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6781              		.loc 1 1624 10 is_stmt 0 view .LVU2455
 6782 00be 15F0030F 		tst	r5, #3
 6783 00c2 D5D0     		beq	.L406
1629:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6784              		.loc 1 1629 9 is_stmt 1 view .LVU2456
 6785 00c4 2046     		mov	r0, r4
 6786 00c6 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6787              	.LVL518:
 6788 00ca D1E7     		b	.L406
 6789              	.LVL519:
 6790              	.L428:
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6791              		.loc 1 1602 9 view .LVU2457
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6792              		.loc 1 1602 22 is_stmt 0 view .LVU2458
 6793 00cc 2068     		ldr	r0, [r4]
 6794              	.LVL520:
1602:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6795              		.loc 1 1602 22 view .LVU2459
 6796 00ce FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6797              	.LVL521:
1603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6798              		.loc 1 1603 9 is_stmt 1 view .LVU2460
1603:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6799              		.loc 1 1603 12 is_stmt 0 view .LVU2461
 6800 00d2 0346     		mov	r3, r0
 6801 00d4 0028     		cmp	r0, #0
 6802 00d6 EAD0     		beq	.L413
1605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6803              		.loc 1 1605 11 is_stmt 1 view .LVU2462
1605:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6804              		.loc 1 1605 26 is_stmt 0 view .LVU2463
 6805 00d8 626B     		ldr	r2, [r4, #52]
 6806 00da 1343     		orrs	r3, r3, r2
 6807 00dc 6363     		str	r3, [r4, #52]
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6808              		.loc 1 1609 11 is_stmt 1 view .LVU2464
 6809 00de 2046     		mov	r0, r4
 6810              	.LVL522:
1609:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6811              		.loc 1 1609 11 is_stmt 0 view .LVU2465
 6812 00e0 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6813              	.LVL523:
 6814 00e4 E3E7     		b	.L413
 6815              	.L429:
1621:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6816              		.loc 1 1621 9 is_stmt 1 view .LVU2466
 6817 00e6 2046     		mov	r0, r4
 6818 00e8 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6819              	.LVL524:
ARM GAS  /tmp/ccxppnfb.s 			page 233


 6820 00ec E7E7     		b	.L414
 6821              	.LVL525:
 6822              	.L409:
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6823              		.loc 1 1639 8 view .LVU2467
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6824              		.loc 1 1639 13 is_stmt 0 view .LVU2468
 6825 00ee 5A6B     		ldr	r2, [r3, #52]
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6826              		.loc 1 1639 11 view .LVU2469
 6827 00f0 12F4804F 		tst	r2, #16384
 6828 00f4 02D0     		beq	.L415
1639:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6829              		.loc 1 1639 67 discriminator 1 view .LVU2470
 6830 00f6 15F0080F 		tst	r5, #8
 6831 00fa 62D1     		bne	.L430
 6832              	.L415:
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6833              		.loc 1 1644 8 is_stmt 1 view .LVU2471
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6834              		.loc 1 1644 12 is_stmt 0 view .LVU2472
 6835 00fc 5A6B     		ldr	r2, [r3, #52]
1644:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 6836              		.loc 1 1644 11 view .LVU2473
 6837 00fe 12F03A0F 		tst	r2, #58
 6838 0102 6BD0     		beq	.L416
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6839              		.loc 1 1648 5 is_stmt 1 view .LVU2474
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6840              		.loc 1 1648 9 is_stmt 0 view .LVU2475
 6841 0104 5A6B     		ldr	r2, [r3, #52]
1648:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6842              		.loc 1 1648 8 view .LVU2476
 6843 0106 12F0020F 		tst	r2, #2
 6844 010a 03D0     		beq	.L417
1650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6845              		.loc 1 1650 7 is_stmt 1 view .LVU2477
1650:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6846              		.loc 1 1650 22 is_stmt 0 view .LVU2478
 6847 010c 626B     		ldr	r2, [r4, #52]
 6848 010e 42F00202 		orr	r2, r2, #2
 6849 0112 6263     		str	r2, [r4, #52]
 6850              	.L417:
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6851              		.loc 1 1652 5 is_stmt 1 view .LVU2479
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6852              		.loc 1 1652 9 is_stmt 0 view .LVU2480
 6853 0114 5A6B     		ldr	r2, [r3, #52]
1652:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6854              		.loc 1 1652 8 view .LVU2481
 6855 0116 12F0080F 		tst	r2, #8
 6856 011a 03D0     		beq	.L418
1654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6857              		.loc 1 1654 7 is_stmt 1 view .LVU2482
1654:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6858              		.loc 1 1654 22 is_stmt 0 view .LVU2483
 6859 011c 626B     		ldr	r2, [r4, #52]
ARM GAS  /tmp/ccxppnfb.s 			page 234


 6860 011e 42F00802 		orr	r2, r2, #8
 6861 0122 6263     		str	r2, [r4, #52]
 6862              	.L418:
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6863              		.loc 1 1656 5 is_stmt 1 view .LVU2484
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6864              		.loc 1 1656 9 is_stmt 0 view .LVU2485
 6865 0124 5A6B     		ldr	r2, [r3, #52]
1656:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6866              		.loc 1 1656 8 view .LVU2486
 6867 0126 12F0200F 		tst	r2, #32
 6868 012a 03D0     		beq	.L419
1658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6869              		.loc 1 1658 7 is_stmt 1 view .LVU2487
1658:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6870              		.loc 1 1658 22 is_stmt 0 view .LVU2488
 6871 012c 626B     		ldr	r2, [r4, #52]
 6872 012e 42F02002 		orr	r2, r2, #32
 6873 0132 6263     		str	r2, [r4, #52]
 6874              	.L419:
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6875              		.loc 1 1660 5 is_stmt 1 view .LVU2489
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6876              		.loc 1 1660 9 is_stmt 0 view .LVU2490
 6877 0134 5A6B     		ldr	r2, [r3, #52]
1660:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6878              		.loc 1 1660 8 view .LVU2491
 6879 0136 12F0100F 		tst	r2, #16
 6880 013a 03D0     		beq	.L420
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6881              		.loc 1 1662 7 is_stmt 1 view .LVU2492
1662:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 6882              		.loc 1 1662 22 is_stmt 0 view .LVU2493
 6883 013c 626B     		ldr	r2, [r4, #52]
 6884 013e 42F01002 		orr	r2, r2, #16
 6885 0142 6263     		str	r2, [r4, #52]
 6886              	.L420:
1666:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6887              		.loc 1 1666 5 is_stmt 1 view .LVU2494
 6888 0144 384A     		ldr	r2, .L432+4
 6889 0146 9A63     		str	r2, [r3, #56]
1669:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 6890              		.loc 1 1669 5 view .LVU2495
 6891 0148 2268     		ldr	r2, [r4]
 6892 014a D36B     		ldr	r3, [r2, #60]
 6893 014c 23F49D73 		bic	r3, r3, #314
 6894 0150 D363     		str	r3, [r2, #60]
1672:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
 6895              		.loc 1 1672 5 view .LVU2496
 6896 0152 2268     		ldr	r2, [r4]
 6897 0154 D368     		ldr	r3, [r2, #12]
 6898 0156 23F04003 		bic	r3, r3, #64
 6899 015a D360     		str	r3, [r2, #12]
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6900              		.loc 1 1673 5 view .LVU2497
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6901              		.loc 1 1673 8 is_stmt 0 view .LVU2498
ARM GAS  /tmp/ccxppnfb.s 			page 235


 6902 015c 2268     		ldr	r2, [r4]
1673:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 6903              		.loc 1 1673 26 view .LVU2499
 6904 015e D36A     		ldr	r3, [r2, #44]
 6905 0160 43F40053 		orr	r3, r3, #8192
 6906 0164 D362     		str	r3, [r2, #44]
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6907              		.loc 1 1674 5 is_stmt 1 view .LVU2500
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6908              		.loc 1 1674 8 is_stmt 0 view .LVU2501
 6909 0166 2268     		ldr	r2, [r4]
1674:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 6910              		.loc 1 1674 24 view .LVU2502
 6911 0168 D368     		ldr	r3, [r2, #12]
 6912 016a 43F08003 		orr	r3, r3, #128
 6913 016e D360     		str	r3, [r2, #12]
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6914              		.loc 1 1675 5 is_stmt 1 view .LVU2503
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6915              		.loc 1 1675 23 is_stmt 0 view .LVU2504
 6916 0170 2068     		ldr	r0, [r4]
 6917              	.LVL526:
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6918              		.loc 1 1675 23 view .LVU2505
 6919 0172 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6920              	.LVL527:
1675:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 6921              		.loc 1 1675 20 view .LVU2506
 6922 0176 636B     		ldr	r3, [r4, #52]
 6923 0178 0343     		orrs	r3, r3, r0
 6924 017a 6363     		str	r3, [r4, #52]
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6925              		.loc 1 1676 5 is_stmt 1 view .LVU2507
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6926              		.loc 1 1676 8 is_stmt 0 view .LVU2508
 6927 017c 2268     		ldr	r2, [r4]
1676:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 6928              		.loc 1 1676 24 view .LVU2509
 6929 017e D368     		ldr	r3, [r2, #12]
 6930 0180 23F08003 		bic	r3, r3, #128
 6931 0184 D360     		str	r3, [r2, #12]
1677:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6932              		.loc 1 1677 5 is_stmt 1 view .LVU2510
 6933 0186 2368     		ldr	r3, [r4]
 6934 0188 4FF40062 		mov	r2, #2048
 6935 018c 9A63     		str	r2, [r3, #56]
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6936              		.loc 1 1679 5 view .LVU2511
1679:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6937              		.loc 1 1679 8 is_stmt 0 view .LVU2512
 6938 018e 15F0080F 		tst	r5, #8
 6939 0192 1AD1     		bne	.L431
1690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6940              		.loc 1 1690 10 is_stmt 1 view .LVU2513
1690:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 6941              		.loc 1 1690 13 is_stmt 0 view .LVU2514
 6942 0194 15F0800F 		tst	r5, #128
ARM GAS  /tmp/ccxppnfb.s 			page 236


 6943 0198 3FF46AAF 		beq	.L406
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6944              		.loc 1 1692 7 is_stmt 1 view .LVU2515
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6945              		.loc 1 1692 14 is_stmt 0 view .LVU2516
 6946 019c 636B     		ldr	r3, [r4, #52]
1692:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6947              		.loc 1 1692 10 view .LVU2517
 6948 019e 002B     		cmp	r3, #0
 6949 01a0 3FF466AF 		beq	.L406
1695:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 6950              		.loc 1 1695 9 is_stmt 1 view .LVU2518
 6951 01a4 2268     		ldr	r2, [r4]
 6952 01a6 D36B     		ldr	r3, [r2, #60]
 6953 01a8 23F08053 		bic	r3, r3, #268435456
 6954 01ac D363     		str	r3, [r2, #60]
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6955              		.loc 1 1696 9 view .LVU2519
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6956              		.loc 1 1696 12 is_stmt 0 view .LVU2520
 6957 01ae 2368     		ldr	r3, [r4]
1696:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 6958              		.loc 1 1696 33 view .LVU2521
 6959 01b0 0022     		movs	r2, #0
 6960 01b2 1A65     		str	r2, [r3, #80]
1699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6961              		.loc 1 1699 9 is_stmt 1 view .LVU2522
1699:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6962              		.loc 1 1699 20 is_stmt 0 view .LVU2523
 6963 01b4 0123     		movs	r3, #1
 6964 01b6 84F83030 		strb	r3, [r4, #48]
1703:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6965              		.loc 1 1703 9 is_stmt 1 view .LVU2524
 6966 01ba 2046     		mov	r0, r4
 6967 01bc FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6968              	.LVL528:
 6969 01c0 56E7     		b	.L406
 6970              	.LVL529:
 6971              	.L430:
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6972              		.loc 1 1641 5 view .LVU2525
 6973 01c2 2046     		mov	r0, r4
 6974              	.LVL530:
1641:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 6975              		.loc 1 1641 5 is_stmt 0 view .LVU2526
 6976 01c4 FFF7FEFF 		bl	SD_Write_IT
 6977              	.LVL531:
 6978 01c8 52E7     		b	.L406
 6979              	.L431:
1682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6980              		.loc 1 1682 7 is_stmt 1 view .LVU2527
1682:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6981              		.loc 1 1682 18 is_stmt 0 view .LVU2528
 6982 01ca 0123     		movs	r3, #1
 6983 01cc 84F83030 		strb	r3, [r4, #48]
1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6984              		.loc 1 1683 7 is_stmt 1 view .LVU2529
ARM GAS  /tmp/ccxppnfb.s 			page 237


1683:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6985              		.loc 1 1683 20 is_stmt 0 view .LVU2530
 6986 01d0 0023     		movs	r3, #0
 6987 01d2 E362     		str	r3, [r4, #44]
1687:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6988              		.loc 1 1687 7 is_stmt 1 view .LVU2531
 6989 01d4 2046     		mov	r0, r4
 6990 01d6 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6991              	.LVL532:
 6992 01da 49E7     		b	.L406
 6993              	.LVL533:
 6994              	.L416:
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6995              		.loc 1 1713 8 view .LVU2532
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6996              		.loc 1 1713 12 is_stmt 0 view .LVU2533
 6997 01dc 5A6B     		ldr	r2, [r3, #52]
1713:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6998              		.loc 1 1713 11 view .LVU2534
 6999 01de 12F0805F 		tst	r2, #268435456
 7000 01e2 3FF445AF 		beq	.L406
1715:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
 7001              		.loc 1 1715 5 is_stmt 1 view .LVU2535
 7002 01e6 4FF08052 		mov	r2, #268435456
 7003 01ea 9A63     		str	r2, [r3, #56]
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7004              		.loc 1 1716 5 view .LVU2536
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7005              		.loc 1 1716 9 is_stmt 0 view .LVU2537
 7006 01ec 2368     		ldr	r3, [r4]
 7007 01ee 1B6D     		ldr	r3, [r3, #80]
1716:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7008              		.loc 1 1716 8 view .LVU2538
 7009 01f0 13F0040F 		tst	r3, #4
 7010 01f4 0AD1     		bne	.L422
1719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7011              		.loc 1 1719 7 is_stmt 1 view .LVU2539
1719:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7012              		.loc 1 1719 10 is_stmt 0 view .LVU2540
 7013 01f6 15F0200F 		tst	r5, #32
 7014 01fa 03D0     		beq	.L423
1724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7015              		.loc 1 1724 9 is_stmt 1 view .LVU2541
 7016 01fc 2046     		mov	r0, r4
 7017              	.LVL534:
1724:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7018              		.loc 1 1724 9 is_stmt 0 view .LVU2542
 7019 01fe FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 7020              	.LVL535:
 7021 0202 35E7     		b	.L406
 7022              	.LVL536:
 7023              	.L423:
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7024              		.loc 1 1732 9 is_stmt 1 view .LVU2543
 7025 0204 2046     		mov	r0, r4
 7026              	.LVL537:
1732:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
ARM GAS  /tmp/ccxppnfb.s 			page 238


 7027              		.loc 1 1732 9 is_stmt 0 view .LVU2544
 7028 0206 FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 7029              	.LVL538:
 7030 020a 31E7     		b	.L406
 7031              	.LVL539:
 7032              	.L422:
1739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7033              		.loc 1 1739 7 is_stmt 1 view .LVU2545
1739:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 7034              		.loc 1 1739 10 is_stmt 0 view .LVU2546
 7035 020c 15F0200F 		tst	r5, #32
 7036 0210 03D0     		beq	.L424
1744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7037              		.loc 1 1744 9 is_stmt 1 view .LVU2547
 7038 0212 2046     		mov	r0, r4
 7039              	.LVL540:
1744:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7040              		.loc 1 1744 9 is_stmt 0 view .LVU2548
 7041 0214 FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 7042              	.LVL541:
 7043 0218 2AE7     		b	.L406
 7044              	.LVL542:
 7045              	.L424:
1752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7046              		.loc 1 1752 9 is_stmt 1 view .LVU2549
 7047 021a 2046     		mov	r0, r4
 7048              	.LVL543:
1752:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 7049              		.loc 1 1752 9 is_stmt 0 view .LVU2550
 7050 021c FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 7051              	.LVL544:
1760:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7052              		.loc 1 1760 3 is_stmt 1 view .LVU2551
1761:Drivers/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 7053              		.loc 1 1761 1 is_stmt 0 view .LVU2552
 7054 0220 26E7     		b	.L406
 7055              	.L433:
 7056 0222 00BF     		.align	2
 7057              	.L432:
 7058 0224 C53EFFFF 		.word	-49467
 7059 0228 3A0F0018 		.word	402657082
 7060              		.cfi_endproc
 7061              	.LFE362:
 7063              		.text
 7064              	.Letext0:
 7065              		.file 2 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 7066              		.file 3 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 7067              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 7068              		.file 5 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 7069              		.file 6 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h723xx.h"
 7070              		.file 7 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/lib/gcc/arm-none-eabi/
 7071              		.file 8 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 7072              		.file 9 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 7073              		.file 10 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include
 7074              		.file 11 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include
 7075              		.file 12 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 7076              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
ARM GAS  /tmp/ccxppnfb.s 			page 239


 7077              		.file 14 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 7078              		.file 15 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_sdmmc.h"
 7079              		.file 16 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd.h"
 7080              		.file 17 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 7081              		.file 18 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 7082              		.file 19 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 7083              		.file 20 "<built-in>"
ARM GAS  /tmp/ccxppnfb.s 			page 240


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32h7xx_hal_sd.c
     /tmp/ccxppnfb.s:17     .text.SD_PowerON:0000000000000000 $t
     /tmp/ccxppnfb.s:24     .text.SD_PowerON:0000000000000000 SD_PowerON
     /tmp/ccxppnfb.s:245    .text.SD_PowerON:00000000000000c0 $d
     /tmp/ccxppnfb.s:250    .text.SD_PowerOFF:0000000000000000 $t
     /tmp/ccxppnfb.s:256    .text.SD_PowerOFF:0000000000000000 SD_PowerOFF
     /tmp/ccxppnfb.s:282    .text.SD_Read_IT:0000000000000000 $t
     /tmp/ccxppnfb.s:288    .text.SD_Read_IT:0000000000000000 SD_Read_IT
     /tmp/ccxppnfb.s:382    .text.SD_Write_IT:0000000000000000 $t
     /tmp/ccxppnfb.s:388    .text.SD_Write_IT:0000000000000000 SD_Write_IT
     /tmp/ccxppnfb.s:494    .text.SD_SendSDStatus:0000000000000000 $t
     /tmp/ccxppnfb.s:500    .text.SD_SendSDStatus:0000000000000000 SD_SendSDStatus
     /tmp/ccxppnfb.s:767    .text.SD_SendSDStatus:0000000000000104 $d
     /tmp/ccxppnfb.s:772    .text.SD_FindSCR:0000000000000000 $t
     /tmp/ccxppnfb.s:778    .text.SD_FindSCR:0000000000000000 SD_FindSCR
     /tmp/ccxppnfb.s:1047   .text.SD_FindSCR:0000000000000104 $d
     /tmp/ccxppnfb.s:1052   .text.SD_WideBus_Enable:0000000000000000 $t
     /tmp/ccxppnfb.s:1058   .text.SD_WideBus_Enable:0000000000000000 SD_WideBus_Enable
     /tmp/ccxppnfb.s:1153   .text.SD_WideBus_Disable:0000000000000000 $t
     /tmp/ccxppnfb.s:1159   .text.SD_WideBus_Disable:0000000000000000 SD_WideBus_Disable
     /tmp/ccxppnfb.s:1254   .text.SD_SwitchSpeed:0000000000000000 $t
     /tmp/ccxppnfb.s:1260   .text.SD_SwitchSpeed:0000000000000000 SD_SwitchSpeed
     /tmp/ccxppnfb.s:1535   .text.SD_SwitchSpeed:0000000000000110 $d
     /tmp/ccxppnfb.s:1540   .text.SD_SendStatus:0000000000000000 $t
     /tmp/ccxppnfb.s:1546   .text.SD_SendStatus:0000000000000000 SD_SendStatus
     /tmp/ccxppnfb.s:1611   .text.HAL_SD_MspInit:0000000000000000 $t
     /tmp/ccxppnfb.s:1618   .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
     /tmp/ccxppnfb.s:1633   .text.HAL_SD_MspDeInit:0000000000000000 $t
     /tmp/ccxppnfb.s:1640   .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
     /tmp/ccxppnfb.s:1655   .text.HAL_SD_DeInit:0000000000000000 $t
     /tmp/ccxppnfb.s:1662   .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
     /tmp/ccxppnfb.s:1716   .text.HAL_SD_ReadBlocks:0000000000000000 $t
     /tmp/ccxppnfb.s:1723   .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
     /tmp/ccxppnfb.s:2196   .text.HAL_SD_ReadBlocks:00000000000001fc $d
     /tmp/ccxppnfb.s:2202   .text.HAL_SD_WriteBlocks:0000000000000000 $t
     /tmp/ccxppnfb.s:2209   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
     /tmp/ccxppnfb.s:2692   .text.HAL_SD_WriteBlocks:0000000000000208 $d
     /tmp/ccxppnfb.s:2698   .text.HAL_SD_ReadBlocks_IT:0000000000000000 $t
     /tmp/ccxppnfb.s:2705   .text.HAL_SD_ReadBlocks_IT:0000000000000000 HAL_SD_ReadBlocks_IT
     /tmp/ccxppnfb.s:2930   .text.HAL_SD_ReadBlocks_IT:00000000000000d0 $d
     /tmp/ccxppnfb.s:2935   .text.HAL_SD_WriteBlocks_IT:0000000000000000 $t
     /tmp/ccxppnfb.s:2942   .text.HAL_SD_WriteBlocks_IT:0000000000000000 HAL_SD_WriteBlocks_IT
     /tmp/ccxppnfb.s:3166   .text.HAL_SD_WriteBlocks_IT:00000000000000cc $d
     /tmp/ccxppnfb.s:3171   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
     /tmp/ccxppnfb.s:3178   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
     /tmp/ccxppnfb.s:3414   .text.HAL_SD_ReadBlocks_DMA:00000000000000dc $d
     /tmp/ccxppnfb.s:3419   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
     /tmp/ccxppnfb.s:3426   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
     /tmp/ccxppnfb.s:3661   .text.HAL_SD_WriteBlocks_DMA:00000000000000dc $d
     /tmp/ccxppnfb.s:3666   .text.HAL_SD_Erase:0000000000000000 $t
     /tmp/ccxppnfb.s:3673   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
     /tmp/ccxppnfb.s:3919   .text.HAL_SD_Erase:00000000000000f4 $d
     /tmp/ccxppnfb.s:3924   .text.HAL_SD_GetState:0000000000000000 $t
     /tmp/ccxppnfb.s:3931   .text.HAL_SD_GetState:0000000000000000 HAL_SD_GetState
     /tmp/ccxppnfb.s:3949   .text.HAL_SD_GetError:0000000000000000 $t
     /tmp/ccxppnfb.s:3956   .text.HAL_SD_GetError:0000000000000000 HAL_SD_GetError
ARM GAS  /tmp/ccxppnfb.s 			page 241


     /tmp/ccxppnfb.s:3974   .text.HAL_SD_TxCpltCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:3981   .text.HAL_SD_TxCpltCallback:0000000000000000 HAL_SD_TxCpltCallback
     /tmp/ccxppnfb.s:3996   .text.HAL_SD_RxCpltCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:4003   .text.HAL_SD_RxCpltCallback:0000000000000000 HAL_SD_RxCpltCallback
     /tmp/ccxppnfb.s:4018   .text.HAL_SD_ErrorCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:4025   .text.HAL_SD_ErrorCallback:0000000000000000 HAL_SD_ErrorCallback
     /tmp/ccxppnfb.s:4040   .text.HAL_SD_AbortCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:4047   .text.HAL_SD_AbortCallback:0000000000000000 HAL_SD_AbortCallback
     /tmp/ccxppnfb.s:4062   .text.HAL_SD_GetCardCID:0000000000000000 $t
     /tmp/ccxppnfb.s:4069   .text.HAL_SD_GetCardCID:0000000000000000 HAL_SD_GetCardCID
     /tmp/ccxppnfb.s:4154   .text.HAL_SD_GetCardCSD:0000000000000000 $t
     /tmp/ccxppnfb.s:4161   .text.HAL_SD_GetCardCSD:0000000000000000 HAL_SD_GetCardCSD
     /tmp/ccxppnfb.s:4543   .text.HAL_SD_GetCardCSD:00000000000001b8 $d
     /tmp/ccxppnfb.s:4548   .text.SD_InitCard:0000000000000000 $t
     /tmp/ccxppnfb.s:4554   .text.SD_InitCard:0000000000000000 SD_InitCard
     /tmp/ccxppnfb.s:4794   .text.HAL_SD_InitCard:0000000000000000 $t
     /tmp/ccxppnfb.s:4801   .text.HAL_SD_InitCard:0000000000000000 HAL_SD_InitCard
     /tmp/ccxppnfb.s:5013   .text.HAL_SD_InitCard:00000000000000c0 $d
     /tmp/ccxppnfb.s:5020   .text.HAL_SD_GetCardStatus:0000000000000000 $t
     /tmp/ccxppnfb.s:5027   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
     /tmp/ccxppnfb.s:5229   .text.HAL_SD_GetCardStatus:00000000000000cc $d
     /tmp/ccxppnfb.s:5234   .text.HAL_SD_GetCardInfo:0000000000000000 $t
     /tmp/ccxppnfb.s:5241   .text.HAL_SD_GetCardInfo:0000000000000000 HAL_SD_GetCardInfo
     /tmp/ccxppnfb.s:5299   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 $t
     /tmp/ccxppnfb.s:5306   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 HAL_SD_ConfigWideBusOperation
     /tmp/ccxppnfb.s:5638   .text.HAL_SD_ConfigWideBusOperation:0000000000000148 $d
     /tmp/ccxppnfb.s:5646   .text.HAL_SD_GetCardState:0000000000000000 $t
     /tmp/ccxppnfb.s:5653   .text.HAL_SD_GetCardState:0000000000000000 HAL_SD_GetCardState
     /tmp/ccxppnfb.s:5710   .text.HAL_SD_Init:0000000000000000 $t
     /tmp/ccxppnfb.s:5717   .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
     /tmp/ccxppnfb.s:5927   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000000 $t
     /tmp/ccxppnfb.s:5934   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000000 HAL_SD_ConfigSpeedBusOperation
     /tmp/ccxppnfb.s:6181   .text.HAL_SD_ConfigSpeedBusOperation:00000000000000f4 $d
     /tmp/ccxppnfb.s:6188   .text.HAL_SD_Abort:0000000000000000 $t
     /tmp/ccxppnfb.s:6195   .text.HAL_SD_Abort:0000000000000000 HAL_SD_Abort
     /tmp/ccxppnfb.s:6417   .text.HAL_SD_Abort:00000000000000f0 $d
     /tmp/ccxppnfb.s:6423   .text.HAL_SD_Abort_IT:0000000000000000 $t
     /tmp/ccxppnfb.s:6430   .text.HAL_SD_Abort_IT:0000000000000000 HAL_SD_Abort_IT
     /tmp/ccxppnfb.s:6511   .text.HAL_SD_Abort_IT:0000000000000048 $d
     /tmp/ccxppnfb.s:6516   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:6523   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:0000000000000000 HAL_SDEx_Read_DMADoubleBuf0CpltCallback
     /tmp/ccxppnfb.s:6538   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:6545   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:0000000000000000 HAL_SDEx_Read_DMADoubleBuf1CpltCallback
     /tmp/ccxppnfb.s:6560   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:6567   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:0000000000000000 HAL_SDEx_Write_DMADoubleBuf0CpltCallback
     /tmp/ccxppnfb.s:6582   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:0000000000000000 $t
     /tmp/ccxppnfb.s:6589   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:0000000000000000 HAL_SDEx_Write_DMADoubleBuf1CpltCallback
     /tmp/ccxppnfb.s:6604   .text.HAL_SD_IRQHandler:0000000000000000 $t
     /tmp/ccxppnfb.s:6611   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
     /tmp/ccxppnfb.s:7058   .text.HAL_SD_IRQHandler:0000000000000224 $d

UNDEFINED SYMBOLS
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDMMC_GetResponse
ARM GAS  /tmp/ccxppnfb.s 			page 242


SDMMC_PowerState_OFF
SDMMC_ReadFIFO
SDMMC_WriteFIFO
HAL_GetTick
SDMMC_CmdBlockLength
SDMMC_ConfigData
SDMMC_CmdStatusRegister
SDMMC_CmdSendSCR
SDMMC_CmdBusWidth
memset
SDMMC_CmdSwitch
SDMMC_CmdSendStatus
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDMMC_GetPowerState
SDMMC_CmdSetRelAdd
SDMMC_CmdSendCID
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_Init
SDMMC_PowerState_ON
HAL_Delay
