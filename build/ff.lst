ARM GAS  /tmp/cc9mPikx.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ff.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.ld_word,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	ld_word:
  25              	.LVL0:
  26              	.LFB350:
  27              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
ARM GAS  /tmp/cc9mPikx.s 			page 2


  32:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
  33:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
  40:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
ARM GAS  /tmp/cc9mPikx.s 			page 3


  89:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  90:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
  97:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
ARM GAS  /tmp/cc9mPikx.s 			page 4


 146:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 147:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
ARM GAS  /tmp/cc9mPikx.s 			page 5


 203:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 204:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 211:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
ARM GAS  /tmp/cc9mPikx.s 			page 6


 260:Middlewares/Third_Party/FatFs/src/ff.c **** 
 261:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
ARM GAS  /tmp/cc9mPikx.s 			page 7


 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 318:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
 325:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
ARM GAS  /tmp/cc9mPikx.s 			page 8


 374:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 375:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
ARM GAS  /tmp/cc9mPikx.s 			page 9


 431:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 432:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/cc9mPikx.s 			page 10


 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 496:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
ARM GAS  /tmp/cc9mPikx.s 			page 11


 545:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 546:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 553:Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
ARM GAS  /tmp/cc9mPikx.s 			page 12


 602:Middlewares/Third_Party/FatFs/src/ff.c **** 
 603:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
 610:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:Middlewares/Third_Party/FatFs/src/ff.c **** {
  28              		.loc 1 614 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 615:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
  33              		.loc 1 615 2 view .LVU1
 616:Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  34              		.loc 1 617 2 view .LVU2
  35              		.loc 1 617 10 is_stmt 0 view .LVU3
  36 0000 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
  37              	.LVL1:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  38              		.loc 1 618 2 is_stmt 1 view .LVU4
  39              		.loc 1 618 20 is_stmt 0 view .LVU5
  40 0002 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  41              	.LVL2:
 619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  42              		.loc 1 619 2 is_stmt 1 view .LVU6
 620:Middlewares/Third_Party/FatFs/src/ff.c **** }
  43              		.loc 1 620 1 is_stmt 0 view .LVU7
  44 0004 40EA0220 		orr	r0, r0, r2, lsl #8
  45              	.LVL3:
  46              		.loc 1 620 1 view .LVU8
  47 0008 7047     		bx	lr
  48              		.cfi_endproc
  49              	.LFE350:
  51              		.section	.text.ld_dword,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu fpv5-d16
  58              	ld_dword:
  59              	.LVL4:
  60              	.LFB351:
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:Middlewares/Third_Party/FatFs/src/ff.c **** {
  61              		.loc 1 624 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc9mPikx.s 			page 13


  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65              		@ link register save eliminated.
 625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
  66              		.loc 1 625 2 view .LVU10
 626:Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
  67              		.loc 1 627 2 view .LVU11
  68              		.loc 1 627 10 is_stmt 0 view .LVU12
  69 0000 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  70              	.LVL5:
 628:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
  71              		.loc 1 628 2 is_stmt 1 view .LVU13
  72              		.loc 1 628 20 is_stmt 0 view .LVU14
  73 0002 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
  74              		.loc 1 628 5 view .LVU15
  75 0004 43EA0222 		orr	r2, r3, r2, lsl #8
  76              	.LVL6:
 629:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
  77              		.loc 1 629 2 is_stmt 1 view .LVU16
  78              		.loc 1 629 20 is_stmt 0 view .LVU17
  79 0008 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
  80              		.loc 1 629 5 view .LVU18
  81 000a 43EA0223 		orr	r3, r3, r2, lsl #8
  82              	.LVL7:
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  83              		.loc 1 630 2 is_stmt 1 view .LVU19
  84              		.loc 1 630 20 is_stmt 0 view .LVU20
  85 000e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  86              	.LVL8:
 631:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  87              		.loc 1 631 2 is_stmt 1 view .LVU21
 632:Middlewares/Third_Party/FatFs/src/ff.c **** }
  88              		.loc 1 632 1 is_stmt 0 view .LVU22
  89 0010 40EA0320 		orr	r0, r0, r3, lsl #8
  90              	.LVL9:
  91              		.loc 1 632 1 view .LVU23
  92 0014 7047     		bx	lr
  93              		.cfi_endproc
  94              	.LFE351:
  96              		.section	.text.st_word,"ax",%progbits
  97              		.align	1
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv5-d16
 103              	st_word:
 104              	.LVL10:
 105              	.LFB352:
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
ARM GAS  /tmp/cc9mPikx.s 			page 14


 642:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:Middlewares/Third_Party/FatFs/src/ff.c **** static
 654:Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 106              		.loc 1 655 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		@ link register save eliminated.
 656:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 111              		.loc 1 656 2 view .LVU25
 112              		.loc 1 656 9 is_stmt 0 view .LVU26
 113 0000 0170     		strb	r1, [r0]
 114              		.loc 1 656 22 is_stmt 1 view .LVU27
 115              	.LVL11:
 657:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 116              		.loc 1 657 2 view .LVU28
 117              		.loc 1 657 11 is_stmt 0 view .LVU29
 118 0002 090A     		lsrs	r1, r1, #8
 119              	.LVL12:
 120              		.loc 1 657 9 view .LVU30
 121 0004 4170     		strb	r1, [r0, #1]
 658:Middlewares/Third_Party/FatFs/src/ff.c **** }
 122              		.loc 1 658 1 view .LVU31
 123 0006 7047     		bx	lr
 124              		.cfi_endproc
 125              	.LFE352:
 127              		.section	.text.st_dword,"ax",%progbits
 128              		.align	1
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv5-d16
 134              	st_dword:
 135              	.LVL13:
 136              	.LFB353:
 659:Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:Middlewares/Third_Party/FatFs/src/ff.c **** {
 137              		.loc 1 662 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141              		@ link register save eliminated.
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 142              		.loc 1 663 2 view .LVU33
ARM GAS  /tmp/cc9mPikx.s 			page 15


 143              		.loc 1 663 9 is_stmt 0 view .LVU34
 144 0000 0170     		strb	r1, [r0]
 145              		.loc 1 663 22 is_stmt 1 view .LVU35
 146              	.LVL14:
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 147              		.loc 1 664 2 view .LVU36
 148              		.loc 1 664 11 is_stmt 0 view .LVU37
 149 0002 C1F30723 		ubfx	r3, r1, #8, #8
 150              		.loc 1 664 9 view .LVU38
 151 0006 4370     		strb	r3, [r0, #1]
 152              		.loc 1 664 22 is_stmt 1 view .LVU39
 153              	.LVL15:
 665:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 154              		.loc 1 665 2 view .LVU40
 155              		.loc 1 665 11 is_stmt 0 view .LVU41
 156 0008 C1F30743 		ubfx	r3, r1, #16, #8
 157              		.loc 1 665 9 view .LVU42
 158 000c 8370     		strb	r3, [r0, #2]
 159              		.loc 1 665 22 is_stmt 1 view .LVU43
 160              	.LVL16:
 666:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 161              		.loc 1 666 2 view .LVU44
 162              		.loc 1 666 11 is_stmt 0 view .LVU45
 163 000e 090E     		lsrs	r1, r1, #24
 164              	.LVL17:
 165              		.loc 1 666 9 view .LVU46
 166 0010 C170     		strb	r1, [r0, #3]
 667:Middlewares/Third_Party/FatFs/src/ff.c **** }
 167              		.loc 1 667 1 view .LVU47
 168 0012 7047     		bx	lr
 169              		.cfi_endproc
 170              	.LFE353:
 172              		.section	.text.mem_cpy,"ax",%progbits
 173              		.align	1
 174              		.syntax unified
 175              		.thumb
 176              		.thumb_func
 177              		.fpu fpv5-d16
 179              	mem_cpy:
 180              	.LVL18:
 181              	.LFB354:
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
ARM GAS  /tmp/cc9mPikx.s 			page 16


 684:Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 182              		.loc 1 693 53 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
 187              		.loc 1 693 53 is_stmt 0 view .LVU49
 188 0000 10B4     		push	{r4}
 189              	.LCFI0:
 190              		.cfi_def_cfa_offset 4
 191              		.cfi_offset 4, -4
 694:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 192              		.loc 1 694 2 is_stmt 1 view .LVU50
 193              	.LVL19:
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 194              		.loc 1 695 2 view .LVU51
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 195              		.loc 1 697 2 view .LVU52
 196              		.loc 1 697 5 is_stmt 0 view .LVU53
 197 0002 1446     		mov	r4, r2
 198 0004 2AB1     		cbz	r2, .L5
 199              	.LVL20:
 200              	.L7:
 698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 201              		.loc 1 698 3 is_stmt 1 discriminator 1 view .LVU54
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 202              		.loc 1 699 4 discriminator 1 view .LVU55
 203              		.loc 1 699 11 is_stmt 0 discriminator 1 view .LVU56
 204 0006 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 205 0008 0131     		adds	r1, r1, #1
 206              	.LVL21:
 207              		.loc 1 699 9 discriminator 1 view .LVU57
 208 000a 0270     		strb	r2, [r0]
 209 000c 0130     		adds	r0, r0, #1
 210              	.LVL22:
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 211              		.loc 1 700 11 is_stmt 1 discriminator 1 view .LVU58
 212              		.loc 1 700 3 is_stmt 0 discriminator 1 view .LVU59
 213 000e 013C     		subs	r4, r4, #1
 214              	.LVL23:
 215              		.loc 1 700 3 discriminator 1 view .LVU60
 216 0010 F9D1     		bne	.L7
 217              	.LVL24:
 218              	.L5:
 701:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:Middlewares/Third_Party/FatFs/src/ff.c **** }
 219              		.loc 1 702 1 view .LVU61
ARM GAS  /tmp/cc9mPikx.s 			page 17


 220 0012 5DF8044B 		ldr	r4, [sp], #4
 221              	.LCFI1:
 222              		.cfi_restore 4
 223              		.cfi_def_cfa_offset 0
 224              	.LVL25:
 225              		.loc 1 702 1 view .LVU62
 226 0016 7047     		bx	lr
 227              		.cfi_endproc
 228              	.LFE354:
 230              		.section	.text.mem_set,"ax",%progbits
 231              		.align	1
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 235              		.fpu fpv5-d16
 237              	mem_set:
 238              	.LFB355:
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 239              		.loc 1 706 45 is_stmt 1 view -0
 240              		.cfi_startproc
 241              		@ args = 0, pretend = 0, frame = 0
 242              		@ frame_needed = 0, uses_anonymous_args = 0
 243              		@ link register save eliminated.
 244              	.LVL26:
 245              	.L10:
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 246              		.loc 1 709 2 discriminator 1 view .LVU64
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 247              		.loc 1 710 3 discriminator 1 view .LVU65
 248              		.loc 1 710 8 is_stmt 0 discriminator 1 view .LVU66
 249 0000 0170     		strb	r1, [r0]
 250 0002 0130     		adds	r0, r0, #1
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 251              		.loc 1 711 10 is_stmt 1 discriminator 1 view .LVU67
 252              	.LVL27:
 253              		.loc 1 711 2 is_stmt 0 discriminator 1 view .LVU68
 254 0004 013A     		subs	r2, r2, #1
 255              	.LVL28:
 256              		.loc 1 711 2 discriminator 1 view .LVU69
 257 0006 FBD1     		bne	.L10
 712:Middlewares/Third_Party/FatFs/src/ff.c **** }
 258              		.loc 1 712 1 view .LVU70
 259 0008 7047     		bx	lr
 260              		.cfi_endproc
 261              	.LFE355:
 263              		.section	.text.mem_cmp,"ax",%progbits
 264              		.align	1
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu fpv5-d16
 270              	mem_cmp:
ARM GAS  /tmp/cc9mPikx.s 			page 18


 271              	.LVL29:
 272              	.LFB356:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 273              		.loc 1 716 58 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277              		@ link register save eliminated.
 278              		.loc 1 716 58 is_stmt 0 view .LVU72
 279 0000 10B4     		push	{r4}
 280              	.LCFI2:
 281              		.cfi_def_cfa_offset 4
 282              		.cfi_offset 4, -4
 283 0002 0446     		mov	r4, r0
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 284              		.loc 1 717 2 is_stmt 1 view .LVU73
 285              	.LVL30:
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 286              		.loc 1 718 2 view .LVU74
 287              	.L13:
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 288              		.loc 1 720 2 discriminator 2 view .LVU75
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 289              		.loc 1 721 3 discriminator 2 view .LVU76
 290              		.loc 1 721 7 is_stmt 0 discriminator 2 view .LVU77
 291 0004 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 292 0006 0134     		adds	r4, r4, #1
 293              	.LVL31:
 294              		.loc 1 721 14 discriminator 2 view .LVU78
 295 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 296 000a 0131     		adds	r1, r1, #1
 297              	.LVL32:
 298              		.loc 1 721 5 discriminator 2 view .LVU79
 299 000c C01A     		subs	r0, r0, r3
 300              	.LVL33:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 301              		.loc 1 722 10 is_stmt 1 discriminator 2 view .LVU80
 302              		.loc 1 722 2 is_stmt 0 discriminator 2 view .LVU81
 303 000e 013A     		subs	r2, r2, #1
 304              	.LVL34:
 305              		.loc 1 722 2 discriminator 2 view .LVU82
 306 0010 01D0     		beq	.L11
 307              		.loc 1 722 17 discriminator 1 view .LVU83
 308 0012 0028     		cmp	r0, #0
 309 0014 F6D0     		beq	.L13
 310              	.L11:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 725:Middlewares/Third_Party/FatFs/src/ff.c **** }
 311              		.loc 1 725 1 view .LVU84
 312 0016 5DF8044B 		ldr	r4, [sp], #4
 313              	.LCFI3:
 314              		.cfi_restore 4
ARM GAS  /tmp/cc9mPikx.s 			page 19


 315              		.cfi_def_cfa_offset 0
 316              	.LVL35:
 317              		.loc 1 725 1 view .LVU85
 318 001a 7047     		bx	lr
 319              		.cfi_endproc
 320              	.LFE356:
 322              		.section	.text.chk_chr,"ax",%progbits
 323              		.align	1
 324              		.syntax unified
 325              		.thumb
 326              		.thumb_func
 327              		.fpu fpv5-d16
 329              	chk_chr:
 330              	.LVL36:
 331              	.LFB357:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 332              		.loc 1 729 40 is_stmt 1 view -0
 333              		.cfi_startproc
 334              		@ args = 0, pretend = 0, frame = 0
 335              		@ frame_needed = 0, uses_anonymous_args = 0
 336              		@ link register save eliminated.
 337              		.loc 1 729 40 is_stmt 0 view .LVU87
 338 0000 0346     		mov	r3, r0
 730:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 339              		.loc 1 730 2 is_stmt 1 view .LVU88
 340              	.LVL37:
 341              	.L16:
 342              		.loc 1 730 8 discriminator 1 view .LVU89
 343              		.loc 1 730 9 is_stmt 0 discriminator 1 view .LVU90
 344 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 345              		.loc 1 730 8 discriminator 1 view .LVU91
 346 0004 18B1     		cbz	r0, .L17
 347              		.loc 1 730 14 discriminator 2 view .LVU92
 348 0006 8842     		cmp	r0, r1
 349 0008 01D0     		beq	.L17
 350              		.loc 1 730 30 is_stmt 1 discriminator 3 view .LVU93
 351              		.loc 1 730 33 is_stmt 0 discriminator 3 view .LVU94
 352 000a 0133     		adds	r3, r3, #1
 353              	.LVL38:
 354              		.loc 1 730 33 discriminator 3 view .LVU95
 355 000c F9E7     		b	.L16
 356              	.L17:
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 357              		.loc 1 731 2 is_stmt 1 view .LVU96
 732:Middlewares/Third_Party/FatFs/src/ff.c **** }
 358              		.loc 1 732 1 is_stmt 0 view .LVU97
 359 000e 7047     		bx	lr
 360              		.cfi_endproc
 361              	.LFE357:
 363              		.section	.text.chk_lock,"ax",%progbits
 364              		.align	1
 365              		.syntax unified
 366              		.thumb
 367              		.thumb_func
ARM GAS  /tmp/cc9mPikx.s 			page 20


 368              		.fpu fpv5-d16
 370              	chk_lock:
 371              	.LVL39:
 372              	.LFB358:
 733:Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
 765:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:Middlewares/Third_Party/FatFs/src/ff.c **** {
 373              		.loc 1 775 1 is_stmt 1 view -0
 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 0
 376              		@ frame_needed = 0, uses_anonymous_args = 0
 377              		@ link register save eliminated.
 378              		.loc 1 775 1 is_stmt 0 view .LVU99
 379 0000 30B4     		push	{r4, r5}
 380              	.LCFI4:
 381              		.cfi_def_cfa_offset 8
 382              		.cfi_offset 4, -8
ARM GAS  /tmp/cc9mPikx.s 			page 21


 383              		.cfi_offset 5, -4
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 384              		.loc 1 776 2 is_stmt 1 view .LVU100
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 385              		.loc 1 779 2 view .LVU101
 386              	.LVL40:
 387              		.loc 1 779 14 is_stmt 0 view .LVU102
 388 0002 0025     		movs	r5, #0
 389              		.loc 1 779 9 view .LVU103
 390 0004 2B46     		mov	r3, r5
 391              		.loc 1 779 2 view .LVU104
 392 0006 01E0     		b	.L20
 393              	.LVL41:
 394              	.L27:
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 395              		.loc 1 785 7 view .LVU105
 396 0008 0125     		movs	r5, #1
 397              	.LVL42:
 398              	.L21:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 399              		.loc 1 779 33 is_stmt 1 discriminator 2 view .LVU106
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 400              		.loc 1 779 34 is_stmt 0 discriminator 2 view .LVU107
 401 000a 0133     		adds	r3, r3, #1
 402              	.LVL43:
 403              	.L20:
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 404              		.loc 1 779 19 is_stmt 1 discriminator 1 view .LVU108
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 405              		.loc 1 779 2 is_stmt 0 discriminator 1 view .LVU109
 406 000c 012B     		cmp	r3, #1
 407 000e 15D8     		bhi	.L22
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 408              		.loc 1 780 3 is_stmt 1 view .LVU110
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 409              		.loc 1 780 15 is_stmt 0 view .LVU111
 410 0010 1A01     		lsls	r2, r3, #4
 411 0012 184C     		ldr	r4, .L34
 412 0014 A258     		ldr	r2, [r4, r2]
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 413              		.loc 1 780 6 view .LVU112
 414 0016 002A     		cmp	r2, #0
 415 0018 F6D0     		beq	.L27
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 416              		.loc 1 781 4 is_stmt 1 view .LVU113
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 417              		.loc 1 781 30 is_stmt 0 view .LVU114
 418 001a 0468     		ldr	r4, [r0]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 419              		.loc 1 781 7 view .LVU115
ARM GAS  /tmp/cc9mPikx.s 			page 22


 420 001c A242     		cmp	r2, r4
 421 001e F4D1     		bne	.L21
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 422              		.loc 1 782 13 discriminator 1 view .LVU116
 423 0020 144A     		ldr	r2, .L34
 424 0022 02EB0312 		add	r2, r2, r3, lsl #4
 425 0026 5468     		ldr	r4, [r2, #4]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 426              		.loc 1 782 28 discriminator 1 view .LVU117
 427 0028 8268     		ldr	r2, [r0, #8]
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 428              		.loc 1 781 34 discriminator 1 view .LVU118
 429 002a 9442     		cmp	r4, r2
 430 002c EDD1     		bne	.L21
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 431              		.loc 1 783 13 view .LVU119
 432 002e 114A     		ldr	r2, .L34
 433 0030 02EB0312 		add	r2, r2, r3, lsl #4
 434 0034 9468     		ldr	r4, [r2, #8]
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 435              		.loc 1 783 23 view .LVU120
 436 0036 4269     		ldr	r2, [r0, #20]
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 437              		.loc 1 782 36 view .LVU121
 438 0038 9442     		cmp	r4, r2
 439 003a E6D1     		bne	.L21
 440              	.L22:
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 441              		.loc 1 788 2 is_stmt 1 view .LVU122
 442              		.loc 1 788 5 is_stmt 0 view .LVU123
 443 003c 022B     		cmp	r3, #2
 444 003e 0AD0     		beq	.L32
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 445              		.loc 1 793 2 is_stmt 1 view .LVU124
 446              		.loc 1 793 52 is_stmt 0 view .LVU125
 447 0040 A9B9     		cbnz	r1, .L29
 448              		.loc 1 793 25 discriminator 2 view .LVU126
 449 0042 0C4A     		ldr	r2, .L34
 450 0044 02EB0313 		add	r3, r2, r3, lsl #4
 451              	.LVL44:
 452              		.loc 1 793 25 discriminator 2 view .LVU127
 453 0048 9B89     		ldrh	r3, [r3, #12]
 454              		.loc 1 793 14 discriminator 2 view .LVU128
 455 004a B3F5807F 		cmp	r3, #256
 456 004e 0CD0     		beq	.L33
 457              		.loc 1 793 52 view .LVU129
 458 0050 0020     		movs	r0, #0
 459              	.LVL45:
 460              	.L26:
 794:Middlewares/Third_Party/FatFs/src/ff.c **** }
 461              		.loc 1 794 1 view .LVU130
ARM GAS  /tmp/cc9mPikx.s 			page 23


 462 0052 30BC     		pop	{r4, r5}
 463              	.LCFI5:
 464              		.cfi_remember_state
 465              		.cfi_restore 5
 466              		.cfi_restore 4
 467              		.cfi_def_cfa_offset 0
 468              	.LVL46:
 469              		.loc 1 794 1 view .LVU131
 470 0054 7047     		bx	lr
 471              	.LVL47:
 472              	.L32:
 473              	.LCFI6:
 474              		.cfi_restore_state
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 475              		.loc 1 789 3 is_stmt 1 view .LVU132
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 476              		.loc 1 789 14 is_stmt 0 view .LVU133
 477 0056 0229     		cmp	r1, #2
 478 0058 14BF     		ite	ne
 479 005a 2946     		movne	r1, r5
 480 005c 45F00101 		orreq	r1, r5, #1
 481              	.LVL48:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 482              		.loc 1 789 35 view .LVU134
 483 0060 09B1     		cbz	r1, .L28
 484 0062 0020     		movs	r0, #0
 485              	.LVL49:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 486              		.loc 1 789 35 view .LVU135
 487 0064 F5E7     		b	.L26
 488              	.LVL50:
 489              	.L28:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 490              		.loc 1 789 35 view .LVU136
 491 0066 1220     		movs	r0, #18
 492              	.LVL51:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 493              		.loc 1 789 35 view .LVU137
 494 0068 F3E7     		b	.L26
 495              	.LVL52:
 496              	.L33:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 497              		.loc 1 793 52 view .LVU138
 498 006a 1020     		movs	r0, #16
 499              	.LVL53:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 500              		.loc 1 793 52 view .LVU139
 501 006c F1E7     		b	.L26
 502              	.LVL54:
 503              	.L29:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 504              		.loc 1 793 52 view .LVU140
 505 006e 1020     		movs	r0, #16
 506              	.LVL55:
 793:Middlewares/Third_Party/FatFs/src/ff.c **** }
 507              		.loc 1 793 52 view .LVU141
 508 0070 EFE7     		b	.L26
ARM GAS  /tmp/cc9mPikx.s 			page 24


 509              	.L35:
 510 0072 00BF     		.align	2
 511              	.L34:
 512 0074 00000000 		.word	.LANCHOR0
 513              		.cfi_endproc
 514              	.LFE358:
 516              		.section	.text.enq_lock,"ax",%progbits
 517              		.align	1
 518              		.syntax unified
 519              		.thumb
 520              		.thumb_func
 521              		.fpu fpv5-d16
 523              	enq_lock:
 524              	.LFB359:
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:Middlewares/Third_Party/FatFs/src/ff.c **** {
 525              		.loc 1 799 1 is_stmt 1 view -0
 526              		.cfi_startproc
 527              		@ args = 0, pretend = 0, frame = 0
 528              		@ frame_needed = 0, uses_anonymous_args = 0
 529              		@ link register save eliminated.
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 530              		.loc 1 800 2 view .LVU143
 801:Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 531              		.loc 1 802 2 view .LVU144
 532              	.LVL56:
 533              		.loc 1 802 9 is_stmt 0 view .LVU145
 534 0000 0020     		movs	r0, #0
 535              		.loc 1 802 2 view .LVU146
 536 0002 00E0     		b	.L37
 537              	.LVL57:
 538              	.L39:
 539              		.loc 1 802 48 is_stmt 1 discriminator 4 view .LVU147
 540              		.loc 1 802 43 discriminator 4 view .LVU148
 541              		.loc 1 802 44 is_stmt 0 discriminator 4 view .LVU149
 542 0004 0130     		adds	r0, r0, #1
 543              	.LVL58:
 544              	.L37:
 545              		.loc 1 802 14 is_stmt 1 discriminator 1 view .LVU150
 546              		.loc 1 802 2 is_stmt 0 discriminator 1 view .LVU151
 547 0006 0128     		cmp	r0, #1
 548 0008 04D8     		bhi	.L38
 549              		.loc 1 802 38 discriminator 3 view .LVU152
 550 000a 0301     		lsls	r3, r0, #4
 551 000c 034A     		ldr	r2, .L40
 552 000e D358     		ldr	r3, [r2, r3]
 553              		.loc 1 802 27 discriminator 3 view .LVU153
 554 0010 002B     		cmp	r3, #0
 555 0012 F7D1     		bne	.L39
 556              	.L38:
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 557              		.loc 1 803 2 is_stmt 1 view .LVU154
 804:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cc9mPikx.s 			page 25


 558              		.loc 1 804 1 is_stmt 0 view .LVU155
 559 0014 0238     		subs	r0, r0, #2
 560              	.LVL59:
 561              		.loc 1 804 1 view .LVU156
 562 0016 18BF     		it	ne
 563 0018 0120     		movne	r0, #1
 564              	.LVL60:
 565              		.loc 1 804 1 view .LVU157
 566 001a 7047     		bx	lr
 567              	.L41:
 568              		.align	2
 569              	.L40:
 570 001c 00000000 		.word	.LANCHOR0
 571              		.cfi_endproc
 572              	.LFE359:
 574              		.section	.text.inc_lock,"ax",%progbits
 575              		.align	1
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 579              		.fpu fpv5-d16
 581              	inc_lock:
 582              	.LVL61:
 583              	.LFB360:
 805:Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:Middlewares/Third_Party/FatFs/src/ff.c **** {
 584              		.loc 1 812 1 is_stmt 1 view -0
 585              		.cfi_startproc
 586              		@ args = 0, pretend = 0, frame = 0
 587              		@ frame_needed = 0, uses_anonymous_args = 0
 588              		@ link register save eliminated.
 589              		.loc 1 812 1 is_stmt 0 view .LVU159
 590 0000 70B4     		push	{r4, r5, r6}
 591              	.LCFI7:
 592              		.cfi_def_cfa_offset 12
 593              		.cfi_offset 4, -12
 594              		.cfi_offset 5, -8
 595              		.cfi_offset 6, -4
 813:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 596              		.loc 1 813 2 is_stmt 1 view .LVU160
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 597              		.loc 1 816 2 view .LVU161
 598              	.LVL62:
 599              		.loc 1 816 9 is_stmt 0 view .LVU162
 600 0002 0023     		movs	r3, #0
 601              		.loc 1 816 2 view .LVU163
 602 0004 00E0     		b	.L43
 603              	.LVL63:
 604              	.L44:
ARM GAS  /tmp/cc9mPikx.s 			page 26


 605              		.loc 1 816 28 is_stmt 1 discriminator 2 view .LVU164
 606              		.loc 1 816 29 is_stmt 0 discriminator 2 view .LVU165
 607 0006 0133     		adds	r3, r3, #1
 608              	.LVL64:
 609              	.L43:
 610              		.loc 1 816 14 is_stmt 1 discriminator 1 view .LVU166
 611              		.loc 1 816 2 is_stmt 0 discriminator 1 view .LVU167
 612 0008 012B     		cmp	r3, #1
 613 000a 13D8     		bhi	.L45
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 614              		.loc 1 817 3 is_stmt 1 view .LVU168
 615              		.loc 1 817 15 is_stmt 0 view .LVU169
 616 000c 1A01     		lsls	r2, r3, #4
 617 000e 244C     		ldr	r4, .L60
 618 0010 A458     		ldr	r4, [r4, r2]
 619              		.loc 1 817 29 view .LVU170
 620 0012 0268     		ldr	r2, [r0]
 621              		.loc 1 817 6 view .LVU171
 622 0014 9442     		cmp	r4, r2
 623 0016 F6D1     		bne	.L44
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 624              		.loc 1 818 12 discriminator 1 view .LVU172
 625 0018 214A     		ldr	r2, .L60
 626 001a 02EB0312 		add	r2, r2, r3, lsl #4
 627 001e 5468     		ldr	r4, [r2, #4]
 628              		.loc 1 818 27 discriminator 1 view .LVU173
 629 0020 8268     		ldr	r2, [r0, #8]
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 630              		.loc 1 817 33 discriminator 1 view .LVU174
 631 0022 9442     		cmp	r4, r2
 632 0024 EFD1     		bne	.L44
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 633              		.loc 1 819 12 view .LVU175
 634 0026 1E4A     		ldr	r2, .L60
 635 0028 02EB0312 		add	r2, r2, r3, lsl #4
 636 002c 9468     		ldr	r4, [r2, #8]
 637              		.loc 1 819 22 view .LVU176
 638 002e 4269     		ldr	r2, [r0, #20]
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 639              		.loc 1 818 35 view .LVU177
 640 0030 9442     		cmp	r4, r2
 641 0032 E8D1     		bne	.L44
 642              	.L45:
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 643              		.loc 1 822 2 is_stmt 1 view .LVU178
 644              		.loc 1 822 5 is_stmt 0 view .LVU179
 645 0034 022B     		cmp	r3, #2
 646 0036 13D0     		beq	.L59
 647              	.LVL65:
 648              	.L48:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
ARM GAS  /tmp/cc9mPikx.s 			page 27


 828:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 649              		.loc 1 831 2 is_stmt 1 view .LVU180
 650              		.loc 1 831 5 is_stmt 0 view .LVU181
 651 0038 21B1     		cbz	r1, .L52
 652              		.loc 1 831 21 discriminator 1 view .LVU182
 653 003a 194A     		ldr	r2, .L60
 654 003c 02EB0312 		add	r2, r2, r3, lsl #4
 655 0040 9289     		ldrh	r2, [r2, #12]
 656              		.loc 1 831 10 discriminator 1 view .LVU183
 657 0042 52BB     		cbnz	r2, .L56
 658              	.L52:
 832:Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 659              		.loc 1 833 2 is_stmt 1 view .LVU184
 660              		.loc 1 833 15 is_stmt 0 view .LVU185
 661 0044 21BB     		cbnz	r1, .L57
 662              		.loc 1 833 39 discriminator 1 view .LVU186
 663 0046 164A     		ldr	r2, .L60
 664 0048 02EB0312 		add	r2, r2, r3, lsl #4
 665 004c 9189     		ldrh	r1, [r2, #12]
 666              	.LVL66:
 667              		.loc 1 833 15 discriminator 1 view .LVU187
 668 004e 0131     		adds	r1, r1, #1
 669 0050 89B2     		uxth	r1, r1
 670              	.L53:
 671              		.loc 1 833 15 discriminator 4 view .LVU188
 672 0052 134A     		ldr	r2, .L60
 673 0054 02EB0312 		add	r2, r2, r3, lsl #4
 674 0058 9181     		strh	r1, [r2, #12]	@ movhi
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 675              		.loc 1 835 2 is_stmt 1 discriminator 4 view .LVU189
 676              		.loc 1 835 11 is_stmt 0 discriminator 4 view .LVU190
 677 005a 581C     		adds	r0, r3, #1
 678              	.L42:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** }
 679              		.loc 1 836 1 view .LVU191
 680 005c 70BC     		pop	{r4, r5, r6}
 681              	.LCFI8:
 682              		.cfi_remember_state
 683              		.cfi_restore 6
 684              		.cfi_restore 5
 685              		.cfi_restore 4
 686              		.cfi_def_cfa_offset 0
 687 005e 7047     		bx	lr
 688              	.LVL67:
 689              	.L59:
 690              	.LCFI9:
 691              		.cfi_restore_state
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 692              		.loc 1 823 10 view .LVU192
 693 0060 0023     		movs	r3, #0
 694              	.LVL68:
 695              	.L47:
ARM GAS  /tmp/cc9mPikx.s 			page 28


 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 696              		.loc 1 823 15 is_stmt 1 discriminator 1 view .LVU193
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 697              		.loc 1 823 3 is_stmt 0 discriminator 1 view .LVU194
 698 0062 012B     		cmp	r3, #1
 699 0064 05D8     		bhi	.L49
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 700              		.loc 1 823 39 discriminator 3 view .LVU195
 701 0066 1A01     		lsls	r2, r3, #4
 702 0068 0D4C     		ldr	r4, .L60
 703 006a A258     		ldr	r2, [r4, r2]
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 704              		.loc 1 823 28 discriminator 3 view .LVU196
 705 006c 0AB1     		cbz	r2, .L49
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 706              		.loc 1 823 49 is_stmt 1 discriminator 4 view .LVU197
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 707              		.loc 1 823 44 discriminator 4 view .LVU198
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 708              		.loc 1 823 45 is_stmt 0 discriminator 4 view .LVU199
 709 006e 0133     		adds	r3, r3, #1
 710              	.LVL69:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 711              		.loc 1 823 45 discriminator 4 view .LVU200
 712 0070 F7E7     		b	.L47
 713              	.L49:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 714              		.loc 1 824 3 is_stmt 1 view .LVU201
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 715              		.loc 1 824 6 is_stmt 0 view .LVU202
 716 0072 022B     		cmp	r3, #2
 717 0074 0FD0     		beq	.L55
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 718              		.loc 1 825 3 is_stmt 1 view .LVU203
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 719              		.loc 1 825 24 is_stmt 0 view .LVU204
 720 0076 0668     		ldr	r6, [r0]
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 721              		.loc 1 825 15 view .LVU205
 722 0078 094D     		ldr	r5, .L60
 723 007a 1C01     		lsls	r4, r3, #4
 724 007c 05EB0312 		add	r2, r5, r3, lsl #4
 725 0080 2E51     		str	r6, [r5, r4]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 726              		.loc 1 826 3 is_stmt 1 view .LVU206
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 727              		.loc 1 826 25 is_stmt 0 view .LVU207
 728 0082 8468     		ldr	r4, [r0, #8]
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 729              		.loc 1 826 16 view .LVU208
 730 0084 5460     		str	r4, [r2, #4]
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 731              		.loc 1 827 3 is_stmt 1 view .LVU209
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 732              		.loc 1 827 20 is_stmt 0 view .LVU210
 733 0086 4069     		ldr	r0, [r0, #20]
 734              	.LVL70:
ARM GAS  /tmp/cc9mPikx.s 			page 29


 827:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 735              		.loc 1 827 16 view .LVU211
 736 0088 9060     		str	r0, [r2, #8]
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 737              		.loc 1 828 3 is_stmt 1 view .LVU212
 828:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 738              		.loc 1 828 16 is_stmt 0 view .LVU213
 739 008a 0020     		movs	r0, #0
 740 008c 9081     		strh	r0, [r2, #12]	@ movhi
 741 008e D3E7     		b	.L48
 742              	.L57:
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 
 743              		.loc 1 833 15 view .LVU214
 744 0090 4FF48071 		mov	r1, #256
 745              	.LVL71:
 833:Middlewares/Third_Party/FatFs/src/ff.c **** 
 746              		.loc 1 833 15 view .LVU215
 747 0094 DDE7     		b	.L53
 748              	.LVL72:
 749              	.L55:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 750              		.loc 1 824 29 view .LVU216
 751 0096 0020     		movs	r0, #0
 752              	.LVL73:
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 753              		.loc 1 824 29 view .LVU217
 754 0098 E0E7     		b	.L42
 755              	.L56:
 831:Middlewares/Third_Party/FatFs/src/ff.c **** 
 756              		.loc 1 831 34 view .LVU218
 757 009a 0020     		movs	r0, #0
 758 009c DEE7     		b	.L42
 759              	.L61:
 760 009e 00BF     		.align	2
 761              	.L60:
 762 00a0 00000000 		.word	.LANCHOR0
 763              		.cfi_endproc
 764              	.LFE360:
 766              		.section	.text.dec_lock,"ax",%progbits
 767              		.align	1
 768              		.syntax unified
 769              		.thumb
 770              		.thumb_func
 771              		.fpu fpv5-d16
 773              	dec_lock:
 774              	.LVL74:
 775              	.LFB361:
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:Middlewares/Third_Party/FatFs/src/ff.c **** {
 776              		.loc 1 843 1 is_stmt 1 view -0
 777              		.cfi_startproc
 778              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc9mPikx.s 			page 30


 779              		@ frame_needed = 0, uses_anonymous_args = 0
 780              		@ link register save eliminated.
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 781              		.loc 1 844 2 view .LVU220
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 782              		.loc 1 845 2 view .LVU221
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 783              		.loc 1 848 2 view .LVU222
 784              		.loc 1 848 5 is_stmt 0 view .LVU223
 785 0000 0138     		subs	r0, r0, #1
 786              	.LVL75:
 787              		.loc 1 848 5 view .LVU224
 788 0002 0128     		cmp	r0, #1
 789 0004 15D8     		bhi	.L65
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 790              		.loc 1 849 3 is_stmt 1 view .LVU225
 791              		.loc 1 849 5 is_stmt 0 view .LVU226
 792 0006 0D4B     		ldr	r3, .L68
 793 0008 03EB0013 		add	r3, r3, r0, lsl #4
 794 000c 9B89     		ldrh	r3, [r3, #12]
 795              	.LVL76:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 796              		.loc 1 850 3 is_stmt 1 view .LVU227
 797              		.loc 1 850 6 is_stmt 0 view .LVU228
 798 000e B3F5807F 		cmp	r3, #256
 799 0012 03D0     		beq	.L66
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 800              		.loc 1 851 3 is_stmt 1 view .LVU229
 801              		.loc 1 851 6 is_stmt 0 view .LVU230
 802 0014 1BB1     		cbz	r3, .L64
 803              		.loc 1 851 14 is_stmt 1 discriminator 1 view .LVU231
 804              		.loc 1 851 15 is_stmt 0 discriminator 1 view .LVU232
 805 0016 013B     		subs	r3, r3, #1
 806              	.LVL77:
 807              		.loc 1 851 15 discriminator 1 view .LVU233
 808 0018 9BB2     		uxth	r3, r3
 809              	.LVL78:
 810              		.loc 1 851 15 discriminator 1 view .LVU234
 811 001a 00E0     		b	.L64
 812              	.L66:
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 813              		.loc 1 850 21 view .LVU235
 814 001c 0023     		movs	r3, #0
 815              	.LVL79:
 816              	.L64:
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 817              		.loc 1 852 3 is_stmt 1 view .LVU236
 818              		.loc 1 852 16 is_stmt 0 view .LVU237
 819 001e 074A     		ldr	r2, .L68
 820 0020 02EB0012 		add	r2, r2, r0, lsl #4
 821 0024 9381     		strh	r3, [r2, #12]	@ movhi
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 822              		.loc 1 853 3 is_stmt 1 view .LVU238
 823              		.loc 1 853 6 is_stmt 0 view .LVU239
 824 0026 33B9     		cbnz	r3, .L67
ARM GAS  /tmp/cc9mPikx.s 			page 31


 825              		.loc 1 853 15 is_stmt 1 discriminator 1 view .LVU240
 826              		.loc 1 853 27 is_stmt 0 discriminator 1 view .LVU241
 827 0028 0301     		lsls	r3, r0, #4
 828              	.LVL80:
 829              		.loc 1 853 27 discriminator 1 view .LVU242
 830 002a 0020     		movs	r0, #0
 831              	.LVL81:
 832              		.loc 1 853 27 discriminator 1 view .LVU243
 833 002c 034A     		ldr	r2, .L68
 834              	.LVL82:
 835              		.loc 1 853 27 discriminator 1 view .LVU244
 836 002e D050     		str	r0, [r2, r3]
 837 0030 7047     		bx	lr
 838              	.LVL83:
 839              	.L65:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 840              		.loc 1 856 7 view .LVU245
 841 0032 0220     		movs	r0, #2
 842              	.LVL84:
 843              		.loc 1 856 7 view .LVU246
 844 0034 7047     		bx	lr
 845              	.LVL85:
 846              	.L67:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 847              		.loc 1 854 7 view .LVU247
 848 0036 0020     		movs	r0, #0
 849              	.LVL86:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 850              		.loc 1 858 2 is_stmt 1 view .LVU248
 859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 851              		.loc 1 859 1 is_stmt 0 view .LVU249
 852 0038 7047     		bx	lr
 853              	.L69:
 854 003a 00BF     		.align	2
 855              	.L68:
 856 003c 00000000 		.word	.LANCHOR0
 857              		.cfi_endproc
 858              	.LFE361:
 860              		.section	.text.clear_lock,"ax",%progbits
 861              		.align	1
 862              		.syntax unified
 863              		.thumb
 864              		.thumb_func
 865              		.fpu fpv5-d16
 867              	clear_lock:
 868              	.LVL87:
 869              	.LFB362:
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/cc9mPikx.s 			page 32


 870              		.loc 1 866 1 is_stmt 1 view -0
 871              		.cfi_startproc
 872              		@ args = 0, pretend = 0, frame = 0
 873              		@ frame_needed = 0, uses_anonymous_args = 0
 874              		@ link register save eliminated.
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 875              		.loc 1 867 2 view .LVU251
 868:Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 876              		.loc 1 869 2 view .LVU252
 877              		.loc 1 869 9 is_stmt 0 view .LVU253
 878 0000 0023     		movs	r3, #0
 879              		.loc 1 869 2 view .LVU254
 880 0002 03E0     		b	.L75
 881              	.LVL88:
 882              	.L82:
 883              	.LCFI10:
 884              		.cfi_def_cfa_offset 4
 885              		.cfi_offset 4, -4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 886              		.loc 1 872 1 view .LVU255
 887 0004 5DF8044B 		ldr	r4, [sp], #4
 888              	.LCFI11:
 889              		.cfi_restore 4
 890              		.cfi_def_cfa_offset 0
 891 0008 7047     		bx	lr
 892              	.L81:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 893              		.loc 1 869 28 is_stmt 1 view .LVU256
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 894              		.loc 1 869 29 is_stmt 0 view .LVU257
 895 000a 0133     		adds	r3, r3, #1
 896              	.LVL89:
 897              	.L75:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 898              		.loc 1 869 14 is_stmt 1 view .LVU258
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 899              		.loc 1 869 2 is_stmt 0 view .LVU259
 900 000c 012B     		cmp	r3, #1
 901 000e 11D8     		bhi	.L80
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 902              		.loc 1 870 3 is_stmt 1 view .LVU260
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 903              		.loc 1 870 15 is_stmt 0 view .LVU261
 904 0010 1A01     		lsls	r2, r3, #4
 905 0012 0949     		ldr	r1, .L83
 906 0014 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 907              		.loc 1 870 6 view .LVU262
 908 0016 8242     		cmp	r2, r0
 909 0018 F7D1     		bne	.L81
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 910              		.loc 1 866 1 view .LVU263
 911 001a 10B4     		push	{r4}
 912              	.LCFI12:
ARM GAS  /tmp/cc9mPikx.s 			page 33


 913              		.cfi_def_cfa_offset 4
 914              		.cfi_offset 4, -4
 915              	.L76:
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 916              		.loc 1 870 26 is_stmt 1 discriminator 1 view .LVU264
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 917              		.loc 1 870 38 is_stmt 0 discriminator 1 view .LVU265
 918 001c 1A01     		lsls	r2, r3, #4
 919 001e 0024     		movs	r4, #0
 920 0020 8C50     		str	r4, [r1, r2]
 921              	.L72:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 922              		.loc 1 869 28 is_stmt 1 discriminator 2 view .LVU266
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 923              		.loc 1 869 29 is_stmt 0 discriminator 2 view .LVU267
 924 0022 0133     		adds	r3, r3, #1
 925              	.LVL90:
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 926              		.loc 1 869 14 is_stmt 1 discriminator 2 view .LVU268
 869:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 927              		.loc 1 869 2 is_stmt 0 discriminator 2 view .LVU269
 928 0024 012B     		cmp	r3, #1
 929 0026 EDD8     		bhi	.L82
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 930              		.loc 1 870 3 is_stmt 1 view .LVU270
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 931              		.loc 1 870 15 is_stmt 0 view .LVU271
 932 0028 1A01     		lsls	r2, r3, #4
 933 002a 0349     		ldr	r1, .L83
 934 002c 8A58     		ldr	r2, [r1, r2]
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 935              		.loc 1 870 6 view .LVU272
 936 002e 8242     		cmp	r2, r0
 937 0030 F7D1     		bne	.L72
 938 0032 F3E7     		b	.L76
 939              	.L80:
 940              	.LCFI13:
 941              		.cfi_def_cfa_offset 0
 942              		.cfi_restore 4
 870:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 943              		.loc 1 870 6 view .LVU273
 944 0034 7047     		bx	lr
 945              	.L84:
 946 0036 00BF     		.align	2
 947              	.L83:
 948 0038 00000000 		.word	.LANCHOR0
 949              		.cfi_endproc
 950              	.LFE362:
 952              		.section	.text.clust2sect,"ax",%progbits
 953              		.align	1
 954              		.syntax unified
 955              		.thumb
 956              		.thumb_func
 957              		.fpu fpv5-d16
 959              	clust2sect:
 960              	.LVL91:
 961              	.LFB366:
ARM GAS  /tmp/cc9mPikx.s 			page 34


 873:Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 879:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:Middlewares/Third_Party/FatFs/src/ff.c **** {
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 907:Middlewares/Third_Party/FatFs/src/ff.c **** }
 908:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:Middlewares/Third_Party/FatFs/src/ff.c **** {
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 921:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
ARM GAS  /tmp/cc9mPikx.s 			page 35


 930:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 933:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:Middlewares/Third_Party/FatFs/src/ff.c **** {
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 972:Middlewares/Third_Party/FatFs/src/ff.c **** }
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cc9mPikx.s 			page 36


 987:Middlewares/Third_Party/FatFs/src/ff.c **** {
 962              		.loc 1 987 1 is_stmt 1 view -0
 963              		.cfi_startproc
 964              		@ args = 0, pretend = 0, frame = 0
 965              		@ frame_needed = 0, uses_anonymous_args = 0
 966              		@ link register save eliminated.
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 967              		.loc 1 988 2 view .LVU275
 968              		.loc 1 988 7 is_stmt 0 view .LVU276
 969 0000 0239     		subs	r1, r1, #2
 970              	.LVL92:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 971              		.loc 1 989 2 is_stmt 1 view .LVU277
 972              		.loc 1 989 16 is_stmt 0 view .LVU278
 973 0002 C369     		ldr	r3, [r0, #28]
 974              		.loc 1 989 27 view .LVU279
 975 0004 023B     		subs	r3, r3, #2
 976              		.loc 1 989 5 view .LVU280
 977 0006 8B42     		cmp	r3, r1
 978 0008 04D9     		bls	.L87
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 979              		.loc 1 990 2 is_stmt 1 view .LVU281
 980              		.loc 1 990 18 is_stmt 0 view .LVU282
 981 000a 4389     		ldrh	r3, [r0, #10]
 982              		.loc 1 990 30 view .LVU283
 983 000c 006B     		ldr	r0, [r0, #48]
 984              	.LVL93:
 985              		.loc 1 990 26 view .LVU284
 986 000e 01FB0300 		mla	r0, r1, r3, r0
 987 0012 7047     		bx	lr
 988              	.LVL94:
 989              	.L87:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 990              		.loc 1 989 39 view .LVU285
 991 0014 0020     		movs	r0, #0
 992              	.LVL95:
 991:Middlewares/Third_Party/FatFs/src/ff.c **** }
 993              		.loc 1 991 1 view .LVU286
 994 0016 7047     		bx	lr
 995              		.cfi_endproc
 996              	.LFE366:
 998              		.section	.text.clmt_clust,"ax",%progbits
 999              		.align	1
 1000              		.syntax unified
 1001              		.thumb
 1002              		.thumb_func
 1003              		.fpu fpv5-d16
 1005              	clmt_clust:
 1006              	.LVL96:
 1007              	.LFB371:
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc9mPikx.s 			page 37


 999:Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:Middlewares/Third_Party/FatFs/src/ff.c **** {
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1009:Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
ARM GAS  /tmp/cc9mPikx.s 			page 38


1056:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1061:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** }
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:Middlewares/Third_Party/FatFs/src/ff.c **** {
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
ARM GAS  /tmp/cc9mPikx.s 			page 39


1113:Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1128:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1129:Middlewares/Third_Party/FatFs/src/ff.c **** }
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
ARM GAS  /tmp/cc9mPikx.s 			page 40


1170:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
1201:Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/cc9mPikx.s 			page 41


1227:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1280:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
ARM GAS  /tmp/cc9mPikx.s 			page 42


1284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1304:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
1308:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
1329:Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9mPikx.s 			page 43


1341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1342:Middlewares/Third_Party/FatFs/src/ff.c **** }
1343:Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:Middlewares/Third_Party/FatFs/src/ff.c **** {
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
ARM GAS  /tmp/cc9mPikx.s 			page 44


1398:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
1406:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
1411:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
1427:Middlewares/Third_Party/FatFs/src/ff.c **** }
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 
1434:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1008              		.loc 1 1444 1 is_stmt 1 view -0
 1009              		.cfi_startproc
 1010              		@ args = 0, pretend = 0, frame = 0
 1011              		@ frame_needed = 0, uses_anonymous_args = 0
 1012              		@ link register save eliminated.
1445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 1013              		.loc 1 1445 2 view .LVU288
1446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 1014              		.loc 1 1446 2 view .LVU289
 1015              		.loc 1 1446 9 is_stmt 0 view .LVU290
ARM GAS  /tmp/cc9mPikx.s 			page 45


 1016 0000 0268     		ldr	r2, [r0]
 1017              	.LVL97:
1447:Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 1018              		.loc 1 1449 2 is_stmt 1 view .LVU291
 1019              		.loc 1 1449 10 is_stmt 0 view .LVU292
 1020 0002 C36A     		ldr	r3, [r0, #44]
 1021              		.loc 1 1449 6 view .LVU293
 1022 0004 0433     		adds	r3, r3, #4
 1023              	.LVL98:
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 1024              		.loc 1 1450 2 is_stmt 1 view .LVU294
 1025              		.loc 1 1450 21 is_stmt 0 view .LVU295
 1026 0006 9089     		ldrh	r0, [r2, #12]
 1027              	.LVL99:
 1028              		.loc 1 1450 19 view .LVU296
 1029 0008 B1FBF0F1 		udiv	r1, r1, r0
 1030              	.LVL100:
 1031              		.loc 1 1450 32 view .LVU297
 1032 000c 5289     		ldrh	r2, [r2, #10]
 1033              	.LVL101:
 1034              		.loc 1 1450 5 view .LVU298
 1035 000e B1FBF2F1 		udiv	r1, r1, r2
 1036              	.LVL102:
 1037              	.L91:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 1038              		.loc 1 1451 2 is_stmt 1 view .LVU299
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 1039              		.loc 1 1452 3 view .LVU300
 1040              		.loc 1 1452 7 is_stmt 0 view .LVU301
 1041 0012 1868     		ldr	r0, [r3]
 1042              	.LVL103:
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 1043              		.loc 1 1453 3 is_stmt 1 view .LVU302
 1044              		.loc 1 1453 6 is_stmt 0 view .LVU303
 1045 0014 30B1     		cbz	r0, .L88
1454:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 1046              		.loc 1 1454 3 is_stmt 1 view .LVU304
 1047              		.loc 1 1454 6 is_stmt 0 view .LVU305
 1048 0016 8142     		cmp	r1, r0
 1049 0018 02D3     		bcc	.L90
1455:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 1050              		.loc 1 1455 3 is_stmt 1 view .LVU306
 1051              		.loc 1 1455 6 is_stmt 0 view .LVU307
 1052 001a 091A     		subs	r1, r1, r0
 1053              	.LVL104:
 1054              		.loc 1 1455 14 is_stmt 1 view .LVU308
 1055              		.loc 1 1455 17 is_stmt 0 view .LVU309
 1056 001c 0833     		adds	r3, r3, #8
 1057              	.LVL105:
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 1058              		.loc 1 1451 8 is_stmt 1 view .LVU310
1452:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 1059              		.loc 1 1452 7 is_stmt 0 view .LVU311
 1060 001e F8E7     		b	.L91
 1061              	.LVL106:
ARM GAS  /tmp/cc9mPikx.s 			page 46


 1062              	.L90:
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 1063              		.loc 1 1457 2 is_stmt 1 view .LVU312
 1064              		.loc 1 1457 14 is_stmt 0 view .LVU313
 1065 0020 5868     		ldr	r0, [r3, #4]
 1066              	.LVL107:
 1067              		.loc 1 1457 12 view .LVU314
 1068 0022 0844     		add	r0, r0, r1
 1069              	.L88:
1458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1070              		.loc 1 1458 1 view .LVU315
 1071 0024 7047     		bx	lr
 1072              		.cfi_endproc
 1073              	.LFE371:
 1075              		.section	.text.ld_clust,"ax",%progbits
 1076              		.align	1
 1077              		.syntax unified
 1078              		.thumb
 1079              		.thumb_func
 1080              		.fpu fpv5-d16
 1082              	ld_clust:
 1083              	.LVL108:
 1084              	.LFB375:
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:Middlewares/Third_Party/FatFs/src/ff.c **** {
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
ARM GAS  /tmp/cc9mPikx.s 			page 47


1492:Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
1507:Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1509:Middlewares/Third_Party/FatFs/src/ff.c **** }
1510:Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:Middlewares/Third_Party/FatFs/src/ff.c **** {
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1526:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
1547:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
ARM GAS  /tmp/cc9mPikx.s 			page 48


1549:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
1550:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
1564:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
1571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1578:Middlewares/Third_Party/FatFs/src/ff.c **** }
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1605:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
ARM GAS  /tmp/cc9mPikx.s 			page 49


1606:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
1609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** }
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1085              		.loc 1 1636 1 is_stmt 1 view -0
 1086              		.cfi_startproc
 1087              		@ args = 0, pretend = 0, frame = 0
 1088              		@ frame_needed = 0, uses_anonymous_args = 0
 1089              		.loc 1 1636 1 is_stmt 0 view .LVU317
 1090 0000 70B5     		push	{r4, r5, r6, lr}
 1091              	.LCFI14:
 1092              		.cfi_def_cfa_offset 16
 1093              		.cfi_offset 4, -16
 1094              		.cfi_offset 5, -12
 1095              		.cfi_offset 6, -8
 1096              		.cfi_offset 14, -4
 1097 0002 0646     		mov	r6, r0
 1098 0004 0D46     		mov	r5, r1
1637:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 1099              		.loc 1 1637 2 is_stmt 1 view .LVU318
1638:Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 1100              		.loc 1 1639 2 view .LVU319
 1101              		.loc 1 1639 7 is_stmt 0 view .LVU320
 1102 0006 01F11A00 		add	r0, r1, #26
 1103              	.LVL109:
 1104              		.loc 1 1639 7 view .LVU321
 1105 000a FFF7FEFF 		bl	ld_word
 1106              	.LVL110:
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
ARM GAS  /tmp/cc9mPikx.s 			page 50


 1107              		.loc 1 1640 2 is_stmt 1 view .LVU322
 1108              		.loc 1 1640 8 is_stmt 0 view .LVU323
 1109 000e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1110              		.loc 1 1640 5 view .LVU324
 1111 0010 032B     		cmp	r3, #3
 1112 0012 00D0     		beq	.L95
 1113              	.LVL111:
 1114              	.L92:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1115              		.loc 1 1645 1 view .LVU325
 1116 0014 70BD     		pop	{r4, r5, r6, pc}
 1117              	.LVL112:
 1118              	.L95:
 1119              		.loc 1 1645 1 view .LVU326
 1120 0016 0446     		mov	r4, r0
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1121              		.loc 1 1641 3 is_stmt 1 view .LVU327
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1122              		.loc 1 1641 16 is_stmt 0 view .LVU328
 1123 0018 05F11400 		add	r0, r5, #20
 1124              	.LVL113:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1125              		.loc 1 1641 16 view .LVU329
 1126 001c FFF7FEFF 		bl	ld_word
 1127              	.LVL114:
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 1128              		.loc 1 1641 6 view .LVU330
 1129 0020 44EA0040 		orr	r0, r4, r0, lsl #16
 1130              	.LVL115:
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1131              		.loc 1 1644 2 is_stmt 1 view .LVU331
1644:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1132              		.loc 1 1644 9 is_stmt 0 view .LVU332
 1133 0024 F6E7     		b	.L92
 1134              		.cfi_endproc
 1135              	.LFE375:
 1137              		.section	.text.st_clust,"ax",%progbits
 1138              		.align	1
 1139              		.syntax unified
 1140              		.thumb
 1141              		.thumb_func
 1142              		.fpu fpv5-d16
 1144              	st_clust:
 1145              	.LVL116:
 1146              	.LFB376:
1646:Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
ARM GAS  /tmp/cc9mPikx.s 			page 51


1654:Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1147              		.loc 1 1655 1 is_stmt 1 view -0
 1148              		.cfi_startproc
 1149              		@ args = 0, pretend = 0, frame = 0
 1150              		@ frame_needed = 0, uses_anonymous_args = 0
 1151              		.loc 1 1655 1 is_stmt 0 view .LVU334
 1152 0000 70B5     		push	{r4, r5, r6, lr}
 1153              	.LCFI15:
 1154              		.cfi_def_cfa_offset 16
 1155              		.cfi_offset 4, -16
 1156              		.cfi_offset 5, -12
 1157              		.cfi_offset 6, -8
 1158              		.cfi_offset 14, -4
 1159 0002 0646     		mov	r6, r0
 1160 0004 0C46     		mov	r4, r1
 1161 0006 1546     		mov	r5, r2
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 1162              		.loc 1 1656 2 is_stmt 1 view .LVU335
 1163 0008 91B2     		uxth	r1, r2
 1164              	.LVL117:
 1165              		.loc 1 1656 2 is_stmt 0 view .LVU336
 1166 000a 04F11A00 		add	r0, r4, #26
 1167              	.LVL118:
 1168              		.loc 1 1656 2 view .LVU337
 1169 000e FFF7FEFF 		bl	st_word
 1170              	.LVL119:
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 1171              		.loc 1 1657 2 is_stmt 1 view .LVU338
 1172              		.loc 1 1657 8 is_stmt 0 view .LVU339
 1173 0012 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1174              		.loc 1 1657 5 view .LVU340
 1175 0014 032B     		cmp	r3, #3
 1176 0016 00D0     		beq	.L99
 1177              	.L96:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1178              		.loc 1 1660 1 view .LVU341
 1179 0018 70BD     		pop	{r4, r5, r6, pc}
 1180              	.LVL120:
 1181              	.L99:
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 1182              		.loc 1 1658 3 is_stmt 1 view .LVU342
 1183 001a 290C     		lsrs	r1, r5, #16
 1184 001c 04F11400 		add	r0, r4, #20
 1185 0020 FFF7FEFF 		bl	st_word
 1186              	.LVL121:
 1187              		.loc 1 1660 1 is_stmt 0 view .LVU343
 1188 0024 F8E7     		b	.L96
 1189              		.cfi_endproc
 1190              	.LFE376:
 1192              		.section	.text.pick_lfn,"ax",%progbits
 1193              		.align	1
 1194              		.syntax unified
 1195              		.thumb
 1196              		.thumb_func
ARM GAS  /tmp/cc9mPikx.s 			page 52


 1197              		.fpu fpv5-d16
 1199              	pick_lfn:
 1200              	.LVL122:
 1201              	.LFB378:
1661:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:Middlewares/Third_Party/FatFs/src/ff.c **** {
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
1705:Middlewares/Third_Party/FatFs/src/ff.c **** }
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
ARM GAS  /tmp/cc9mPikx.s 			page 53


1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1202              		.loc 1 1717 1 is_stmt 1 view -0
 1203              		.cfi_startproc
 1204              		@ args = 0, pretend = 0, frame = 0
 1205              		@ frame_needed = 0, uses_anonymous_args = 0
 1206              		.loc 1 1717 1 is_stmt 0 view .LVU345
 1207 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1208              	.LCFI16:
 1209              		.cfi_def_cfa_offset 24
 1210              		.cfi_offset 4, -24
 1211              		.cfi_offset 5, -20
 1212              		.cfi_offset 6, -16
 1213              		.cfi_offset 7, -12
 1214              		.cfi_offset 8, -8
 1215              		.cfi_offset 14, -4
 1216 0004 8046     		mov	r8, r0
 1217 0006 0E46     		mov	r6, r1
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 1218              		.loc 1 1718 2 is_stmt 1 view .LVU346
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
 1219              		.loc 1 1719 2 view .LVU347
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
 1220              		.loc 1 1722 2 view .LVU348
 1221              		.loc 1 1722 6 is_stmt 0 view .LVU349
 1222 0008 01F11A00 		add	r0, r1, #26
 1223              	.LVL123:
 1224              		.loc 1 1722 6 view .LVU350
 1225 000c FFF7FEFF 		bl	ld_word
 1226              	.LVL124:
 1227              		.loc 1 1722 5 view .LVU351
 1228 0010 60BB     		cbnz	r0, .L106
1723:Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
 1229              		.loc 1 1724 2 is_stmt 1 view .LVU352
 1230              		.loc 1 1724 11 is_stmt 0 view .LVU353
 1231 0012 3578     		ldrb	r5, [r6]	@ zero_extendqisi2
 1232              		.loc 1 1724 22 view .LVU354
 1233 0014 25F04005 		bic	r5, r5, #64
 1234              		.loc 1 1724 31 view .LVU355
 1235 0018 013D     		subs	r5, r5, #1
 1236              		.loc 1 1724 36 view .LVU356
 1237 001a 05EB4503 		add	r3, r5, r5, lsl #1
 1238              		.loc 1 1724 4 view .LVU357
 1239 001e 05EB8305 		add	r5, r5, r3, lsl #2
 1240              	.LVL125:
1725:Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
 1241              		.loc 1 1726 2 is_stmt 1 view .LVU358
 1242              		.loc 1 1726 10 is_stmt 0 view .LVU359
 1243 0022 0127     		movs	r7, #1
 1244              		.loc 1 1726 17 view .LVU360
 1245 0024 0024     		movs	r4, #0
ARM GAS  /tmp/cc9mPikx.s 			page 54


 1246              		.loc 1 1726 2 view .LVU361
 1247 0026 04E0     		b	.L102
 1248              	.LVL126:
 1249              	.L113:
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1250              		.loc 1 1730 4 is_stmt 1 view .LVU362
 1251              		.loc 1 1730 16 is_stmt 0 view .LVU363
 1252 0028 28F81500 		strh	r0, [r8, r5, lsl #1]	@ movhi
 1253              		.loc 1 1730 21 view .LVU364
 1254 002c 0746     		mov	r7, r0
 1255              		.loc 1 1730 12 view .LVU365
 1256 002e 0135     		adds	r5, r5, #1
 1257              	.LVL127:
 1258              	.L104:
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1259              		.loc 1 1726 30 is_stmt 1 discriminator 2 view .LVU366
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1260              		.loc 1 1726 31 is_stmt 0 discriminator 2 view .LVU367
 1261 0030 0134     		adds	r4, r4, #1
 1262              	.LVL128:
 1263              	.L102:
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1264              		.loc 1 1726 22 is_stmt 1 discriminator 1 view .LVU368
1726:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1265              		.loc 1 1726 2 is_stmt 0 discriminator 1 view .LVU369
 1266 0032 0C2C     		cmp	r4, #12
 1267 0034 0FD8     		bhi	.L112
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1268              		.loc 1 1727 3 is_stmt 1 view .LVU370
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1269              		.loc 1 1727 28 is_stmt 0 view .LVU371
 1270 0036 114B     		ldr	r3, .L114
 1271 0038 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 1272              		.loc 1 1727 8 view .LVU372
 1273 003a 3044     		add	r0, r0, r6
 1274 003c FFF7FEFF 		bl	ld_word
 1275              	.LVL129:
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 1276              		.loc 1 1728 3 is_stmt 1 view .LVU373
1728:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 1277              		.loc 1 1728 6 is_stmt 0 view .LVU374
 1278 0040 1FB1     		cbz	r7, .L103
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1279              		.loc 1 1729 4 is_stmt 1 view .LVU375
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1280              		.loc 1 1729 7 is_stmt 0 view .LVU376
 1281 0042 FE2D     		cmp	r5, #254
 1282 0044 F0D9     		bls	.L113
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 1283              		.loc 1 1729 30 view .LVU377
 1284 0046 0020     		movs	r0, #0
 1285              	.LVL130:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
ARM GAS  /tmp/cc9mPikx.s 			page 55


 1286              		.loc 1 1729 30 view .LVU378
 1287 0048 11E0     		b	.L100
 1288              	.LVL131:
 1289              	.L103:
1731:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
 1290              		.loc 1 1732 4 is_stmt 1 view .LVU379
 1291              		.loc 1 1732 7 is_stmt 0 view .LVU380
 1292 004a 4FF6FF73 		movw	r3, #65535
 1293 004e 9842     		cmp	r0, r3
 1294 0050 EED0     		beq	.L104
 1295              		.loc 1 1732 29 view .LVU381
 1296 0052 0020     		movs	r0, #0
 1297              	.LVL132:
 1298              		.loc 1 1732 29 view .LVU382
 1299 0054 0BE0     		b	.L100
 1300              	.L112:
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
 1301              		.loc 1 1736 2 is_stmt 1 view .LVU383
 1302              		.loc 1 1736 9 is_stmt 0 view .LVU384
 1303 0056 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 1304              		.loc 1 1736 5 view .LVU385
 1305 0058 13F0400F 		tst	r3, #64
 1306 005c 09D0     		beq	.L109
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
 1307              		.loc 1 1737 3 is_stmt 1 view .LVU386
 1308              		.loc 1 1737 6 is_stmt 0 view .LVU387
 1309 005e FE2D     		cmp	r5, #254
 1310 0060 09D8     		bhi	.L110
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 1311              		.loc 1 1738 3 is_stmt 1 view .LVU388
 1312              		.loc 1 1738 13 is_stmt 0 view .LVU389
 1313 0062 0023     		movs	r3, #0
 1314 0064 28F81530 		strh	r3, [r8, r5, lsl #1]	@ movhi
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
 1315              		.loc 1 1741 9 view .LVU390
 1316 0068 0120     		movs	r0, #1
 1317 006a 00E0     		b	.L100
 1318              	.LVL133:
 1319              	.L106:
1722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1320              		.loc 1 1722 49 view .LVU391
 1321 006c 0020     		movs	r0, #0
 1322              	.L100:
1742:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1323              		.loc 1 1742 1 view .LVU392
 1324 006e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1325              	.LVL134:
 1326              	.L109:
1741:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1327              		.loc 1 1741 9 view .LVU393
 1328 0072 0120     		movs	r0, #1
ARM GAS  /tmp/cc9mPikx.s 			page 56


 1329 0074 FBE7     		b	.L100
 1330              	.L110:
1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 1331              		.loc 1 1737 29 view .LVU394
 1332 0076 0020     		movs	r0, #0
 1333 0078 F9E7     		b	.L100
 1334              	.L115:
 1335 007a 00BF     		.align	2
 1336              	.L114:
 1337 007c 00000000 		.word	.LANCHOR1
 1338              		.cfi_endproc
 1339              	.LFE378:
 1341              		.section	.text.put_lfn,"ax",%progbits
 1342              		.align	1
 1343              		.syntax unified
 1344              		.thumb
 1345              		.thumb_func
 1346              		.fpu fpv5-d16
 1348              	put_lfn:
 1349              	.LVL135:
 1350              	.LFB379:
1743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1351              		.loc 1 1757 1 is_stmt 1 view -0
 1352              		.cfi_startproc
 1353              		@ args = 0, pretend = 0, frame = 0
 1354              		@ frame_needed = 0, uses_anonymous_args = 0
 1355              		.loc 1 1757 1 is_stmt 0 view .LVU396
 1356 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1357              	.LCFI17:
 1358              		.cfi_def_cfa_offset 32
 1359              		.cfi_offset 3, -32
 1360              		.cfi_offset 4, -28
 1361              		.cfi_offset 5, -24
 1362              		.cfi_offset 6, -20
 1363              		.cfi_offset 7, -16
 1364              		.cfi_offset 8, -12
 1365              		.cfi_offset 9, -8
 1366              		.cfi_offset 14, -4
 1367 0004 8046     		mov	r8, r0
 1368 0006 0F46     		mov	r7, r1
 1369 0008 9146     		mov	r9, r2
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 1370              		.loc 1 1758 2 is_stmt 1 view .LVU397
ARM GAS  /tmp/cc9mPikx.s 			page 57


1759:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
 1371              		.loc 1 1759 2 view .LVU398
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
 1372              		.loc 1 1762 2 view .LVU399
 1373              		.loc 1 1762 19 is_stmt 0 view .LVU400
 1374 000a 4B73     		strb	r3, [r1, #13]
1763:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
 1375              		.loc 1 1763 2 is_stmt 1 view .LVU401
 1376              		.loc 1 1763 17 is_stmt 0 view .LVU402
 1377 000c 0F23     		movs	r3, #15
 1378              	.LVL136:
 1379              		.loc 1 1763 17 view .LVU403
 1380 000e CB72     		strb	r3, [r1, #11]
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
 1381              		.loc 1 1764 2 is_stmt 1 view .LVU404
 1382              		.loc 1 1764 17 is_stmt 0 view .LVU405
 1383 0010 0024     		movs	r4, #0
 1384 0012 0C73     		strb	r4, [r1, #12]
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
 1385              		.loc 1 1765 2 is_stmt 1 view .LVU406
 1386 0014 2146     		mov	r1, r4
 1387              	.LVL137:
 1388              		.loc 1 1765 2 is_stmt 0 view .LVU407
 1389 0016 07F11A00 		add	r0, r7, #26
 1390              	.LVL138:
 1391              		.loc 1 1765 2 view .LVU408
 1392 001a FFF7FEFF 		bl	st_word
 1393              	.LVL139:
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
 1394              		.loc 1 1767 2 is_stmt 1 view .LVU409
 1395              		.loc 1 1767 11 is_stmt 0 view .LVU410
 1396 001e 09F1FF36 		add	r6, r9, #-1
 1397              		.loc 1 1767 16 view .LVU411
 1398 0022 06EB4603 		add	r3, r6, r6, lsl #1
 1399              		.loc 1 1767 4 view .LVU412
 1400 0026 06EB8306 		add	r6, r6, r3, lsl #2
 1401              	.LVL140:
1768:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
 1402              		.loc 1 1768 2 is_stmt 1 view .LVU413
 1403              		.loc 1 1768 9 is_stmt 0 view .LVU414
 1404 002a 2546     		mov	r5, r4
 1405 002c 02E0     		b	.L119
 1406              	.LVL141:
 1407              	.L118:
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
1773:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1408              		.loc 1 1773 10 is_stmt 1 view .LVU415
 1409              		.loc 1 1773 2 is_stmt 0 view .LVU416
 1410 002e 0134     		adds	r4, r4, #1
 1411              	.LVL142:
 1412              		.loc 1 1773 2 view .LVU417
ARM GAS  /tmp/cc9mPikx.s 			page 58


 1413 0030 0C2C     		cmp	r4, #12
 1414 0032 11D8     		bhi	.L124
 1415              	.LVL143:
 1416              	.L119:
1769:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 1417              		.loc 1 1769 2 is_stmt 1 view .LVU418
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1418              		.loc 1 1770 3 view .LVU419
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1419              		.loc 1 1770 6 is_stmt 0 view .LVU420
 1420 0034 4FF6FF73 		movw	r3, #65535
 1421 0038 9D42     		cmp	r5, r3
 1422 003a 02D0     		beq	.L117
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1423              		.loc 1 1770 21 is_stmt 1 discriminator 1 view .LVU421
 1424              	.LVL144:
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1425              		.loc 1 1770 24 is_stmt 0 discriminator 1 view .LVU422
 1426 003c 38F81650 		ldrh	r5, [r8, r6, lsl #1]
 1427              	.LVL145:
1770:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 1428              		.loc 1 1770 31 discriminator 1 view .LVU423
 1429 0040 0136     		adds	r6, r6, #1
 1430              	.LVL146:
 1431              	.L117:
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1432              		.loc 1 1771 3 is_stmt 1 view .LVU424
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1433              		.loc 1 1771 23 is_stmt 0 view .LVU425
 1434 0042 0C4B     		ldr	r3, .L125
 1435 0044 185D     		ldrb	r0, [r3, r4]	@ zero_extendqisi2
1771:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 1436              		.loc 1 1771 3 view .LVU426
 1437 0046 2946     		mov	r1, r5
 1438 0048 3844     		add	r0, r0, r7
 1439 004a FFF7FEFF 		bl	st_word
 1440              	.LVL147:
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1441              		.loc 1 1772 3 is_stmt 1 view .LVU427
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1442              		.loc 1 1772 6 is_stmt 0 view .LVU428
 1443 004e 002D     		cmp	r5, #0
 1444 0050 EDD1     		bne	.L118
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1445              		.loc 1 1772 19 view .LVU429
 1446 0052 4FF6FF75 		movw	r5, #65535
 1447              	.LVL148:
1772:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 1448              		.loc 1 1772 19 view .LVU430
 1449 0056 EAE7     		b	.L118
 1450              	.LVL149:
 1451              	.L124:
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
 1452              		.loc 1 1774 2 is_stmt 1 view .LVU431
 1453              		.loc 1 1774 5 is_stmt 0 view .LVU432
 1454 0058 4FF6FF73 		movw	r3, #65535
 1455 005c 9D42     		cmp	r5, r3
ARM GAS  /tmp/cc9mPikx.s 			page 59


 1456 005e 02D0     		beq	.L120
 1457              		.loc 1 1774 26 discriminator 2 view .LVU433
 1458 0060 38F81630 		ldrh	r3, [r8, r6, lsl #1]
 1459              		.loc 1 1774 19 discriminator 2 view .LVU434
 1460 0064 0BB9     		cbnz	r3, .L121
 1461              	.L120:
 1462              		.loc 1 1774 31 is_stmt 1 discriminator 3 view .LVU435
 1463              		.loc 1 1774 35 is_stmt 0 discriminator 3 view .LVU436
 1464 0066 49F04009 		orr	r9, r9, #64
 1465              	.LVL150:
 1466              	.L121:
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
 1467              		.loc 1 1775 2 is_stmt 1 view .LVU437
 1468              		.loc 1 1775 16 is_stmt 0 view .LVU438
 1469 006a 87F80090 		strb	r9, [r7]
1776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1470              		.loc 1 1776 1 view .LVU439
 1471 006e BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1472              	.LVL151:
 1473              	.L126:
 1474              		.loc 1 1776 1 view .LVU440
 1475 0072 00BF     		.align	2
 1476              	.L125:
 1477 0074 00000000 		.word	.LANCHOR1
 1478              		.cfi_endproc
 1479              	.LFE379:
 1481              		.section	.text.gen_numname,"ax",%progbits
 1482              		.align	1
 1483              		.syntax unified
 1484              		.thumb
 1485              		.thumb_func
 1486              		.fpu fpv5-d16
 1488              	gen_numname:
 1489              	.LVL152:
 1490              	.LFB380:
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1491              		.loc 1 1795 1 is_stmt 1 view -0
 1492              		.cfi_startproc
 1493              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/cc9mPikx.s 			page 60


 1494              		@ frame_needed = 0, uses_anonymous_args = 0
 1495              		.loc 1 1795 1 is_stmt 0 view .LVU442
 1496 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1497              	.LCFI18:
 1498              		.cfi_def_cfa_offset 20
 1499              		.cfi_offset 4, -20
 1500              		.cfi_offset 5, -16
 1501              		.cfi_offset 6, -12
 1502              		.cfi_offset 7, -8
 1503              		.cfi_offset 14, -4
 1504 0002 83B0     		sub	sp, sp, #12
 1505              	.LCFI19:
 1506              		.cfi_def_cfa_offset 32
 1507 0004 0646     		mov	r6, r0
 1508 0006 1746     		mov	r7, r2
 1509 0008 1C46     		mov	r4, r3
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
 1510              		.loc 1 1796 2 is_stmt 1 view .LVU443
1797:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 1511              		.loc 1 1797 2 view .LVU444
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
 1512              		.loc 1 1798 2 view .LVU445
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
 1513              		.loc 1 1799 2 view .LVU446
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
 1514              		.loc 1 1802 2 view .LVU447
 1515 000a 0B22     		movs	r2, #11
 1516              	.LVL153:
 1517              		.loc 1 1802 2 is_stmt 0 view .LVU448
 1518 000c FFF7FEFF 		bl	mem_cpy
 1519              	.LVL154:
1803:Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
 1520              		.loc 1 1804 2 is_stmt 1 view .LVU449
 1521              		.loc 1 1804 5 is_stmt 0 view .LVU450
 1522 0010 052C     		cmp	r4, #5
 1523 0012 11D8     		bhi	.L128
 1524              	.LVL155:
 1525              	.L129:
1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1526              		.loc 1 1808 11 view .LVU451
 1527 0014 0723     		movs	r3, #7
 1528 0016 1FE0     		b	.L135
 1529              	.LVL156:
 1530              	.L131:
 1531              		.loc 1 1808 24 is_stmt 1 discriminator 2 view .LVU452
 1532              		.loc 1 1808 25 is_stmt 0 discriminator 2 view .LVU453
 1533 0018 0131     		adds	r1, r1, #1
 1534              	.LVL157:
 1535              	.L130:
 1536              		.loc 1 1808 16 is_stmt 1 discriminator 1 view .LVU454
 1537              		.loc 1 1808 4 is_stmt 0 discriminator 1 view .LVU455
ARM GAS  /tmp/cc9mPikx.s 			page 61


 1538 001a 0F29     		cmp	r1, #15
 1539 001c 0CD8     		bhi	.L128
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1540              		.loc 1 1809 5 is_stmt 1 view .LVU456
 1541              		.loc 1 1809 26 is_stmt 0 view .LVU457
 1542 001e 03F00105 		and	r5, r3, #1
 1543              		.loc 1 1809 8 view .LVU458
 1544 0022 05EB4404 		add	r4, r5, r4, lsl #1
 1545              	.LVL158:
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
 1546              		.loc 1 1810 5 is_stmt 1 view .LVU459
 1547              		.loc 1 1810 8 is_stmt 0 view .LVU460
 1548 0026 5B08     		lsrs	r3, r3, #1
 1549              	.LVL159:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
 1550              		.loc 1 1811 5 is_stmt 1 view .LVU461
 1551              		.loc 1 1811 8 is_stmt 0 view .LVU462
 1552 0028 14F4803F 		tst	r4, #65536
 1553 002c F4D0     		beq	.L131
 1554              		.loc 1 1811 23 is_stmt 1 discriminator 1 view .LVU463
 1555              		.loc 1 1811 26 is_stmt 0 discriminator 1 view .LVU464
 1556 002e 84F48834 		eor	r4, r4, #69632
 1557              	.LVL160:
 1558              		.loc 1 1811 26 discriminator 1 view .LVU465
 1559 0032 84F02104 		eor	r4, r4, #33
 1560              	.LVL161:
 1561              		.loc 1 1811 26 discriminator 1 view .LVU466
 1562 0036 EFE7     		b	.L131
 1563              	.LVL162:
 1564              	.L128:
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1565              		.loc 1 1806 9 is_stmt 1 view .LVU467
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1566              		.loc 1 1806 10 is_stmt 0 view .LVU468
 1567 0038 3B88     		ldrh	r3, [r7]
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 1568              		.loc 1 1806 9 view .LVU469
 1569 003a 002B     		cmp	r3, #0
 1570 003c EAD0     		beq	.L129
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1571              		.loc 1 1807 4 is_stmt 1 view .LVU470
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 1572              		.loc 1 1807 13 is_stmt 0 view .LVU471
 1573 003e 0237     		adds	r7, r7, #2
 1574              	.LVL163:
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1575              		.loc 1 1808 4 is_stmt 1 view .LVU472
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1576              		.loc 1 1808 11 is_stmt 0 view .LVU473
 1577 0040 0021     		movs	r1, #0
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 1578              		.loc 1 1808 4 view .LVU474
 1579 0042 EAE7     		b	.L130
 1580              	.LVL164:
 1581              	.L134:
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc9mPikx.s 			page 62


1814:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1582              		.loc 1 1822 3 is_stmt 1 view .LVU475
 1583              		.loc 1 1822 7 is_stmt 0 view .LVU476
 1584 0044 5A1E     		subs	r2, r3, #1
 1585              	.LVL165:
 1586              		.loc 1 1822 11 view .LVU477
 1587 0046 02A8     		add	r0, sp, #8
 1588 0048 0344     		add	r3, r3, r0
 1589 004a 03F8081C 		strb	r1, [r3, #-8]
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1590              		.loc 1 1823 3 is_stmt 1 view .LVU478
 1591              		.loc 1 1823 7 is_stmt 0 view .LVU479
 1592 004e 2109     		lsrs	r1, r4, #4
 1593              	.LVL166:
1824:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
 1594              		.loc 1 1824 10 is_stmt 1 view .LVU480
 1595              		.loc 1 1824 2 is_stmt 0 view .LVU481
 1596 0050 0F2C     		cmp	r4, #15
 1597 0052 0AD9     		bls	.L145
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1598              		.loc 1 1822 7 view .LVU482
 1599 0054 1346     		mov	r3, r2
 1600              	.LVL167:
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 1601              		.loc 1 1823 7 view .LVU483
 1602 0056 0C46     		mov	r4, r1
 1603              	.LVL168:
 1604              	.L135:
1819:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
 1605              		.loc 1 1819 2 is_stmt 1 view .LVU484
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1606              		.loc 1 1820 3 view .LVU485
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1607              		.loc 1 1820 7 is_stmt 0 view .LVU486
 1608 0058 04F00F02 		and	r2, r4, #15
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 1609              		.loc 1 1820 5 view .LVU487
 1610 005c 02F13001 		add	r1, r2, #48
 1611              	.LVL169:
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1612              		.loc 1 1821 3 is_stmt 1 view .LVU488
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1613              		.loc 1 1821 6 is_stmt 0 view .LVU489
 1614 0060 3929     		cmp	r1, #57
 1615 0062 EFD9     		bls	.L134
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1616              		.loc 1 1821 16 is_stmt 1 discriminator 1 view .LVU490
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1617              		.loc 1 1821 18 is_stmt 0 discriminator 1 view .LVU491
ARM GAS  /tmp/cc9mPikx.s 			page 63


 1618 0064 02F13701 		add	r1, r2, #55
 1619              	.LVL170:
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 1620              		.loc 1 1821 18 discriminator 1 view .LVU492
 1621 0068 ECE7     		b	.L134
 1622              	.LVL171:
 1623              	.L145:
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
 1624              		.loc 1 1825 2 is_stmt 1 view .LVU493
 1625              		.loc 1 1825 8 is_stmt 0 view .LVU494
 1626 006a 7E21     		movs	r1, #126
 1627              	.LVL172:
 1628              		.loc 1 1825 8 view .LVU495
 1629 006c 0346     		mov	r3, r0
 1630              	.LVL173:
 1631              		.loc 1 1825 8 view .LVU496
 1632 006e 1344     		add	r3, r3, r2
 1633 0070 03F8081C 		strb	r1, [r3, #-8]
 1634              	.LVL174:
1826:Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
 1635              		.loc 1 1828 2 is_stmt 1 view .LVU497
 1636              		.loc 1 1828 9 is_stmt 0 view .LVU498
 1637 0074 0023     		movs	r3, #0
 1638              		.loc 1 1828 2 view .LVU499
 1639 0076 00E0     		b	.L136
 1640              	.LVL175:
 1641              	.L138:
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1642              		.loc 1 1829 3 is_stmt 1 discriminator 2 view .LVU500
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1643              		.loc 1 1828 38 discriminator 2 view .LVU501
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1644              		.loc 1 1828 39 is_stmt 0 discriminator 2 view .LVU502
 1645 0078 0133     		adds	r3, r3, #1
 1646              	.LVL176:
 1647              	.L136:
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1648              		.loc 1 1828 14 is_stmt 1 discriminator 1 view .LVU503
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1649              		.loc 1 1828 2 is_stmt 0 discriminator 1 view .LVU504
 1650 007a 9342     		cmp	r3, r2
 1651 007c 09D2     		bcs	.L140
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1652              		.loc 1 1828 26 discriminator 3 view .LVU505
 1653 007e F15C     		ldrb	r1, [r6, r3]	@ zero_extendqisi2
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
 1654              		.loc 1 1828 20 discriminator 3 view .LVU506
 1655 0080 2029     		cmp	r1, #32
 1656 0082 F9D1     		bne	.L138
 1657 0084 05E0     		b	.L140
 1658              	.L142:
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc9mPikx.s 			page 64


1834:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 1659              		.loc 1 1835 12 view .LVU507
 1660 0086 2020     		movs	r0, #32
 1661              	.L139:
 1662              		.loc 1 1835 8 discriminator 4 view .LVU508
 1663 0088 591C     		adds	r1, r3, #1
 1664              	.LVL177:
 1665              		.loc 1 1835 12 discriminator 4 view .LVU509
 1666 008a F054     		strb	r0, [r6, r3]
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1667              		.loc 1 1836 10 is_stmt 1 discriminator 4 view .LVU510
 1668              		.loc 1 1836 2 is_stmt 0 discriminator 4 view .LVU511
 1669 008c 0729     		cmp	r1, #7
 1670 008e 08D8     		bhi	.L146
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1671              		.loc 1 1835 8 view .LVU512
 1672 0090 0B46     		mov	r3, r1
 1673              	.LVL178:
 1674              	.L140:
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 1675              		.loc 1 1834 2 is_stmt 1 view .LVU513
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1676              		.loc 1 1835 3 view .LVU514
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1677              		.loc 1 1835 12 is_stmt 0 view .LVU515
 1678 0092 072A     		cmp	r2, #7
 1679 0094 F7D8     		bhi	.L142
 1680              	.LVL179:
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1681              		.loc 1 1835 12 discriminator 1 view .LVU516
 1682 0096 02A9     		add	r1, sp, #8
 1683 0098 1144     		add	r1, r1, r2
 1684 009a 11F8080C 		ldrb	r0, [r1, #-8]	@ zero_extendqisi2
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1685              		.loc 1 1835 28 discriminator 1 view .LVU517
 1686 009e 0132     		adds	r2, r2, #1
 1687              	.LVL180:
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 1688              		.loc 1 1835 28 discriminator 1 view .LVU518
 1689 00a0 F2E7     		b	.L139
 1690              	.LVL181:
 1691              	.L146:
1837:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1692              		.loc 1 1837 1 view .LVU519
 1693 00a2 03B0     		add	sp, sp, #12
 1694              	.LCFI20:
 1695              		.cfi_def_cfa_offset 20
 1696              		@ sp needed
 1697 00a4 F0BD     		pop	{r4, r5, r6, r7, pc}
 1698              		.loc 1 1837 1 view .LVU520
 1699              		.cfi_endproc
 1700              	.LFE380:
 1702              		.section	.text.sum_sfn,"ax",%progbits
 1703              		.align	1
 1704              		.syntax unified
 1705              		.thumb
ARM GAS  /tmp/cc9mPikx.s 			page 65


 1706              		.thumb_func
 1707              		.fpu fpv5-d16
 1709              	sum_sfn:
 1710              	.LVL182:
 1711              	.LFB381:
1838:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1712              		.loc 1 1851 1 is_stmt 1 view -0
 1713              		.cfi_startproc
 1714              		@ args = 0, pretend = 0, frame = 0
 1715              		@ frame_needed = 0, uses_anonymous_args = 0
 1716              		@ link register save eliminated.
 1717              		.loc 1 1851 1 is_stmt 0 view .LVU522
 1718 0000 10B4     		push	{r4}
 1719              	.LCFI21:
 1720              		.cfi_def_cfa_offset 4
 1721              		.cfi_offset 4, -4
 1722 0002 0146     		mov	r1, r0
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 1723              		.loc 1 1852 2 is_stmt 1 view .LVU523
 1724              	.LVL183:
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
 1725              		.loc 1 1853 2 view .LVU524
 1726              		.loc 1 1853 7 is_stmt 0 view .LVU525
 1727 0004 0B24     		movs	r4, #11
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 1728              		.loc 1 1852 7 view .LVU526
 1729 0006 0020     		movs	r0, #0
 1730              	.LVL184:
 1731              	.L148:
1854:Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 1732              		.loc 1 1855 2 is_stmt 1 discriminator 1 view .LVU527
1856:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
 1733              		.loc 1 1856 3 discriminator 1 view .LVU528
 1734              		.loc 1 1856 20 is_stmt 0 discriminator 1 view .LVU529
 1735 0008 C301     		lsls	r3, r0, #7
 1736 000a 43EA5003 		orr	r3, r3, r0, lsr #1
 1737              		.loc 1 1856 35 discriminator 1 view .LVU530
 1738 000e 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 1739              	.LVL185:
 1740              		.loc 1 1856 35 discriminator 1 view .LVU531
 1741 0010 0131     		adds	r1, r1, #1
 1742              	.LVL186:
 1743              		.loc 1 1856 7 discriminator 1 view .LVU532
ARM GAS  /tmp/cc9mPikx.s 			page 66


 1744 0012 50FA83F3 		uxtab	r3, r0, r3
 1745 0016 D8B2     		uxtb	r0, r3
 1746              	.LVL187:
1857:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
 1747              		.loc 1 1857 10 is_stmt 1 discriminator 1 view .LVU533
 1748              		.loc 1 1857 2 is_stmt 0 discriminator 1 view .LVU534
 1749 0018 013C     		subs	r4, r4, #1
 1750              	.LVL188:
 1751              		.loc 1 1857 2 discriminator 1 view .LVU535
 1752 001a F5D1     		bne	.L148
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1859:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1753              		.loc 1 1859 1 view .LVU536
 1754 001c 5DF8044B 		ldr	r4, [sp], #4
 1755              	.LCFI22:
 1756              		.cfi_restore 4
 1757              		.cfi_def_cfa_offset 0
 1758              	.LVL189:
 1759              		.loc 1 1859 1 view .LVU537
 1760 0020 7047     		bx	lr
 1761              		.cfi_endproc
 1762              	.LFE381:
 1764              		.section	.text.get_ldnumber,"ax",%progbits
 1765              		.align	1
 1766              		.syntax unified
 1767              		.thumb
 1768              		.thumb_func
 1769              		.fpu fpv5-d16
 1771              	get_ldnumber:
 1772              	.LVL190:
 1773              	.LFB389:
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:Middlewares/Third_Party/FatFs/src/ff.c **** {
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc9mPikx.s 			page 67


1886:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
ARM GAS  /tmp/cc9mPikx.s 			page 68


1943:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
ARM GAS  /tmp/cc9mPikx.s 			page 69


2000:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
ARM GAS  /tmp/cc9mPikx.s 			page 70


2057:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
ARM GAS  /tmp/cc9mPikx.s 			page 71


2114:Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:Middlewares/Third_Party/FatFs/src/ff.c **** {
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
2139:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
2141:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
ARM GAS  /tmp/cc9mPikx.s 			page 72


2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
2183:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** }
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:Middlewares/Third_Party/FatFs/src/ff.c **** {
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2223:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
ARM GAS  /tmp/cc9mPikx.s 			page 73


2228:Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
2251:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
2252:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
2266:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
2271:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2281:Middlewares/Third_Party/FatFs/src/ff.c **** }
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 74


2285:Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:Middlewares/Third_Party/FatFs/src/ff.c **** {
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2298:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2313:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/cc9mPikx.s 			page 75


2342:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
2378:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2384:Middlewares/Third_Party/FatFs/src/ff.c **** }
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cc9mPikx.s 			page 76


2399:Middlewares/Third_Party/FatFs/src/ff.c **** {
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
2415:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2432:Middlewares/Third_Party/FatFs/src/ff.c **** }
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
2455:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9mPikx.s 			page 77


2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
2471:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
2472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
2495:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
2497:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
ARM GAS  /tmp/cc9mPikx.s 			page 78


2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2520:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
2526:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
2528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
2534:Middlewares/Third_Party/FatFs/src/ff.c **** }
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  /tmp/cc9mPikx.s 			page 79


2570:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:Middlewares/Third_Party/FatFs/src/ff.c **** {
2623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
ARM GAS  /tmp/cc9mPikx.s 			page 80


2627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
2648:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2654:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
ARM GAS  /tmp/cc9mPikx.s 			page 81


2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
2694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
2697:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2717:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2734:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2739:Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 82


2741:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
2743:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2745:Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
2750:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2754:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
2797:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 83


2798:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:Middlewares/Third_Party/FatFs/src/ff.c **** }
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:Middlewares/Third_Party/FatFs/src/ff.c **** {
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
ARM GAS  /tmp/cc9mPikx.s 			page 84


2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2894:Middlewares/Third_Party/FatFs/src/ff.c **** }
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2900:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1774              		.loc 1 2907 1 is_stmt 1 view -0
 1775              		.cfi_startproc
 1776              		@ args = 0, pretend = 0, frame = 0
 1777              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc9mPikx.s 			page 85


 1778              		@ link register save eliminated.
 1779              		.loc 1 2907 1 is_stmt 0 view .LVU539
 1780 0000 0146     		mov	r1, r0
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1781              		.loc 1 2908 2 is_stmt 1 view .LVU540
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1782              		.loc 1 2909 2 view .LVU541
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1783              		.loc 1 2910 2 view .LVU542
 1784              	.LVL191:
2911:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1785              		.loc 1 2919 2 view .LVU543
 1786              		.loc 1 2919 6 is_stmt 0 view .LVU544
 1787 0002 0068     		ldr	r0, [r0]
 1788              	.LVL192:
 1789              		.loc 1 2919 5 view .LVU545
 1790 0004 08B1     		cbz	r0, .L159
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1791              		.loc 1 2920 11 view .LVU546
 1792 0006 0246     		mov	r2, r0
 1793 0008 03E0     		b	.L151
 1794              	.L159:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1795              		.loc 1 2910 6 view .LVU547
 1796 000a 4FF0FF30 		mov	r0, #-1
 1797 000e 7047     		bx	lr
 1798              	.LVL193:
 1799              	.L153:
 1800              		.loc 1 2920 77 is_stmt 1 discriminator 3 view .LVU548
 1801              		.loc 1 2920 71 discriminator 3 view .LVU549
 1802              		.loc 1 2920 73 is_stmt 0 discriminator 3 view .LVU550
 1803 0010 0132     		adds	r2, r2, #1
 1804              	.LVL194:
 1805              	.L151:
 1806              		.loc 1 2920 20 is_stmt 1 discriminator 1 view .LVU551
 1807              		.loc 1 2920 26 is_stmt 0 discriminator 1 view .LVU552
 1808 0012 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1809              		.loc 1 2920 3 discriminator 1 view .LVU553
 1810 0014 3A2B     		cmp	r3, #58
 1811 0016 18BF     		it	ne
 1812 0018 1F2B     		cmpne	r3, #31
 1813 001a F9D8     		bhi	.L153
2921:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1814              		.loc 1 2921 3 is_stmt 1 view .LVU554
 1815              		.loc 1 2921 6 is_stmt 0 view .LVU555
 1816 001c 3A2B     		cmp	r3, #58
 1817 001e 01D0     		beq	.L160
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
ARM GAS  /tmp/cc9mPikx.s 			page 86


2924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2928:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2947:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1818              		.loc 1 2951 7 view .LVU556
 1819 0020 0020     		movs	r0, #0
 1820              	.LVL195:
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2955:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1821              		.loc 1 2955 1 view .LVU557
 1822 0022 7047     		bx	lr
 1823              	.LVL196:
 1824              	.L160:
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1825              		.loc 1 2922 4 is_stmt 1 view .LVU558
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1826              		.loc 1 2923 4 view .LVU559
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1827              		.loc 1 2923 11 is_stmt 0 view .LVU560
 1828 0024 0346     		mov	r3, r0
 1829              	.LVL197:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1830              		.loc 1 2923 8 view .LVU561
 1831 0026 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1832              	.LVL198:
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1833              		.loc 1 2923 14 view .LVU562
 1834 002a 3038     		subs	r0, r0, #48
 1835              	.LVL199:
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1836              		.loc 1 2924 4 is_stmt 1 view .LVU563
ARM GAS  /tmp/cc9mPikx.s 			page 87


2924:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1837              		.loc 1 2924 7 is_stmt 0 view .LVU564
 1838 002c 0928     		cmp	r0, #9
 1839 002e 98BF     		it	ls
 1840 0030 9A42     		cmpls	r2, r3
 1841 0032 03D1     		bne	.L157
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1842              		.loc 1 2925 5 is_stmt 1 view .LVU565
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1843              		.loc 1 2925 8 is_stmt 0 view .LVU566
 1844 0034 28B9     		cbnz	r0, .L158
2926:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1845              		.loc 1 2926 6 is_stmt 1 view .LVU567
 1846              	.LVL200:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1847              		.loc 1 2927 6 view .LVU568
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1848              		.loc 1 2927 12 is_stmt 0 view .LVU569
 1849 0036 0132     		adds	r2, r2, #1
 1850              	.LVL201:
2927:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1851              		.loc 1 2927 12 view .LVU570
 1852 0038 0A60     		str	r2, [r1]
 1853 003a 7047     		bx	lr
 1854              	.LVL202:
 1855              	.L157:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1856              		.loc 1 2910 6 view .LVU571
 1857 003c 4FF0FF30 		mov	r0, #-1
 1858              	.LVL203:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1859              		.loc 1 2910 6 view .LVU572
 1860 0040 7047     		bx	lr
 1861              	.LVL204:
 1862              	.L158:
2910:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1863              		.loc 1 2910 6 view .LVU573
 1864 0042 4FF0FF30 		mov	r0, #-1
 1865              	.LVL205:
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1866              		.loc 1 2946 4 is_stmt 1 view .LVU574
2946:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1867              		.loc 1 2946 11 is_stmt 0 view .LVU575
 1868 0046 7047     		bx	lr
 1869              		.cfi_endproc
 1870              	.LFE389:
 1872              		.section	.text.putc_init,"ax",%progbits
 1873              		.align	1
 1874              		.syntax unified
 1875              		.thumb
 1876              		.thumb_func
 1877              		.fpu fpv5-d16
 1879              	putc_init:
 1880              	.LVL206:
 1881              	.LFB413:
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 88


2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:Middlewares/Third_Party/FatFs/src/ff.c **** {
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
2972:Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
2983:Middlewares/Third_Party/FatFs/src/ff.c **** }
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2989:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:Middlewares/Third_Party/FatFs/src/ff.c **** {
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
ARM GAS  /tmp/cc9mPikx.s 			page 89


3015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
3019:Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
3062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 90


3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 91


3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
3157:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
3169:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
3181:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
3184:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9mPikx.s 			page 92


3186:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3206:Middlewares/Third_Party/FatFs/src/ff.c **** }
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:Middlewares/Third_Party/FatFs/src/ff.c **** {
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
3225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
3242:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
ARM GAS  /tmp/cc9mPikx.s 			page 93


3243:Middlewares/Third_Party/FatFs/src/ff.c **** }
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:Middlewares/Third_Party/FatFs/src/ff.c **** 
3248:Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:Middlewares/Third_Party/FatFs/src/ff.c **** {
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
3278:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3299:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cc9mPikx.s 			page 94


3300:Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:Middlewares/Third_Party/FatFs/src/ff.c **** {
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
3325:Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
3348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
3352:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
ARM GAS  /tmp/cc9mPikx.s 			page 95


3357:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
3365:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
ARM GAS  /tmp/cc9mPikx.s 			page 96


3414:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
3427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3445:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
3468:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
ARM GAS  /tmp/cc9mPikx.s 			page 97


3471:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
3487:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
3489:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3502:Middlewares/Third_Party/FatFs/src/ff.c **** }
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:Middlewares/Third_Party/FatFs/src/ff.c **** {
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
ARM GAS  /tmp/cc9mPikx.s 			page 98


3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
3540:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3544:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3563:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
3579:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9mPikx.s 			page 99


3585:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
3592:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3597:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3601:Middlewares/Third_Party/FatFs/src/ff.c **** }
3602:Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** )
3617:Middlewares/Third_Party/FatFs/src/ff.c **** {
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
ARM GAS  /tmp/cc9mPikx.s 			page 100


3642:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3667:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
3678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9mPikx.s 			page 101


3699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
3710:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
3717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
3723:Middlewares/Third_Party/FatFs/src/ff.c **** }
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3729:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:Middlewares/Third_Party/FatFs/src/ff.c **** {
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3747:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
3748:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
ARM GAS  /tmp/cc9mPikx.s 			page 102


3756:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3802:Middlewares/Third_Party/FatFs/src/ff.c **** }
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 103


3813:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:Middlewares/Third_Party/FatFs/src/ff.c **** {
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3823:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3827:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3840:Middlewares/Third_Party/FatFs/src/ff.c **** }
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
ARM GAS  /tmp/cc9mPikx.s 			page 104


3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
3899:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cc9mPikx.s 			page 105


3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc9mPikx.s 			page 106


3984:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:Middlewares/Third_Party/FatFs/src/ff.c **** {
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
ARM GAS  /tmp/cc9mPikx.s 			page 107


4041:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
4059:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
4067:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
4094:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
ARM GAS  /tmp/cc9mPikx.s 			page 108


4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
4107:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
4125:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
4131:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
4139:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
4147:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4153:Middlewares/Third_Party/FatFs/src/ff.c **** }
4154:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 109


4155:Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4159:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:Middlewares/Third_Party/FatFs/src/ff.c **** {
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
4205:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
ARM GAS  /tmp/cc9mPikx.s 			page 110


4212:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4223:Middlewares/Third_Party/FatFs/src/ff.c **** }
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:Middlewares/Third_Party/FatFs/src/ff.c **** {
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4242:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4256:Middlewares/Third_Party/FatFs/src/ff.c **** }
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cc9mPikx.s 			page 111


4269:Middlewares/Third_Party/FatFs/src/ff.c **** {
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4292:Middlewares/Third_Party/FatFs/src/ff.c **** }
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 112


4326:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:Middlewares/Third_Party/FatFs/src/ff.c **** {
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
4379:Middlewares/Third_Party/FatFs/src/ff.c **** }
4380:Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 113


4383:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:Middlewares/Third_Party/FatFs/src/ff.c **** {
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
ARM GAS  /tmp/cc9mPikx.s 			page 114


4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
4452:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
4455:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
4457:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4466:Middlewares/Third_Party/FatFs/src/ff.c **** }
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:Middlewares/Third_Party/FatFs/src/ff.c **** {
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
ARM GAS  /tmp/cc9mPikx.s 			page 115


4497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
4503:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
4513:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4516:Middlewares/Third_Party/FatFs/src/ff.c **** }
4517:Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:Middlewares/Third_Party/FatFs/src/ff.c **** {
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
4532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
ARM GAS  /tmp/cc9mPikx.s 			page 116


4554:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
4580:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
4598:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
4602:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
ARM GAS  /tmp/cc9mPikx.s 			page 117


4611:Middlewares/Third_Party/FatFs/src/ff.c **** }
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:Middlewares/Third_Party/FatFs/src/ff.c **** {
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
ARM GAS  /tmp/cc9mPikx.s 			page 118


4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4679:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4708:Middlewares/Third_Party/FatFs/src/ff.c **** }
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:Middlewares/Third_Party/FatFs/src/ff.c **** {
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
ARM GAS  /tmp/cc9mPikx.s 			page 119


4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
4737:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
4743:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4774:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
ARM GAS  /tmp/cc9mPikx.s 			page 120


4782:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
4786:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
4793:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
4803:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4811:Middlewares/Third_Party/FatFs/src/ff.c **** }
4812:Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
ARM GAS  /tmp/cc9mPikx.s 			page 121


4839:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4857:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9mPikx.s 			page 122


4896:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:Middlewares/Third_Party/FatFs/src/ff.c **** 
4914:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
ARM GAS  /tmp/cc9mPikx.s 			page 123


4953:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4971:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc9mPikx.s 			page 124


5010:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
5028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/cc9mPikx.s 			page 125


5067:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5085:Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9mPikx.s 			page 126


5124:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
5142:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
ARM GAS  /tmp/cc9mPikx.s 			page 127


5181:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5199:Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cc9mPikx.s 			page 128


5238:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
5256:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 129


5295:Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:Middlewares/Third_Party/FatFs/src/ff.c **** {
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
5332:Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5337:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
5338:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
5343:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
5346:Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
ARM GAS  /tmp/cc9mPikx.s 			page 130


5352:Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5363:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
5368:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
5370:Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
5382:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
ARM GAS  /tmp/cc9mPikx.s 			page 131


5409:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
5434:Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
ARM GAS  /tmp/cc9mPikx.s 			page 132


5466:Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
5491:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
ARM GAS  /tmp/cc9mPikx.s 			page 133


5523:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5548:Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
5554:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5559:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
5565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
5569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
5573:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
5576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
ARM GAS  /tmp/cc9mPikx.s 			page 134


5580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
5583:Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
5588:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
5590:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5599:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
5604:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
5605:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
5608:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5611:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
5615:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
5618:Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
5621:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
ARM GAS  /tmp/cc9mPikx.s 			page 135


5637:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
5639:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
5652:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
5653:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
5659:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
5662:Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
5674:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
5684:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
5686:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
ARM GAS  /tmp/cc9mPikx.s 			page 136


5694:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:Middlewares/Third_Party/FatFs/src/ff.c **** 
5696:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5703:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
5711:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
5714:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
5716:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5719:Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
5743:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
5747:Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
5749:Middlewares/Third_Party/FatFs/src/ff.c **** }
5750:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 137


5751:Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
5791:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
ARM GAS  /tmp/cc9mPikx.s 			page 138


5808:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:Middlewares/Third_Party/FatFs/src/ff.c **** {
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
5843:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9mPikx.s 			page 139


5865:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
5881:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5889:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5890:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
5895:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
5897:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
5898:Middlewares/Third_Party/FatFs/src/ff.c **** }
5899:Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5906:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/cc9mPikx.s 			page 140


5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
5928:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
5932:Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
5966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
5968:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
5969:Middlewares/Third_Party/FatFs/src/ff.c **** }
5970:Middlewares/Third_Party/FatFs/src/ff.c **** 
5971:Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:Middlewares/Third_Party/FatFs/src/ff.c **** {
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 141


5979:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
5982:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
5983:Middlewares/Third_Party/FatFs/src/ff.c **** }
5984:Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1882              		.loc 1 5991 1 is_stmt 1 view -0
 1883              		.cfi_startproc
 1884              		@ args = 0, pretend = 0, frame = 0
 1885              		@ frame_needed = 0, uses_anonymous_args = 0
 1886              		@ link register save eliminated.
5992:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 1887              		.loc 1 5992 2 view .LVU577
 1888              		.loc 1 5992 9 is_stmt 0 view .LVU578
 1889 0000 0160     		str	r1, [r0]
5993:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 1890              		.loc 1 5993 2 is_stmt 1 view .LVU579
 1891              		.loc 1 5993 21 is_stmt 0 view .LVU580
 1892 0002 0023     		movs	r3, #0
 1893 0004 4360     		str	r3, [r0, #4]
 1894              		.loc 1 5993 11 view .LVU581
 1895 0006 8360     		str	r3, [r0, #8]
5994:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1896              		.loc 1 5994 1 view .LVU582
 1897 0008 7047     		bx	lr
 1898              		.cfi_endproc
 1899              	.LFE413:
 1901              		.section	.text.validate,"ax",%progbits
 1902              		.align	1
 1903              		.syntax unified
 1904              		.thumb
 1905              		.thumb_func
 1906              		.fpu fpv5-d16
 1908              	validate:
 1909              	.LVL207:
 1910              	.LFB392:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1911              		.loc 1 3220 1 is_stmt 1 view -0
 1912              		.cfi_startproc
 1913              		@ args = 0, pretend = 0, frame = 0
 1914              		@ frame_needed = 0, uses_anonymous_args = 0
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 1915              		.loc 1 3220 1 is_stmt 0 view .LVU584
 1916 0000 38B5     		push	{r3, r4, r5, lr}
 1917              	.LCFI23:
 1918              		.cfi_def_cfa_offset 16
 1919              		.cfi_offset 3, -16
 1920              		.cfi_offset 4, -12
 1921              		.cfi_offset 5, -8
 1922              		.cfi_offset 14, -4
ARM GAS  /tmp/cc9mPikx.s 			page 142


 1923 0002 0D46     		mov	r5, r1
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1924              		.loc 1 3221 2 is_stmt 1 view .LVU585
 1925              	.LVL208:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1926              		.loc 1 3224 2 view .LVU586
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1927              		.loc 1 3224 5 is_stmt 0 view .LVU587
 1928 0004 0446     		mov	r4, r0
 1929 0006 98B1     		cbz	r0, .L164
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1930              		.loc 1 3224 16 discriminator 1 view .LVU588
 1931 0008 0368     		ldr	r3, [r0]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1932              		.loc 1 3224 10 discriminator 1 view .LVU589
 1933 000a 9BB1     		cbz	r3, .L165
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1934              		.loc 1 3224 31 discriminator 2 view .LVU590
 1935 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1936              		.loc 1 3224 21 discriminator 2 view .LVU591
 1937 000e A2B1     		cbz	r2, .L166
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1938              		.loc 1 3224 47 discriminator 3 view .LVU592
 1939 0010 8188     		ldrh	r1, [r0, #4]
 1940              	.LVL209:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1941              		.loc 1 3224 62 discriminator 3 view .LVU593
 1942 0012 DA88     		ldrh	r2, [r3, #6]
3224:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 1943              		.loc 1 3224 41 discriminator 3 view .LVU594
 1944 0014 9142     		cmp	r1, r2
 1945 0016 03D0     		beq	.L170
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1946              		.loc 1 3221 10 view .LVU595
 1947 0018 0920     		movs	r0, #9
 1948              	.LVL210:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1949              		.loc 1 3241 33 view .LVU596
 1950 001a 0024     		movs	r4, #0
 1951              	.LVL211:
 1952              	.L163:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1953              		.loc 1 3241 6 discriminator 4 view .LVU597
 1954 001c 2C60     		str	r4, [r5]
3242:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1955              		.loc 1 3242 2 is_stmt 1 discriminator 4 view .LVU598
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1956              		.loc 1 3243 1 is_stmt 0 discriminator 4 view .LVU599
 1957 001e 38BD     		pop	{r3, r4, r5, pc}
 1958              	.LVL212:
 1959              	.L170:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1960              		.loc 1 3236 3 is_stmt 1 view .LVU600
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1961              		.loc 1 3236 9 is_stmt 0 view .LVU601
 1962 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc9mPikx.s 			page 143


 1963              	.LVL213:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1964              		.loc 1 3236 9 view .LVU602
 1965 0022 FFF7FEFF 		bl	disk_status
 1966              	.LVL214:
3236:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 1967              		.loc 1 3236 6 view .LVU603
 1968 0026 10F00100 		ands	r0, r0, #1
 1969 002a 09D1     		bne	.L168
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1970              		.loc 1 3237 4 is_stmt 1 view .LVU604
 1971              	.LVL215:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1972              		.loc 1 3241 2 view .LVU605
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1973              		.loc 1 3241 33 is_stmt 0 view .LVU606
 1974 002c 2468     		ldr	r4, [r4]
 1975              	.LVL216:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1976              		.loc 1 3241 33 view .LVU607
 1977 002e F5E7     		b	.L163
 1978              	.LVL217:
 1979              	.L164:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1980              		.loc 1 3221 10 view .LVU608
 1981 0030 0920     		movs	r0, #9
 1982              	.LVL218:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1983              		.loc 1 3221 10 view .LVU609
 1984 0032 F3E7     		b	.L163
 1985              	.LVL219:
 1986              	.L165:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1987              		.loc 1 3241 33 view .LVU610
 1988 0034 1C46     		mov	r4, r3
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1989              		.loc 1 3221 10 view .LVU611
 1990 0036 0920     		movs	r0, #9
 1991              	.LVL220:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1992              		.loc 1 3221 10 view .LVU612
 1993 0038 F0E7     		b	.L163
 1994              	.LVL221:
 1995              	.L166:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1996              		.loc 1 3221 10 view .LVU613
 1997 003a 0920     		movs	r0, #9
 1998              	.LVL222:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1999              		.loc 1 3241 33 view .LVU614
 2000 003c 0024     		movs	r4, #0
 2001              	.LVL223:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 2002              		.loc 1 3241 33 view .LVU615
 2003 003e EDE7     		b	.L163
 2004              	.LVL224:
 2005              	.L168:
ARM GAS  /tmp/cc9mPikx.s 			page 144


3221:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2006              		.loc 1 3221 10 view .LVU616
 2007 0040 0920     		movs	r0, #9
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 2008              		.loc 1 3241 33 view .LVU617
 2009 0042 0024     		movs	r4, #0
 2010              	.LVL225:
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 2011              		.loc 1 3241 33 view .LVU618
 2012 0044 EAE7     		b	.L163
 2013              		.cfi_endproc
 2014              	.LFE392:
 2016              		.section	.text.sync_window,"ax",%progbits
 2017              		.align	1
 2018              		.syntax unified
 2019              		.thumb
 2020              		.thumb_func
 2021              		.fpu fpv5-d16
 2023              	sync_window:
 2024              	.LVL226:
 2025              	.LFB363:
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 2026              		.loc 1 886 1 is_stmt 1 view -0
 2027              		.cfi_startproc
 2028              		@ args = 0, pretend = 0, frame = 0
 2029              		@ frame_needed = 0, uses_anonymous_args = 0
 886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 2030              		.loc 1 886 1 is_stmt 0 view .LVU620
 2031 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2032              	.LCFI24:
 2033              		.cfi_def_cfa_offset 24
 2034              		.cfi_offset 4, -24
 2035              		.cfi_offset 5, -20
 2036              		.cfi_offset 6, -16
 2037              		.cfi_offset 7, -12
 2038              		.cfi_offset 8, -8
 2039              		.cfi_offset 14, -4
 887:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 2040              		.loc 1 887 2 is_stmt 1 view .LVU621
 888:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2041              		.loc 1 888 2 view .LVU622
 889:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2042              		.loc 1 889 2 view .LVU623
 2043              	.LVL227:
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 2044              		.loc 1 892 2 view .LVU624
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 2045              		.loc 1 892 8 is_stmt 0 view .LVU625
 2046 0004 C578     		ldrb	r5, [r0, #3]	@ zero_extendqisi2
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 2047              		.loc 1 892 5 view .LVU626
 2048 0006 15B9     		cbnz	r5, .L177
 2049              	.LVL228:
 2050              	.L172:
 906:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2051              		.loc 1 906 2 is_stmt 1 view .LVU627
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9mPikx.s 			page 145


 2052              		.loc 1 907 1 is_stmt 0 view .LVU628
 2053 0008 2846     		mov	r0, r5
 2054 000a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2055              	.LVL229:
 2056              	.L177:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2057              		.loc 1 907 1 view .LVU629
 2058 000e 0446     		mov	r4, r0
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 2059              		.loc 1 893 3 is_stmt 1 view .LVU630
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 2060              		.loc 1 893 9 is_stmt 0 view .LVU631
 2061 0010 476B     		ldr	r7, [r0, #52]
 2062              	.LVL230:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2063              		.loc 1 894 3 is_stmt 1 view .LVU632
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2064              		.loc 1 894 29 is_stmt 0 view .LVU633
 2065 0012 00F13808 		add	r8, r0, #56
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2066              		.loc 1 894 7 view .LVU634
 2067 0016 0123     		movs	r3, #1
 2068 0018 3A46     		mov	r2, r7
 2069 001a 4146     		mov	r1, r8
 2070 001c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 2071              	.LVL231:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2072              		.loc 1 894 7 view .LVU635
 2073 001e FFF7FEFF 		bl	disk_write
 2074              	.LVL232:
 894:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2075              		.loc 1 894 6 view .LVU636
 2076 0022 0546     		mov	r5, r0
 2077 0024 98B9     		cbnz	r0, .L175
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 2078              		.loc 1 897 4 is_stmt 1 view .LVU637
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 2079              		.loc 1 897 14 is_stmt 0 view .LVU638
 2080 0026 0023     		movs	r3, #0
 2081 0028 E370     		strb	r3, [r4, #3]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2082              		.loc 1 898 4 is_stmt 1 view .LVU639
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2083              		.loc 1 898 18 is_stmt 0 view .LVU640
 2084 002a A36A     		ldr	r3, [r4, #40]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2085              		.loc 1 898 14 view .LVU641
 2086 002c FB1A     		subs	r3, r7, r3
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2087              		.loc 1 898 32 view .LVU642
 2088 002e 226A     		ldr	r2, [r4, #32]
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 2089              		.loc 1 898 7 view .LVU643
 2090 0030 9342     		cmp	r3, r2
 2091 0032 E9D2     		bcs	.L172
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2092              		.loc 1 899 5 is_stmt 1 view .LVU644
ARM GAS  /tmp/cc9mPikx.s 			page 146


 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2093              		.loc 1 899 17 is_stmt 0 view .LVU645
 2094 0034 A678     		ldrb	r6, [r4, #2]	@ zero_extendqisi2
 2095              	.LVL233:
 2096              	.L173:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2097              		.loc 1 899 27 is_stmt 1 discriminator 1 view .LVU646
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2098              		.loc 1 899 5 is_stmt 0 discriminator 1 view .LVU647
 2099 0036 012E     		cmp	r6, #1
 2100 0038 E6D9     		bls	.L172
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2101              		.loc 1 900 6 is_stmt 1 discriminator 3 view .LVU648
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2102              		.loc 1 900 17 is_stmt 0 discriminator 3 view .LVU649
 2103 003a 236A     		ldr	r3, [r4, #32]
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 2104              		.loc 1 900 12 discriminator 3 view .LVU650
 2105 003c 1F44     		add	r7, r7, r3
 2106              	.LVL234:
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 2107              		.loc 1 901 6 is_stmt 1 discriminator 3 view .LVU651
 2108 003e 0123     		movs	r3, #1
 2109 0040 3A46     		mov	r2, r7
 2110 0042 4146     		mov	r1, r8
 2111 0044 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2112 0046 FFF7FEFF 		bl	disk_write
 2113              	.LVL235:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2114              		.loc 1 899 36 discriminator 3 view .LVU652
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2115              		.loc 1 899 38 is_stmt 0 discriminator 3 view .LVU653
 2116 004a 013E     		subs	r6, r6, #1
 2117              	.LVL236:
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 2118              		.loc 1 899 38 discriminator 3 view .LVU654
 2119 004c F3E7     		b	.L173
 2120              	.LVL237:
 2121              	.L175:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2122              		.loc 1 895 8 view .LVU655
 2123 004e 0125     		movs	r5, #1
 2124 0050 DAE7     		b	.L172
 2125              		.cfi_endproc
 2126              	.LFE363:
 2128              		.section	.text.move_window,"ax",%progbits
 2129              		.align	1
 2130              		.syntax unified
 2131              		.thumb
 2132              		.thumb_func
 2133              		.fpu fpv5-d16
 2135              	move_window:
 2136              	.LVL238:
 2137              	.LFB364:
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2138              		.loc 1 916 1 is_stmt 1 view -0
 2139              		.cfi_startproc
ARM GAS  /tmp/cc9mPikx.s 			page 147


 2140              		@ args = 0, pretend = 0, frame = 0
 2141              		@ frame_needed = 0, uses_anonymous_args = 0
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 2142              		.loc 1 916 1 is_stmt 0 view .LVU657
 2143 0000 70B5     		push	{r4, r5, r6, lr}
 2144              	.LCFI25:
 2145              		.cfi_def_cfa_offset 16
 2146              		.cfi_offset 4, -16
 2147              		.cfi_offset 5, -12
 2148              		.cfi_offset 6, -8
 2149              		.cfi_offset 14, -4
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2150              		.loc 1 917 2 is_stmt 1 view .LVU658
 2151              	.LVL239:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2152              		.loc 1 920 2 view .LVU659
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2153              		.loc 1 920 18 is_stmt 0 view .LVU660
 2154 0002 436B     		ldr	r3, [r0, #52]
 920:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 2155              		.loc 1 920 5 view .LVU661
 2156 0004 8B42     		cmp	r3, r1
 2157 0006 02D1     		bne	.L184
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2158              		.loc 1 917 10 view .LVU662
 2159 0008 0026     		movs	r6, #0
 2160              	.LVL240:
 2161              	.L179:
 932:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2162              		.loc 1 932 2 is_stmt 1 view .LVU663
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2163              		.loc 1 933 1 is_stmt 0 view .LVU664
 2164 000a 3046     		mov	r0, r6
 2165 000c 70BD     		pop	{r4, r5, r6, pc}
 2166              	.LVL241:
 2167              	.L184:
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2168              		.loc 1 933 1 view .LVU665
 2169 000e 0446     		mov	r4, r0
 2170 0010 0D46     		mov	r5, r1
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2171              		.loc 1 922 3 is_stmt 1 view .LVU666
 922:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2172              		.loc 1 922 9 is_stmt 0 view .LVU667
 2173 0012 FFF7FEFF 		bl	sync_window
 2174              	.LVL242:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2175              		.loc 1 924 3 is_stmt 1 view .LVU668
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 2176              		.loc 1 924 6 is_stmt 0 view .LVU669
 2177 0016 0646     		mov	r6, r0
 2178 0018 0028     		cmp	r0, #0
 2179 001a F6D1     		bne	.L179
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2180              		.loc 1 925 4 is_stmt 1 view .LVU670
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2181              		.loc 1 925 8 is_stmt 0 view .LVU671
ARM GAS  /tmp/cc9mPikx.s 			page 148


 2182 001c 0123     		movs	r3, #1
 2183 001e 2A46     		mov	r2, r5
 2184 0020 04F13801 		add	r1, r4, #56
 2185 0024 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2186              	.LVL243:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2187              		.loc 1 925 8 view .LVU672
 2188 0026 FFF7FEFF 		bl	disk_read
 2189              	.LVL244:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 2190              		.loc 1 925 7 view .LVU673
 2191 002a 10B1     		cbz	r0, .L180
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2192              		.loc 1 927 9 view .LVU674
 2193 002c 0126     		movs	r6, #1
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 2194              		.loc 1 926 12 view .LVU675
 2195 002e 4FF0FF35 		mov	r5, #-1
 2196              	.LVL245:
 2197              	.L180:
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2198              		.loc 1 929 4 is_stmt 1 view .LVU676
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2199              		.loc 1 929 16 is_stmt 0 view .LVU677
 2200 0032 6563     		str	r5, [r4, #52]
 2201 0034 E9E7     		b	.L179
 2202              		.cfi_endproc
 2203              	.LFE364:
 2205              		.section	.text.check_fs,"ax",%progbits
 2206              		.align	1
 2207              		.syntax unified
 2208              		.thumb
 2209              		.thumb_func
 2210              		.fpu fpv5-d16
 2212              	check_fs:
 2213              	.LVL246:
 2214              	.LFB390:
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2215              		.loc 1 2969 1 is_stmt 1 view -0
 2216              		.cfi_startproc
 2217              		@ args = 0, pretend = 0, frame = 0
 2218              		@ frame_needed = 0, uses_anonymous_args = 0
2969:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 2219              		.loc 1 2969 1 is_stmt 0 view .LVU679
 2220 0000 38B5     		push	{r3, r4, r5, lr}
 2221              	.LCFI26:
 2222              		.cfi_def_cfa_offset 16
 2223              		.cfi_offset 3, -16
 2224              		.cfi_offset 4, -12
 2225              		.cfi_offset 5, -8
 2226              		.cfi_offset 14, -4
 2227 0002 0446     		mov	r4, r0
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2228              		.loc 1 2970 2 is_stmt 1 view .LVU680
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2229              		.loc 1 2970 12 is_stmt 0 view .LVU681
 2230 0004 0023     		movs	r3, #0
ARM GAS  /tmp/cc9mPikx.s 			page 149


 2231 0006 C370     		strb	r3, [r0, #3]
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2232              		.loc 1 2970 17 is_stmt 1 view .LVU682
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 2233              		.loc 1 2970 29 is_stmt 0 view .LVU683
 2234 0008 4FF0FF33 		mov	r3, #-1
 2235 000c 4363     		str	r3, [r0, #52]
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2236              		.loc 1 2971 2 is_stmt 1 view .LVU684
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2237              		.loc 1 2971 6 is_stmt 0 view .LVU685
 2238 000e FFF7FEFF 		bl	move_window
 2239              	.LVL247:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2240              		.loc 1 2971 5 view .LVU686
 2241 0012 30BB     		cbnz	r0, .L188
 2242 0014 0546     		mov	r5, r0
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2243              		.loc 1 2973 2 is_stmt 1 view .LVU687
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2244              		.loc 1 2973 6 is_stmt 0 view .LVU688
 2245 0016 04F23620 		addw	r0, r4, #566
 2246 001a FFF7FEFF 		bl	ld_word
 2247              	.LVL248:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2248              		.loc 1 2973 5 view .LVU689
 2249 001e 4AF65523 		movw	r3, #43605
 2250 0022 9842     		cmp	r0, r3
 2251 0024 1FD1     		bne	.L189
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2252              		.loc 1 2975 2 is_stmt 1 view .LVU690
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2253              		.loc 1 2975 13 is_stmt 0 view .LVU691
 2254 0026 94F83830 		ldrb	r3, [r4, #56]	@ zero_extendqisi2
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2255              		.loc 1 2975 5 view .LVU692
 2256 002a E92B     		cmp	r3, #233
 2257 002c 07D0     		beq	.L187
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2258              		.loc 1 2975 66 discriminator 1 view .LVU693
 2259 002e A36B     		ldr	r3, [r4, #56]
 2260 0030 03F0FF13 		and	r3, r3, #16711935
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 2261              		.loc 1 2975 34 discriminator 1 view .LVU694
 2262 0034 0D4A     		ldr	r2, .L192
 2263 0036 9342     		cmp	r3, r2
 2264 0038 01D0     		beq	.L187
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2265              		.loc 1 2982 9 view .LVU695
 2266 003a 0225     		movs	r5, #2
 2267 003c 14E0     		b	.L186
 2268              	.L187:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2269              		.loc 1 2976 3 is_stmt 1 view .LVU696
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2270              		.loc 1 2976 8 is_stmt 0 view .LVU697
 2271 003e 04F16E00 		add	r0, r4, #110
ARM GAS  /tmp/cc9mPikx.s 			page 150


 2272 0042 FFF7FEFF 		bl	ld_dword
 2273              	.LVL249:
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2274              		.loc 1 2976 42 view .LVU698
 2275 0046 20F07F40 		bic	r0, r0, #-16777216
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 2276              		.loc 1 2976 6 view .LVU699
 2277 004a 094B     		ldr	r3, .L192+4
 2278 004c 9842     		cmp	r0, r3
 2279 004e 0BD0     		beq	.L186
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2280              		.loc 1 2977 3 is_stmt 1 view .LVU700
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2281              		.loc 1 2977 7 is_stmt 0 view .LVU701
 2282 0050 04F18A00 		add	r0, r4, #138
 2283 0054 FFF7FEFF 		bl	ld_dword
 2284              	.LVL250:
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2285              		.loc 1 2977 6 view .LVU702
 2286 0058 064B     		ldr	r3, .L192+8
 2287 005a 9842     		cmp	r0, r3
 2288 005c 04D0     		beq	.L186
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2289              		.loc 1 2982 9 view .LVU703
 2290 005e 0225     		movs	r5, #2
 2291 0060 02E0     		b	.L186
 2292              	.L188:
2971:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2293              		.loc 1 2971 45 view .LVU704
 2294 0062 0425     		movs	r5, #4
 2295 0064 00E0     		b	.L186
 2296              	.L189:
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2297              		.loc 1 2973 51 view .LVU705
 2298 0066 0325     		movs	r5, #3
 2299              	.L186:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2300              		.loc 1 2983 1 view .LVU706
 2301 0068 2846     		mov	r0, r5
 2302 006a 38BD     		pop	{r3, r4, r5, pc}
 2303              	.LVL251:
 2304              	.L193:
2983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2305              		.loc 1 2983 1 view .LVU707
 2306              		.align	2
 2307              	.L192:
 2308 006c EB009000 		.word	9437419
 2309 0070 46415400 		.word	5521734
 2310 0074 46415433 		.word	861159750
 2311              		.cfi_endproc
 2312              	.LFE390:
 2314              		.section	.text.find_volume,"ax",%progbits
 2315              		.align	1
 2316              		.syntax unified
 2317              		.thumb
 2318              		.thumb_func
 2319              		.fpu fpv5-d16
ARM GAS  /tmp/cc9mPikx.s 			page 151


 2321              	find_volume:
 2322              	.LVL252:
 2323              	.LFB391:
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2324              		.loc 1 2998 1 is_stmt 1 view -0
 2325              		.cfi_startproc
 2326              		@ args = 0, pretend = 0, frame = 24
 2327              		@ frame_needed = 0, uses_anonymous_args = 0
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 2328              		.loc 1 2998 1 is_stmt 0 view .LVU709
 2329 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2330              	.LCFI27:
 2331              		.cfi_def_cfa_offset 36
 2332              		.cfi_offset 4, -36
 2333              		.cfi_offset 5, -32
 2334              		.cfi_offset 6, -28
 2335              		.cfi_offset 7, -24
 2336              		.cfi_offset 8, -20
 2337              		.cfi_offset 9, -16
 2338              		.cfi_offset 10, -12
 2339              		.cfi_offset 11, -8
 2340              		.cfi_offset 14, -4
 2341 0004 87B0     		sub	sp, sp, #28
 2342              	.LCFI28:
 2343              		.cfi_def_cfa_offset 64
 2344 0006 0D46     		mov	r5, r1
 2345 0008 1646     		mov	r6, r2
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 2346              		.loc 1 2999 2 is_stmt 1 view .LVU710
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 2347              		.loc 1 3000 2 view .LVU711
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 2348              		.loc 1 3001 2 view .LVU712
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 2349              		.loc 1 3002 2 view .LVU713
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 2350              		.loc 1 3003 2 view .LVU714
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 2351              		.loc 1 3004 2 view .LVU715
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2352              		.loc 1 3005 2 view .LVU716
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2353              		.loc 1 3009 2 view .LVU717
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2354              		.loc 1 3009 7 is_stmt 0 view .LVU718
 2355 000a 0023     		movs	r3, #0
 2356 000c 0B60     		str	r3, [r1]
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2357              		.loc 1 3010 2 is_stmt 1 view .LVU719
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2358              		.loc 1 3010 8 is_stmt 0 view .LVU720
 2359 000e FFF7FEFF 		bl	get_ldnumber
 2360              	.LVL253:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2361              		.loc 1 3011 2 is_stmt 1 view .LVU721
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2362              		.loc 1 3011 5 is_stmt 0 view .LVU722
ARM GAS  /tmp/cc9mPikx.s 			page 152


 2363 0012 071E     		subs	r7, r0, #0
 2364 0014 C0F26881 		blt	.L212
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2365              		.loc 1 3014 2 is_stmt 1 view .LVU723
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2366              		.loc 1 3014 5 is_stmt 0 view .LVU724
 2367 0018 C74B     		ldr	r3, .L246
 2368 001a 53F82740 		ldr	r4, [r3, r7, lsl #2]
 2369              	.LVL254:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2370              		.loc 1 3015 2 is_stmt 1 view .LVU725
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2371              		.loc 1 3015 5 is_stmt 0 view .LVU726
 2372 001e 002C     		cmp	r4, #0
 2373 0020 00F06781 		beq	.L213
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 2374              		.loc 1 3017 14 is_stmt 1 view .LVU727
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2375              		.loc 1 3018 2 view .LVU728
3018:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2376              		.loc 1 3018 7 is_stmt 0 view .LVU729
 2377 0024 2C60     		str	r4, [r5]
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2378              		.loc 1 3020 2 is_stmt 1 view .LVU730
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 2379              		.loc 1 3020 7 is_stmt 0 view .LVU731
 2380 0026 06F0FE06 		and	r6, r6, #254
 2381              	.LVL255:
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2382              		.loc 1 3021 2 is_stmt 1 view .LVU732
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2383              		.loc 1 3021 8 is_stmt 0 view .LVU733
 2384 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2385              		.loc 1 3021 5 view .LVU734
 2386 002c 73B1     		cbz	r3, .L196
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2387              		.loc 1 3022 3 is_stmt 1 view .LVU735
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2388              		.loc 1 3022 10 is_stmt 0 view .LVU736
 2389 002e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2390              	.LVL256:
3022:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2391              		.loc 1 3022 10 view .LVU737
 2392 0030 FFF7FEFF 		bl	disk_status
 2393              	.LVL257:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2394              		.loc 1 3023 3 is_stmt 1 view .LVU738
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2395              		.loc 1 3023 6 is_stmt 0 view .LVU739
 2396 0034 10F00105 		ands	r5, r0, #1
 2397              	.LVL258:
3023:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 2398              		.loc 1 3023 6 view .LVU740
 2399 0038 08D1     		bne	.L196
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2400              		.loc 1 3024 4 is_stmt 1 view .LVU741
ARM GAS  /tmp/cc9mPikx.s 			page 153


3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2401              		.loc 1 3024 7 is_stmt 0 view .LVU742
 2402 003a 002E     		cmp	r6, #0
 2403 003c 00F05581 		beq	.L195
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2404              		.loc 1 3024 30 discriminator 1 view .LVU743
 2405 0040 10F0040F 		tst	r0, #4
 2406 0044 00F05181 		beq	.L195
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 2407              		.loc 1 3025 12 view .LVU744
 2408 0048 0A25     		movs	r5, #10
 2409 004a 4EE1     		b	.L195
 2410              	.LVL259:
 2411              	.L196:
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2412              		.loc 1 3034 2 is_stmt 1 view .LVU745
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2413              		.loc 1 3034 14 is_stmt 0 view .LVU746
 2414 004c 0023     		movs	r3, #0
 2415 004e 2370     		strb	r3, [r4]
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2416              		.loc 1 3035 2 is_stmt 1 view .LVU747
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2417              		.loc 1 3035 12 is_stmt 0 view .LVU748
 2418 0050 F8B2     		uxtb	r0, r7
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2419              		.loc 1 3035 10 view .LVU749
 2420 0052 6070     		strb	r0, [r4, #1]
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2421              		.loc 1 3036 2 is_stmt 1 view .LVU750
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 2422              		.loc 1 3036 9 is_stmt 0 view .LVU751
 2423 0054 FFF7FEFF 		bl	disk_initialize
 2424              	.LVL260:
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2425              		.loc 1 3037 2 is_stmt 1 view .LVU752
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2426              		.loc 1 3037 5 is_stmt 0 view .LVU753
 2427 0058 10F0010F 		tst	r0, #1
 2428 005c 40F04B81 		bne	.L215
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2429              		.loc 1 3040 2 is_stmt 1 view .LVU754
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2430              		.loc 1 3040 5 is_stmt 0 view .LVU755
 2431 0060 1EB1     		cbz	r6, .L197
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2432              		.loc 1 3040 28 discriminator 1 view .LVU756
 2433 0062 10F0040F 		tst	r0, #4
 2434 0066 40F04881 		bne	.L216
 2435              	.L197:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2436              		.loc 1 3044 2 is_stmt 1 view .LVU757
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2437              		.loc 1 3044 6 is_stmt 0 view .LVU758
 2438 006a 04F10C02 		add	r2, r4, #12
 2439 006e 0221     		movs	r1, #2
 2440 0070 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc9mPikx.s 			page 154


 2441              	.LVL261:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2442              		.loc 1 3044 6 view .LVU759
 2443 0072 FFF7FEFF 		bl	disk_ioctl
 2444              	.LVL262:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2445              		.loc 1 3044 5 view .LVU760
 2446 0076 0546     		mov	r5, r0
 2447 0078 0028     		cmp	r0, #0
 2448 007a 40F04081 		bne	.L217
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2449              		.loc 1 3045 2 is_stmt 1 view .LVU761
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2450              		.loc 1 3045 6 is_stmt 0 view .LVU762
 2451 007e A289     		ldrh	r2, [r4, #12]
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2452              		.loc 1 3045 23 view .LVU763
 2453 0080 A2F50073 		sub	r3, r2, #512
 2454 0084 9BB2     		uxth	r3, r3
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2455              		.loc 1 3045 5 view .LVU764
 2456 0086 B3F5606F 		cmp	r3, #3584
 2457 008a 00F23A81 		bhi	.L218
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2458              		.loc 1 3045 64 discriminator 2 view .LVU765
 2459 008e 531E     		subs	r3, r2, #1
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2460              		.loc 1 3045 43 discriminator 2 view .LVU766
 2461 0090 1A42     		tst	r2, r3
 2462 0092 01D0     		beq	.L240
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2463              		.loc 1 3045 78 view .LVU767
 2464 0094 0125     		movs	r5, #1
 2465 0096 28E1     		b	.L195
 2466              	.L240:
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2467              		.loc 1 3049 2 is_stmt 1 view .LVU768
 2468              	.LVL263:
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2469              		.loc 1 3050 2 view .LVU769
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 2470              		.loc 1 3050 8 is_stmt 0 view .LVU770
 2471 0098 0021     		movs	r1, #0
 2472 009a 2046     		mov	r0, r4
 2473 009c FFF7FEFF 		bl	check_fs
 2474              	.LVL264:
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2475              		.loc 1 3051 2 is_stmt 1 view .LVU771
3051:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 2476              		.loc 1 3051 5 is_stmt 0 view .LVU772
 2477 00a0 0228     		cmp	r0, #2
 2478 00a2 00F0C380 		beq	.L220
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 2479              		.loc 1 3049 8 view .LVU773
 2480 00a6 0026     		movs	r6, #0
 2481              	.LVL265:
 2482              	.L199:
ARM GAS  /tmp/cc9mPikx.s 			page 155


3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2483              		.loc 1 3063 2 is_stmt 1 view .LVU774
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 2484              		.loc 1 3063 5 is_stmt 0 view .LVU775
 2485 00a8 0428     		cmp	r0, #4
 2486 00aa 00F02C81 		beq	.L223
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2487              		.loc 1 3064 2 is_stmt 1 view .LVU776
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2488              		.loc 1 3064 5 is_stmt 0 view .LVU777
 2489 00ae 0128     		cmp	r0, #1
 2490 00b0 00F22B81 		bhi	.L224
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2491              		.loc 1 3116 3 is_stmt 1 view .LVU778
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2492              		.loc 1 3116 7 is_stmt 0 view .LVU779
 2493 00b4 04F14300 		add	r0, r4, #67
 2494              	.LVL266:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2495              		.loc 1 3116 7 view .LVU780
 2496 00b8 FFF7FEFF 		bl	ld_word
 2497              	.LVL267:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2498              		.loc 1 3116 44 view .LVU781
 2499 00bc B4F80C80 		ldrh	r8, [r4, #12]
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2500              		.loc 1 3116 6 view .LVU782
 2501 00c0 4045     		cmp	r0, r8
 2502 00c2 40F02481 		bne	.L225
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2503              		.loc 1 3118 3 is_stmt 1 view .LVU783
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2504              		.loc 1 3118 12 is_stmt 0 view .LVU784
 2505 00c6 04F14E00 		add	r0, r4, #78
 2506 00ca FFF7FEFF 		bl	ld_word
 2507              	.LVL268:
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 2508              		.loc 1 3118 10 view .LVU785
 2509 00ce 0746     		mov	r7, r0
 2510              	.LVL269:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2511              		.loc 1 3119 3 is_stmt 1 view .LVU786
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2512              		.loc 1 3119 6 is_stmt 0 view .LVU787
 2513 00d0 20B9     		cbnz	r0, .L204
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2514              		.loc 1 3119 20 is_stmt 1 discriminator 1 view .LVU788
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2515              		.loc 1 3119 29 is_stmt 0 discriminator 1 view .LVU789
 2516 00d2 04F15C00 		add	r0, r4, #92
 2517              	.LVL270:
3119:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 2518              		.loc 1 3119 29 discriminator 1 view .LVU790
 2519 00d6 FFF7FEFF 		bl	ld_dword
 2520              	.LVL271:
 2521 00da 0746     		mov	r7, r0
 2522              	.LVL272:
ARM GAS  /tmp/cc9mPikx.s 			page 156


 2523              	.L204:
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2524              		.loc 1 3120 3 is_stmt 1 view .LVU791
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2525              		.loc 1 3120 13 is_stmt 0 view .LVU792
 2526 00dc 2762     		str	r7, [r4, #32]
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2527              		.loc 1 3122 3 is_stmt 1 view .LVU793
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2528              		.loc 1 3122 23 is_stmt 0 view .LVU794
 2529 00de 94F84820 		ldrb	r2, [r4, #72]	@ zero_extendqisi2
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 2530              		.loc 1 3122 14 view .LVU795
 2531 00e2 A270     		strb	r2, [r4, #2]
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2532              		.loc 1 3123 3 is_stmt 1 view .LVU796
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2533              		.loc 1 3123 23 is_stmt 0 view .LVU797
 2534 00e4 531E     		subs	r3, r2, #1
 2535 00e6 DBB2     		uxtb	r3, r3
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2536              		.loc 1 3123 6 view .LVU798
 2537 00e8 012B     		cmp	r3, #1
 2538 00ea 00F21281 		bhi	.L226
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2539              		.loc 1 3124 3 is_stmt 1 view .LVU799
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2540              		.loc 1 3124 10 is_stmt 0 view .LVU800
 2541 00ee 07FB02F3 		mul	r3, r7, r2
 2542 00f2 0093     		str	r3, [sp]
 2543              	.LVL273:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2544              		.loc 1 3126 3 is_stmt 1 view .LVU801
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2545              		.loc 1 3126 22 is_stmt 0 view .LVU802
 2546 00f4 94F84590 		ldrb	r9, [r4, #69]	@ zero_extendqisi2
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 2547              		.loc 1 3126 13 view .LVU803
 2548 00f8 A4F80A90 		strh	r9, [r4, #10]	@ movhi
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2549              		.loc 1 3127 3 is_stmt 1 view .LVU804
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2550              		.loc 1 3127 6 is_stmt 0 view .LVU805
 2551 00fc B9F1000F 		cmp	r9, #0
 2552 0100 00F00981 		beq	.L227
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2553              		.loc 1 3127 49 discriminator 2 view .LVU806
 2554 0104 09F1FF33 		add	r3, r9, #-1
 2555              	.LVL274:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2556              		.loc 1 3127 22 discriminator 2 view .LVU807
 2557 0108 19EA030F 		tst	r9, r3
 2558 010c 40F00581 		bne	.L228
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2559              		.loc 1 3129 3 is_stmt 1 view .LVU808
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2560              		.loc 1 3129 19 is_stmt 0 view .LVU809
ARM GAS  /tmp/cc9mPikx.s 			page 157


 2561 0110 04F14900 		add	r0, r4, #73
 2562 0114 FFF7FEFF 		bl	ld_word
 2563              	.LVL275:
 2564 0118 8246     		mov	r10, r0
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 2565              		.loc 1 3129 17 view .LVU810
 2566 011a 2081     		strh	r0, [r4, #8]	@ movhi
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2567              		.loc 1 3130 3 is_stmt 1 view .LVU811
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2568              		.loc 1 3130 7 is_stmt 0 view .LVU812
 2569 011c 4FEA581B 		lsr	fp, r8, #5
 2570 0120 B0FBFBF3 		udiv	r3, r0, fp
 2571 0124 0BFB1303 		mls	r3, fp, r3, r0
 2572 0128 9BB2     		uxth	r3, r3
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2573              		.loc 1 3130 6 view .LVU813
 2574 012a 002B     		cmp	r3, #0
 2575 012c 40F0F780 		bne	.L229
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2576              		.loc 1 3132 3 is_stmt 1 view .LVU814
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2577              		.loc 1 3132 11 is_stmt 0 view .LVU815
 2578 0130 04F14B00 		add	r0, r4, #75
 2579 0134 FFF7FEFF 		bl	ld_word
 2580              	.LVL276:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 2581              		.loc 1 3132 9 view .LVU816
 2582 0138 0190     		str	r0, [sp, #4]
 2583              	.LVL277:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2584              		.loc 1 3133 3 is_stmt 1 view .LVU817
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2585              		.loc 1 3133 6 is_stmt 0 view .LVU818
 2586 013a 20B9     		cbnz	r0, .L205
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2587              		.loc 1 3133 19 is_stmt 1 discriminator 1 view .LVU819
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2588              		.loc 1 3133 27 is_stmt 0 discriminator 1 view .LVU820
 2589 013c 04F15800 		add	r0, r4, #88
 2590              	.LVL278:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2591              		.loc 1 3133 27 discriminator 1 view .LVU821
 2592 0140 FFF7FEFF 		bl	ld_dword
 2593              	.LVL279:
 2594 0144 0190     		str	r0, [sp, #4]
 2595              	.LVL280:
 2596              	.L205:
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2597              		.loc 1 3135 3 is_stmt 1 view .LVU822
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 2598              		.loc 1 3135 10 is_stmt 0 view .LVU823
 2599 0146 04F14600 		add	r0, r4, #70
 2600 014a FFF7FEFF 		bl	ld_word
 2601              	.LVL281:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2602              		.loc 1 3136 3 is_stmt 1 view .LVU824
ARM GAS  /tmp/cc9mPikx.s 			page 158


3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2603              		.loc 1 3136 6 is_stmt 0 view .LVU825
 2604 014e 0146     		mov	r1, r0
 2605 0150 0028     		cmp	r0, #0
 2606 0152 00F0E680 		beq	.L230
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2607              		.loc 1 3139 3 is_stmt 1 view .LVU826
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2608              		.loc 1 3139 17 is_stmt 0 view .LVU827
 2609 0156 009B     		ldr	r3, [sp]
 2610 0158 C318     		adds	r3, r0, r3
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2611              		.loc 1 3139 42 view .LVU828
 2612 015a BAFBFBFB 		udiv	fp, r10, fp
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 2613              		.loc 1 3139 10 view .LVU829
 2614 015e 5B44     		add	r3, r3, fp
 2615              	.LVL282:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2616              		.loc 1 3140 3 is_stmt 1 view .LVU830
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 2617              		.loc 1 3140 6 is_stmt 0 view .LVU831
 2618 0160 019A     		ldr	r2, [sp, #4]
 2619 0162 9A42     		cmp	r2, r3
 2620 0164 C0F0DF80 		bcc	.L231
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2621              		.loc 1 3141 3 is_stmt 1 view .LVU832
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2622              		.loc 1 3141 18 is_stmt 0 view .LVU833
 2623 0168 D21A     		subs	r2, r2, r3
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2624              		.loc 1 3141 9 view .LVU834
 2625 016a B2FBF9F0 		udiv	r0, r2, r9
 2626              	.LVL283:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2627              		.loc 1 3142 3 is_stmt 1 view .LVU835
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 2628              		.loc 1 3142 6 is_stmt 0 view .LVU836
 2629 016e 4A45     		cmp	r2, r9
 2630 0170 C0F0DB80 		bcc	.L232
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2631              		.loc 1 3143 3 is_stmt 1 view .LVU837
 2632              	.LVL284:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2633              		.loc 1 3144 3 view .LVU838
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2634              		.loc 1 3144 6 is_stmt 0 view .LVU839
 2635 0174 4FF6F572 		movw	r2, #65525
 2636 0178 9042     		cmp	r0, r2
 2637 017a 6FD9     		bls	.L233
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 2638              		.loc 1 3143 7 view .LVU840
 2639 017c 4FF0030B 		mov	fp, #3
 2640              	.L206:
 2641              	.LVL285:
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2642              		.loc 1 3145 3 is_stmt 1 view .LVU841
ARM GAS  /tmp/cc9mPikx.s 			page 159


3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2643              		.loc 1 3145 6 is_stmt 0 view .LVU842
 2644 0180 40F6F572 		movw	r2, #4085
 2645 0184 9042     		cmp	r0, r2
 2646 0186 01D8     		bhi	.L207
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2647              		.loc 1 3145 31 view .LVU843
 2648 0188 4FF0010B 		mov	fp, #1
 2649              	.LVL286:
 2650              	.L207:
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2651              		.loc 1 3148 3 is_stmt 1 view .LVU844
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2652              		.loc 1 3148 24 is_stmt 0 view .LVU845
 2653 018c 00F10209 		add	r9, r0, #2
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 2654              		.loc 1 3148 16 view .LVU846
 2655 0190 C4F81C90 		str	r9, [r4, #28]
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2656              		.loc 1 3149 3 is_stmt 1 view .LVU847
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 2657              		.loc 1 3149 15 is_stmt 0 view .LVU848
 2658 0194 6662     		str	r6, [r4, #36]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2659              		.loc 1 3150 3 is_stmt 1 view .LVU849
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2660              		.loc 1 3150 23 is_stmt 0 view .LVU850
 2661 0196 8A19     		adds	r2, r1, r6
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 2662              		.loc 1 3150 15 view .LVU851
 2663 0198 A262     		str	r2, [r4, #40]
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2664              		.loc 1 3151 3 is_stmt 1 view .LVU852
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2665              		.loc 1 3151 24 is_stmt 0 view .LVU853
 2666 019a 3344     		add	r3, r3, r6
 2667              	.LVL287:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 2668              		.loc 1 3151 16 view .LVU854
 2669 019c 2363     		str	r3, [r4, #48]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2670              		.loc 1 3152 3 is_stmt 1 view .LVU855
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 2671              		.loc 1 3152 6 is_stmt 0 view .LVU856
 2672 019e BBF1030F 		cmp	fp, #3
 2673 01a2 5ED0     		beq	.L241
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2674              		.loc 1 3158 4 is_stmt 1 view .LVU857
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 2675              		.loc 1 3158 7 is_stmt 0 view .LVU858
 2676 01a4 BAF1000F 		cmp	r10, #0
 2677 01a8 00F0D080 		beq	.L237
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2678              		.loc 1 3159 4 is_stmt 1 view .LVU859
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2679              		.loc 1 3159 30 is_stmt 0 view .LVU860
 2680 01ac 009B     		ldr	r3, [sp]
ARM GAS  /tmp/cc9mPikx.s 			page 160


 2681 01ae 1A44     		add	r2, r2, r3
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 2682              		.loc 1 3159 16 view .LVU861
 2683 01b0 E262     		str	r2, [r4, #44]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2684              		.loc 1 3160 4 is_stmt 1 view .LVU862
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2685              		.loc 1 3161 22 is_stmt 0 view .LVU863
 2686 01b2 BBF1020F 		cmp	fp, #2
 2687 01b6 65D0     		beq	.L242
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2688              		.loc 1 3161 37 discriminator 2 view .LVU864
 2689 01b8 09EB4902 		add	r2, r9, r9, lsl #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2690              		.loc 1 3161 61 discriminator 2 view .LVU865
 2691 01bc 09F00103 		and	r3, r9, #1
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2692              		.loc 1 3161 22 discriminator 2 view .LVU866
 2693 01c0 03EB5203 		add	r3, r3, r2, lsr #1
 2694              	.LVL288:
 2695              	.L209:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2696              		.loc 1 3163 3 is_stmt 1 view .LVU867
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2697              		.loc 1 3163 27 is_stmt 0 view .LVU868
 2698 01c4 4344     		add	r3, r3, r8
 2699              	.LVL289:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2700              		.loc 1 3163 27 view .LVU869
 2701 01c6 013B     		subs	r3, r3, #1
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2702              		.loc 1 3163 43 view .LVU870
 2703 01c8 B3FBF8F8 		udiv	r8, r3, r8
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2704              		.loc 1 3163 6 view .LVU871
 2705 01cc B845     		cmp	r8, r7
 2706 01ce 00F2BF80 		bhi	.L238
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2707              		.loc 1 3167 3 is_stmt 1 view .LVU872
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2708              		.loc 1 3167 33 is_stmt 0 view .LVU873
 2709 01d2 4FF0FF33 		mov	r3, #-1
 2710 01d6 A361     		str	r3, [r4, #24]
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 2711              		.loc 1 3167 17 view .LVU874
 2712 01d8 6361     		str	r3, [r4, #20]
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2713              		.loc 1 3168 3 is_stmt 1 view .LVU875
3168:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2714              		.loc 1 3168 16 is_stmt 0 view .LVU876
 2715 01da 8023     		movs	r3, #128
 2716 01dc 2371     		strb	r3, [r4, #4]
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2717              		.loc 1 3170 3 is_stmt 1 view .LVU877
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 2718              		.loc 1 3170 6 is_stmt 0 view .LVU878
 2719 01de BBF1030F 		cmp	fp, #3
ARM GAS  /tmp/cc9mPikx.s 			page 161


 2720 01e2 52D0     		beq	.L243
 2721              	.L211:
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2722              		.loc 1 3191 2 is_stmt 1 view .LVU879
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 2723              		.loc 1 3191 14 is_stmt 0 view .LVU880
 2724 01e4 84F800B0 		strb	fp, [r4]
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2725              		.loc 1 3192 2 is_stmt 1 view .LVU881
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2726              		.loc 1 3192 11 is_stmt 0 view .LVU882
 2727 01e8 544A     		ldr	r2, .L246+4
 2728 01ea 1388     		ldrh	r3, [r2]
 2729 01ec 0133     		adds	r3, r3, #1
 2730 01ee 9BB2     		uxth	r3, r3
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 2731              		.loc 1 3192 9 view .LVU883
 2732 01f0 1380     		strh	r3, [r2]	@ movhi
 2733 01f2 E380     		strh	r3, [r4, #6]	@ movhi
3194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2734              		.loc 1 3194 2 is_stmt 1 view .LVU884
3194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2735              		.loc 1 3194 13 is_stmt 0 view .LVU885
 2736 01f4 524B     		ldr	r3, .L246+8
 2737 01f6 2361     		str	r3, [r4, #16]
3203:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2738              		.loc 1 3203 2 is_stmt 1 view .LVU886
 2739 01f8 2046     		mov	r0, r4
 2740 01fa FFF7FEFF 		bl	clear_lock
 2741              	.LVL290:
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2742              		.loc 1 3205 2 view .LVU887
3205:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2743              		.loc 1 3205 9 is_stmt 0 view .LVU888
 2744 01fe 74E0     		b	.L195
 2745              	.LVL291:
 2746              	.L221:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2747              		.loc 1 3054 54 view .LVU889
 2748 0200 0020     		movs	r0, #0
 2749              	.LVL292:
 2750              	.L200:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2751              		.loc 1 3054 10 discriminator 4 view .LVU890
 2752 0202 06AB     		add	r3, sp, #24
 2753 0204 03EB8603 		add	r3, r3, r6, lsl #2
 2754 0208 43F8100C 		str	r0, [r3, #-16]
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2755              		.loc 1 3052 22 is_stmt 1 discriminator 4 view .LVU891
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2756              		.loc 1 3052 23 is_stmt 0 discriminator 4 view .LVU892
 2757 020c 0136     		adds	r6, r6, #1
 2758              	.LVL293:
 2759              	.L198:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2760              		.loc 1 3052 15 is_stmt 1 discriminator 2 view .LVU893
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
ARM GAS  /tmp/cc9mPikx.s 			page 162


 2761              		.loc 1 3052 3 is_stmt 0 discriminator 2 view .LVU894
 2762 020e 032E     		cmp	r6, #3
 2763 0210 0ED8     		bhi	.L244
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2764              		.loc 1 3053 4 is_stmt 1 view .LVU895
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2765              		.loc 1 3053 9 is_stmt 0 view .LVU896
 2766 0212 04F13800 		add	r0, r4, #56
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2767              		.loc 1 3053 34 view .LVU897
 2768 0216 3301     		lsls	r3, r6, #4
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2769              		.loc 1 3053 30 view .LVU898
 2770 0218 03F5DF73 		add	r3, r3, #446
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 2771              		.loc 1 3053 7 view .LVU899
 2772 021c 1844     		add	r0, r0, r3
 2773              	.LVL294:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2774              		.loc 1 3054 4 is_stmt 1 view .LVU900
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2775              		.loc 1 3054 14 is_stmt 0 view .LVU901
 2776 021e 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2777              		.loc 1 3054 54 view .LVU902
 2778 0220 002B     		cmp	r3, #0
 2779 0222 EDD0     		beq	.L221
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2780              		.loc 1 3054 29 discriminator 1 view .LVU903
 2781 0224 0830     		adds	r0, r0, #8
 2782              	.LVL295:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2783              		.loc 1 3054 29 discriminator 1 view .LVU904
 2784 0226 FFF7FEFF 		bl	ld_dword
 2785              	.LVL296:
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2786              		.loc 1 3054 29 discriminator 1 view .LVU905
 2787 022a EAE7     		b	.L200
 2788              	.LVL297:
 2789              	.L220:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2790              		.loc 1 3052 10 view .LVU906
 2791 022c 0026     		movs	r6, #0
 2792              	.LVL298:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2793              		.loc 1 3052 10 view .LVU907
 2794 022e EEE7     		b	.L198
 2795              	.LVL299:
 2796              	.L244:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2797              		.loc 1 3052 10 view .LVU908
 2798 0230 0027     		movs	r7, #0
 2799              	.LVL300:
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 2800              		.loc 1 3052 10 view .LVU909
 2801 0232 0AE0     		b	.L203
 2802              	.LVL301:
ARM GAS  /tmp/cc9mPikx.s 			page 163


 2803              	.L245:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2804              		.loc 1 3060 18 discriminator 1 view .LVU910
 2805 0234 3146     		mov	r1, r6
 2806 0236 2046     		mov	r0, r4
 2807 0238 FFF7FEFF 		bl	check_fs
 2808              	.LVL302:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2809              		.loc 1 3061 11 is_stmt 1 discriminator 1 view .LVU911
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2810              		.loc 1 3061 3 is_stmt 0 discriminator 1 view .LVU912
 2811 023c 0128     		cmp	r0, #1
 2812 023e 7FF633AF 		bls	.L199
 2813              	.LVL303:
 2814              	.L202:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2815              		.loc 1 3061 40 discriminator 1 view .LVU913
 2816 0242 0137     		adds	r7, r7, #1
 2817              	.LVL304:
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2818              		.loc 1 3061 40 discriminator 1 view .LVU914
 2819 0244 032F     		cmp	r7, #3
 2820 0246 3FF62FAF 		bhi	.L199
 2821              	.LVL305:
 2822              	.L203:
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2823              		.loc 1 3058 3 is_stmt 1 view .LVU915
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2824              		.loc 1 3059 4 view .LVU916
3059:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 2825              		.loc 1 3059 10 is_stmt 0 view .LVU917
 2826 024a 06AB     		add	r3, sp, #24
 2827 024c 03EB8703 		add	r3, r3, r7, lsl #2
 2828 0250 53F8106C 		ldr	r6, [r3, #-16]
 2829              	.LVL306:
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2830              		.loc 1 3060 4 is_stmt 1 view .LVU918
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 2831              		.loc 1 3060 8 is_stmt 0 view .LVU919
 2832 0254 002E     		cmp	r6, #0
 2833 0256 EDD1     		bne	.L245
 2834 0258 0320     		movs	r0, #3
 2835 025a F2E7     		b	.L202
 2836              	.LVL307:
 2837              	.L233:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 2838              		.loc 1 3144 31 view .LVU920
 2839 025c 4FF0020B 		mov	fp, #2
 2840 0260 8EE7     		b	.L206
 2841              	.LVL308:
 2842              	.L241:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2843              		.loc 1 3153 4 is_stmt 1 view .LVU921
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2844              		.loc 1 3153 8 is_stmt 0 view .LVU922
 2845 0262 04F16200 		add	r0, r4, #98
 2846              	.LVL309:
ARM GAS  /tmp/cc9mPikx.s 			page 164


3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2847              		.loc 1 3153 8 view .LVU923
 2848 0266 FFF7FEFF 		bl	ld_word
 2849              	.LVL310:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 2850              		.loc 1 3153 7 view .LVU924
 2851 026a 0028     		cmp	r0, #0
 2852 026c 5FD1     		bne	.L235
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2853              		.loc 1 3154 4 is_stmt 1 view .LVU925
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 2854              		.loc 1 3154 7 is_stmt 0 view .LVU926
 2855 026e BAF1000F 		cmp	r10, #0
 2856 0272 5ED1     		bne	.L236
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2857              		.loc 1 3155 4 is_stmt 1 view .LVU927
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2858              		.loc 1 3155 18 is_stmt 0 view .LVU928
 2859 0274 04F16400 		add	r0, r4, #100
 2860 0278 FFF7FEFF 		bl	ld_dword
 2861              	.LVL311:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 2862              		.loc 1 3155 16 view .LVU929
 2863 027c E062     		str	r0, [r4, #44]
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2864              		.loc 1 3156 4 is_stmt 1 view .LVU930
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2865              		.loc 1 3156 11 is_stmt 0 view .LVU931
 2866 027e 4FEA8903 		lsl	r3, r9, #2
 2867              	.LVL312:
3156:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 2868              		.loc 1 3156 11 view .LVU932
 2869 0282 9FE7     		b	.L209
 2870              	.LVL313:
 2871              	.L242:
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2872              		.loc 1 3161 22 discriminator 1 view .LVU933
 2873 0284 4FEA4903 		lsl	r3, r9, #1
 2874 0288 9CE7     		b	.L209
 2875              	.LVL314:
 2876              	.L243:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2877              		.loc 1 3171 7 view .LVU934
 2878 028a 04F16800 		add	r0, r4, #104
 2879 028e FFF7FEFF 		bl	ld_word
 2880              	.LVL315:
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 2881              		.loc 1 3171 4 view .LVU935
 2882 0292 0128     		cmp	r0, #1
 2883 0294 A6D1     		bne	.L211
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2884              		.loc 1 3172 7 view .LVU936
 2885 0296 711C     		adds	r1, r6, #1
 2886 0298 2046     		mov	r0, r4
 2887 029a FFF7FEFF 		bl	move_window
 2888              	.LVL316:
3172:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
ARM GAS  /tmp/cc9mPikx.s 			page 165


 2889              		.loc 1 3172 4 view .LVU937
 2890 029e 0028     		cmp	r0, #0
 2891 02a0 A0D1     		bne	.L211
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2892              		.loc 1 3174 4 is_stmt 1 view .LVU938
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2893              		.loc 1 3174 17 is_stmt 0 view .LVU939
 2894 02a2 0023     		movs	r3, #0
 2895 02a4 2371     		strb	r3, [r4, #4]
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2896              		.loc 1 3175 4 is_stmt 1 view .LVU940
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2897              		.loc 1 3175 8 is_stmt 0 view .LVU941
 2898 02a6 04F23620 		addw	r0, r4, #566
 2899 02aa FFF7FEFF 		bl	ld_word
 2900              	.LVL317:
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 2901              		.loc 1 3175 7 view .LVU942
 2902 02ae 4AF65523 		movw	r3, #43605
 2903 02b2 9842     		cmp	r0, r3
 2904 02b4 96D1     		bne	.L211
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2905              		.loc 1 3176 8 view .LVU943
 2906 02b6 04F13800 		add	r0, r4, #56
 2907 02ba FFF7FEFF 		bl	ld_dword
 2908              	.LVL318:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 2909              		.loc 1 3176 5 view .LVU944
 2910 02be 214B     		ldr	r3, .L246+12
 2911 02c0 9842     		cmp	r0, r3
 2912 02c2 8FD1     		bne	.L211
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2913              		.loc 1 3177 8 view .LVU945
 2914 02c4 04F50770 		add	r0, r4, #540
 2915 02c8 FFF7FEFF 		bl	ld_dword
 2916              	.LVL319:
3177:Middlewares/Third_Party/FatFs/src/ff.c **** 			{
 2917              		.loc 1 3177 5 view .LVU946
 2918 02cc 1E4B     		ldr	r3, .L246+16
 2919 02ce 9842     		cmp	r0, r3
 2920 02d0 88D1     		bne	.L211
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2921              		.loc 1 3180 5 is_stmt 1 view .LVU947
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2922              		.loc 1 3180 21 is_stmt 0 view .LVU948
 2923 02d2 04F50870 		add	r0, r4, #544
 2924 02d6 FFF7FEFF 		bl	ld_dword
 2925              	.LVL320:
3180:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2926              		.loc 1 3180 19 view .LVU949
 2927 02da A061     		str	r0, [r4, #24]
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2928              		.loc 1 3183 5 is_stmt 1 view .LVU950
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2929              		.loc 1 3183 21 is_stmt 0 view .LVU951
 2930 02dc 04F50970 		add	r0, r4, #548
 2931 02e0 FFF7FEFF 		bl	ld_dword
ARM GAS  /tmp/cc9mPikx.s 			page 166


 2932              	.LVL321:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2933              		.loc 1 3183 19 view .LVU952
 2934 02e4 6061     		str	r0, [r4, #20]
 2935 02e6 7DE7     		b	.L211
 2936              	.LVL322:
 2937              	.L212:
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2938              		.loc 1 3011 22 view .LVU953
 2939 02e8 0B25     		movs	r5, #11
 2940              	.LVL323:
 2941              	.L195:
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2942              		.loc 1 3206 1 view .LVU954
 2943 02ea 2846     		mov	r0, r5
 2944 02ec 07B0     		add	sp, sp, #28
 2945              	.LCFI29:
 2946              		.cfi_remember_state
 2947              		.cfi_def_cfa_offset 36
 2948              		@ sp needed
 2949 02ee BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2950              	.LVL324:
 2951              	.L213:
 2952              	.LCFI30:
 2953              		.cfi_restore_state
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2954              		.loc 1 3015 18 view .LVU955
 2955 02f2 0C25     		movs	r5, #12
 2956              	.LVL325:
3015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2957              		.loc 1 3015 18 view .LVU956
 2958 02f4 F9E7     		b	.L195
 2959              	.LVL326:
 2960              	.L215:
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2961              		.loc 1 3038 10 view .LVU957
 2962 02f6 0325     		movs	r5, #3
 2963 02f8 F7E7     		b	.L195
 2964              	.L216:
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2965              		.loc 1 3041 10 view .LVU958
 2966 02fa 0A25     		movs	r5, #10
 2967 02fc F5E7     		b	.L195
 2968              	.LVL327:
 2969              	.L217:
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
 2970              		.loc 1 3044 70 view .LVU959
 2971 02fe 0125     		movs	r5, #1
 2972 0300 F3E7     		b	.L195
 2973              	.L218:
3045:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2974              		.loc 1 3045 78 view .LVU960
 2975 0302 0125     		movs	r5, #1
 2976 0304 F1E7     		b	.L195
 2977              	.LVL328:
 2978              	.L223:
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
ARM GAS  /tmp/cc9mPikx.s 			page 167


 2979              		.loc 1 3063 23 view .LVU961
 2980 0306 0125     		movs	r5, #1
 2981 0308 EFE7     		b	.L195
 2982              	.L224:
3064:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2983              		.loc 1 3064 23 view .LVU962
 2984 030a 0D25     		movs	r5, #13
 2985 030c EDE7     		b	.L195
 2986              	.LVL329:
 2987              	.L225:
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2988              		.loc 1 3116 59 view .LVU963
 2989 030e 0D25     		movs	r5, #13
 2990 0310 EBE7     		b	.L195
 2991              	.LVL330:
 2992              	.L226:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 2993              		.loc 1 3123 50 view .LVU964
 2994 0312 0D25     		movs	r5, #13
 2995 0314 E9E7     		b	.L195
 2996              	.LVL331:
 2997              	.L227:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2998              		.loc 1 3127 63 view .LVU965
 2999 0316 0D25     		movs	r5, #13
 3000 0318 E7E7     		b	.L195
 3001              	.LVL332:
 3002              	.L228:
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3003              		.loc 1 3127 63 view .LVU966
 3004 031a 0D25     		movs	r5, #13
 3005 031c E5E7     		b	.L195
 3006              	.L229:
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3007              		.loc 1 3130 49 view .LVU967
 3008 031e 0D25     		movs	r5, #13
 3009 0320 E3E7     		b	.L195
 3010              	.LVL333:
 3011              	.L230:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3012              		.loc 1 3136 25 view .LVU968
 3013 0322 0D25     		movs	r5, #13
 3014 0324 E1E7     		b	.L195
 3015              	.LVL334:
 3016              	.L231:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 3017              		.loc 1 3140 30 view .LVU969
 3018 0326 0D25     		movs	r5, #13
 3019 0328 DFE7     		b	.L195
 3020              	.LVL335:
 3021              	.L232:
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 3022              		.loc 1 3142 26 view .LVU970
 3023 032a 0D25     		movs	r5, #13
 3024 032c DDE7     		b	.L195
 3025              	.LVL336:
 3026              	.L235:
ARM GAS  /tmp/cc9mPikx.s 			page 168


3153:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 3027              		.loc 1 3153 52 view .LVU971
 3028 032e 0D25     		movs	r5, #13
 3029 0330 DBE7     		b	.L195
 3030              	.L236:
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 3031              		.loc 1 3154 30 view .LVU972
 3032 0332 0D25     		movs	r5, #13
 3033 0334 D9E7     		b	.L195
 3034              	.L247:
 3035 0336 00BF     		.align	2
 3036              	.L246:
 3037 0338 00000000 		.word	.LANCHOR2
 3038 033c 00000000 		.word	.LANCHOR3
 3039 0340 00000000 		.word	.LANCHOR4
 3040 0344 52526141 		.word	1096897106
 3041 0348 72724161 		.word	1631679090
 3042              	.LVL337:
 3043              	.L237:
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 3044              		.loc 1 3158 35 view .LVU973
 3045 034c 0D25     		movs	r5, #13
 3046 034e CCE7     		b	.L195
 3047              	.LVL338:
 3048              	.L238:
3163:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3049              		.loc 1 3163 60 view .LVU974
 3050 0350 0D25     		movs	r5, #13
 3051 0352 CAE7     		b	.L195
 3052              		.cfi_endproc
 3053              	.LFE391:
 3055              		.section	.text.put_fat,"ax",%progbits
 3056              		.align	1
 3057              		.syntax unified
 3058              		.thumb
 3059              		.thumb_func
 3060              		.fpu fpv5-d16
 3062              	put_fat:
 3063              	.LVL339:
 3064              	.LFB368:
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3065              		.loc 1 1086 1 is_stmt 1 view -0
 3066              		.cfi_startproc
 3067              		@ args = 0, pretend = 0, frame = 0
 3068              		@ frame_needed = 0, uses_anonymous_args = 0
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3069              		.loc 1 1086 1 is_stmt 0 view .LVU976
 3070 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3071              	.LCFI31:
 3072              		.cfi_def_cfa_offset 32
 3073              		.cfi_offset 4, -32
 3074              		.cfi_offset 5, -28
 3075              		.cfi_offset 6, -24
 3076              		.cfi_offset 7, -20
 3077              		.cfi_offset 8, -16
 3078              		.cfi_offset 9, -12
 3079              		.cfi_offset 10, -8
ARM GAS  /tmp/cc9mPikx.s 			page 169


 3080              		.cfi_offset 14, -4
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3081              		.loc 1 1087 2 is_stmt 1 view .LVU977
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 3082              		.loc 1 1088 2 view .LVU978
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3083              		.loc 1 1089 2 view .LVU979
 3084              	.LVL340:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3085              		.loc 1 1091 2 view .LVU980
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3086              		.loc 1 1091 5 is_stmt 0 view .LVU981
 3087 0004 0129     		cmp	r1, #1
 3088 0006 40F29680 		bls	.L256
 3089 000a 0446     		mov	r4, r0
 3090 000c 0D46     		mov	r5, r1
 3091 000e 1746     		mov	r7, r2
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3092              		.loc 1 1091 28 discriminator 1 view .LVU982
 3093 0010 C369     		ldr	r3, [r0, #28]
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 3094              		.loc 1 1091 16 discriminator 1 view .LVU983
 3095 0012 8B42     		cmp	r3, r1
 3096 0014 40F29180 		bls	.L257
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3097              		.loc 1 1092 3 is_stmt 1 view .LVU984
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3098              		.loc 1 1092 13 is_stmt 0 view .LVU985
 3099 0018 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
 3100              		.loc 1 1092 3 view .LVU986
 3101 001a 022B     		cmp	r3, #2
 3102 001c 4FD0     		beq	.L250
 3103 001e 032B     		cmp	r3, #3
 3104 0020 67D0     		beq	.L251
 3105 0022 012B     		cmp	r3, #1
 3106 0024 03D0     		beq	.L260
 3107 0026 0226     		movs	r6, #2
 3108              	.LVL341:
 3109              	.L249:
1128:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3110              		.loc 1 1128 2 is_stmt 1 view .LVU987
1129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3111              		.loc 1 1129 1 is_stmt 0 view .LVU988
 3112 0028 3046     		mov	r0, r6
 3113 002a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3114              	.LVL342:
 3115              	.L260:
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3116              		.loc 1 1094 4 is_stmt 1 view .LVU989
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3117              		.loc 1 1094 21 view .LVU990
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3118              		.loc 1 1094 24 is_stmt 0 view .LVU991
 3119 002e 01EB5108 		add	r8, r1, r1, lsr #1
 3120              	.LVL343:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/cc9mPikx.s 			page 170


 3121              		.loc 1 1095 4 is_stmt 1 view .LVU992
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3122              		.loc 1 1095 28 is_stmt 0 view .LVU993
 3123 0032 816A     		ldr	r1, [r0, #40]
 3124              	.LVL344:
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3125              		.loc 1 1095 46 view .LVU994
 3126 0034 8389     		ldrh	r3, [r0, #12]
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3127              		.loc 1 1095 44 view .LVU995
 3128 0036 B8FBF3F3 		udiv	r3, r8, r3
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3129              		.loc 1 1095 10 view .LVU996
 3130 003a 1944     		add	r1, r1, r3
 3131 003c FFF7FEFF 		bl	move_window
 3132              	.LVL345:
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 3133              		.loc 1 1096 4 is_stmt 1 view .LVU997
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 3134              		.loc 1 1096 7 is_stmt 0 view .LVU998
 3135 0040 0646     		mov	r6, r0
 3136 0042 0028     		cmp	r0, #0
 3137 0044 F0D1     		bne	.L249
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3138              		.loc 1 1097 4 is_stmt 1 view .LVU999
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3139              		.loc 1 1097 8 is_stmt 0 view .LVU1000
 3140 0046 04F13809 		add	r9, r4, #56
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3141              		.loc 1 1097 20 view .LVU1001
 3142 004a 08F1010A 		add	r10, r8, #1
 3143              	.LVL346:
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3144              		.loc 1 1097 25 view .LVU1002
 3145 004e A289     		ldrh	r2, [r4, #12]
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3146              		.loc 1 1097 23 view .LVU1003
 3147 0050 B8FBF2F3 		udiv	r3, r8, r2
 3148 0054 02FB1388 		mls	r8, r2, r3, r8
 3149              	.LVL347:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3150              		.loc 1 1098 4 is_stmt 1 view .LVU1004
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3151              		.loc 1 1098 7 is_stmt 0 view .LVU1005
 3152 0058 15F00105 		ands	r5, r5, #1
 3153              	.LVL348:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3154              		.loc 1 1098 7 view .LVU1006
 3155 005c 24D0     		beq	.L252
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3156              		.loc 1 1098 24 discriminator 1 view .LVU1007
 3157 005e 19F90830 		ldrsb	r3, [r9, r8]
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3158              		.loc 1 1098 27 discriminator 1 view .LVU1008
 3159 0062 03F00F03 		and	r3, r3, #15
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3160              		.loc 1 1098 48 discriminator 1 view .LVU1009
ARM GAS  /tmp/cc9mPikx.s 			page 171


 3161 0066 3A01     		lsls	r2, r7, #4
 3162 0068 02F47F62 		and	r2, r2, #4080
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3163              		.loc 1 1098 35 discriminator 1 view .LVU1010
 3164 006c 1343     		orrs	r3, r3, r2
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3165              		.loc 1 1098 7 discriminator 1 view .LVU1011
 3166 006e DBB2     		uxtb	r3, r3
 3167              	.L253:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3168              		.loc 1 1098 7 discriminator 4 view .LVU1012
 3169 0070 09F80830 		strb	r3, [r9, r8]
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3170              		.loc 1 1099 4 is_stmt 1 discriminator 4 view .LVU1013
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3171              		.loc 1 1099 14 is_stmt 0 discriminator 4 view .LVU1014
 3172 0074 0123     		movs	r3, #1
 3173 0076 E370     		strb	r3, [r4, #3]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3174              		.loc 1 1100 4 is_stmt 1 discriminator 4 view .LVU1015
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3175              		.loc 1 1100 28 is_stmt 0 discriminator 4 view .LVU1016
 3176 0078 A16A     		ldr	r1, [r4, #40]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3177              		.loc 1 1100 46 discriminator 4 view .LVU1017
 3178 007a A389     		ldrh	r3, [r4, #12]
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3179              		.loc 1 1100 44 discriminator 4 view .LVU1018
 3180 007c BAFBF3F3 		udiv	r3, r10, r3
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3181              		.loc 1 1100 10 discriminator 4 view .LVU1019
 3182 0080 1944     		add	r1, r1, r3
 3183 0082 2046     		mov	r0, r4
 3184              	.LVL349:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3185              		.loc 1 1100 10 discriminator 4 view .LVU1020
 3186 0084 FFF7FEFF 		bl	move_window
 3187              	.LVL350:
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3188              		.loc 1 1101 4 is_stmt 1 discriminator 4 view .LVU1021
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 3189              		.loc 1 1101 7 is_stmt 0 discriminator 4 view .LVU1022
 3190 0088 0646     		mov	r6, r0
 3191 008a 0028     		cmp	r0, #0
 3192 008c CCD1     		bne	.L249
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3193              		.loc 1 1102 4 is_stmt 1 view .LVU1023
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3194              		.loc 1 1102 23 is_stmt 0 view .LVU1024
 3195 008e A289     		ldrh	r2, [r4, #12]
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3196              		.loc 1 1102 21 view .LVU1025
 3197 0090 BAFBF2F3 		udiv	r3, r10, r2
 3198 0094 02FB13AA 		mls	r10, r2, r3, r10
 3199              	.LVL351:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3200              		.loc 1 1103 4 is_stmt 1 view .LVU1026
ARM GAS  /tmp/cc9mPikx.s 			page 172


1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3201              		.loc 1 1103 7 is_stmt 0 view .LVU1027
 3202 0098 45B1     		cbz	r5, .L254
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3203              		.loc 1 1103 7 discriminator 1 view .LVU1028
 3204 009a C7F30712 		ubfx	r2, r7, #4, #8
 3205              	.LVL352:
 3206              	.L255:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3207              		.loc 1 1103 7 discriminator 4 view .LVU1029
 3208 009e 09F80A20 		strb	r2, [r9, r10]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3209              		.loc 1 1104 4 is_stmt 1 discriminator 4 view .LVU1030
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3210              		.loc 1 1104 14 is_stmt 0 discriminator 4 view .LVU1031
 3211 00a2 0123     		movs	r3, #1
 3212 00a4 E370     		strb	r3, [r4, #3]
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3213              		.loc 1 1105 4 is_stmt 1 discriminator 4 view .LVU1032
 3214 00a6 BFE7     		b	.L249
 3215              	.LVL353:
 3216              	.L252:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3217              		.loc 1 1098 7 is_stmt 0 discriminator 2 view .LVU1033
 3218 00a8 FBB2     		uxtb	r3, r7
 3219 00aa E1E7     		b	.L253
 3220              	.LVL354:
 3221              	.L254:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3222              		.loc 1 1103 43 discriminator 2 view .LVU1034
 3223 00ac 19F90A20 		ldrsb	r2, [r9, r10]
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3224              		.loc 1 1103 46 discriminator 2 view .LVU1035
 3225 00b0 22F00F02 		bic	r2, r2, #15
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3226              		.loc 1 1103 74 discriminator 2 view .LVU1036
 3227 00b4 C7F30327 		ubfx	r7, r7, #8, #4
 3228              	.LVL355:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3229              		.loc 1 1103 54 discriminator 2 view .LVU1037
 3230 00b8 3A43     		orrs	r2, r2, r7
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3231              		.loc 1 1103 7 discriminator 2 view .LVU1038
 3232 00ba D2B2     		uxtb	r2, r2
 3233 00bc EFE7     		b	.L255
 3234              	.LVL356:
 3235              	.L250:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3236              		.loc 1 1108 4 is_stmt 1 view .LVU1039
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3237              		.loc 1 1108 28 is_stmt 0 view .LVU1040
 3238 00be 816A     		ldr	r1, [r0, #40]
 3239              	.LVL357:
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3240              		.loc 1 1108 49 view .LVU1041
 3241 00c0 8389     		ldrh	r3, [r0, #12]
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
ARM GAS  /tmp/cc9mPikx.s 			page 173


 3242              		.loc 1 1108 56 view .LVU1042
 3243 00c2 5B08     		lsrs	r3, r3, #1
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3244              		.loc 1 1108 46 view .LVU1043
 3245 00c4 B5FBF3F3 		udiv	r3, r5, r3
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3246              		.loc 1 1108 10 view .LVU1044
 3247 00c8 1944     		add	r1, r1, r3
 3248 00ca FFF7FEFF 		bl	move_window
 3249              	.LVL358:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3250              		.loc 1 1109 4 is_stmt 1 view .LVU1045
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 3251              		.loc 1 1109 7 is_stmt 0 view .LVU1046
 3252 00ce 0646     		mov	r6, r0
 3253 00d0 0028     		cmp	r0, #0
 3254 00d2 A9D1     		bne	.L249
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3255              		.loc 1 1110 4 is_stmt 1 view .LVU1047
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3256              		.loc 1 1110 12 is_stmt 0 view .LVU1048
 3257 00d4 04F13800 		add	r0, r4, #56
 3258              	.LVL359:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3259              		.loc 1 1110 27 view .LVU1049
 3260 00d8 6D00     		lsls	r5, r5, #1
 3261              	.LVL360:
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3262              		.loc 1 1110 33 view .LVU1050
 3263 00da A289     		ldrh	r2, [r4, #12]
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3264              		.loc 1 1110 31 view .LVU1051
 3265 00dc B5FBF2F3 		udiv	r3, r5, r2
 3266 00e0 02FB1355 		mls	r5, r2, r3, r5
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3267              		.loc 1 1110 4 view .LVU1052
 3268 00e4 B9B2     		uxth	r1, r7
 3269 00e6 2844     		add	r0, r0, r5
 3270 00e8 FFF7FEFF 		bl	st_word
 3271              	.LVL361:
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3272              		.loc 1 1111 4 is_stmt 1 view .LVU1053
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3273              		.loc 1 1111 14 is_stmt 0 view .LVU1054
 3274 00ec 0123     		movs	r3, #1
 3275 00ee E370     		strb	r3, [r4, #3]
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3276              		.loc 1 1112 4 is_stmt 1 view .LVU1055
 3277 00f0 9AE7     		b	.L249
 3278              	.LVL362:
 3279              	.L251:
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3280              		.loc 1 1118 4 view .LVU1056
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3281              		.loc 1 1118 28 is_stmt 0 view .LVU1057
 3282 00f2 816A     		ldr	r1, [r0, #40]
 3283              	.LVL363:
ARM GAS  /tmp/cc9mPikx.s 			page 174


1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3284              		.loc 1 1118 49 view .LVU1058
 3285 00f4 8389     		ldrh	r3, [r0, #12]
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3286              		.loc 1 1118 56 view .LVU1059
 3287 00f6 9B08     		lsrs	r3, r3, #2
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3288              		.loc 1 1118 46 view .LVU1060
 3289 00f8 B5FBF3F3 		udiv	r3, r5, r3
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3290              		.loc 1 1118 10 view .LVU1061
 3291 00fc 1944     		add	r1, r1, r3
 3292 00fe FFF7FEFF 		bl	move_window
 3293              	.LVL364:
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3294              		.loc 1 1119 4 is_stmt 1 view .LVU1062
1119:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 3295              		.loc 1 1119 7 is_stmt 0 view .LVU1063
 3296 0102 0646     		mov	r6, r0
 3297 0104 0028     		cmp	r0, #0
 3298 0106 8FD1     		bne	.L249
1120:Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 3299              		.loc 1 1120 4 is_stmt 1 view .LVU1064
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3300              		.loc 1 1121 5 view .LVU1065
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3301              		.loc 1 1121 16 is_stmt 0 view .LVU1066
 3302 0108 27F07047 		bic	r7, r7, #-268435456
 3303              	.LVL365:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3304              		.loc 1 1121 42 view .LVU1067
 3305 010c 04F13803 		add	r3, r4, #56
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3306              		.loc 1 1121 57 view .LVU1068
 3307 0110 AD00     		lsls	r5, r5, #2
 3308              	.LVL366:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3309              		.loc 1 1121 63 view .LVU1069
 3310 0112 A189     		ldrh	r1, [r4, #12]
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3311              		.loc 1 1121 61 view .LVU1070
 3312 0114 B5FBF1F2 		udiv	r2, r5, r1
 3313 0118 01FB1255 		mls	r5, r1, r2, r5
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3314              		.loc 1 1121 33 view .LVU1071
 3315 011c 1D44     		add	r5, r5, r3
 3316 011e 2846     		mov	r0, r5
 3317              	.LVL367:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3318              		.loc 1 1121 33 view .LVU1072
 3319 0120 FFF7FEFF 		bl	ld_dword
 3320              	.LVL368:
1121:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3321              		.loc 1 1121 71 view .LVU1073
 3322 0124 00F07041 		and	r1, r0, #-268435456
 3323              	.LVL369:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
ARM GAS  /tmp/cc9mPikx.s 			page 175


 3324              		.loc 1 1123 4 is_stmt 1 view .LVU1074
 3325 0128 3943     		orrs	r1, r1, r7
 3326              	.LVL370:
1123:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3327              		.loc 1 1123 4 is_stmt 0 view .LVU1075
 3328 012a 2846     		mov	r0, r5
 3329 012c FFF7FEFF 		bl	st_dword
 3330              	.LVL371:
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3331              		.loc 1 1124 4 is_stmt 1 view .LVU1076
1124:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3332              		.loc 1 1124 14 is_stmt 0 view .LVU1077
 3333 0130 0123     		movs	r3, #1
 3334 0132 E370     		strb	r3, [r4, #3]
1125:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3335              		.loc 1 1125 4 is_stmt 1 view .LVU1078
 3336 0134 78E7     		b	.L249
 3337              	.LVL372:
 3338              	.L256:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3339              		.loc 1 1089 10 is_stmt 0 view .LVU1079
 3340 0136 0226     		movs	r6, #2
 3341 0138 76E7     		b	.L249
 3342              	.L257:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3343              		.loc 1 1089 10 view .LVU1080
 3344 013a 0226     		movs	r6, #2
 3345 013c 74E7     		b	.L249
 3346              		.cfi_endproc
 3347              	.LFE368:
 3349              		.section	.text.get_fat,"ax",%progbits
 3350              		.align	1
 3351              		.syntax unified
 3352              		.thumb
 3353              		.thumb_func
 3354              		.fpu fpv5-d16
 3356              	get_fat:
 3357              	.LVL373:
 3358              	.LFB367:
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3359              		.loc 1 1005 1 is_stmt 1 view -0
 3360              		.cfi_startproc
 3361              		@ args = 0, pretend = 0, frame = 0
 3362              		@ frame_needed = 0, uses_anonymous_args = 0
1005:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 3363              		.loc 1 1005 1 is_stmt 0 view .LVU1082
 3364 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3365              	.LCFI32:
 3366              		.cfi_def_cfa_offset 24
 3367              		.cfi_offset 3, -24
 3368              		.cfi_offset 4, -20
 3369              		.cfi_offset 5, -16
 3370              		.cfi_offset 6, -12
 3371              		.cfi_offset 7, -8
 3372              		.cfi_offset 14, -4
1006:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 3373              		.loc 1 1006 2 is_stmt 1 view .LVU1083
ARM GAS  /tmp/cc9mPikx.s 			page 176


1007:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3374              		.loc 1 1007 2 view .LVU1084
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3375              		.loc 1 1008 2 view .LVU1085
1008:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3376              		.loc 1 1008 9 is_stmt 0 view .LVU1086
 3377 0002 0568     		ldr	r5, [r0]
 3378              	.LVL374:
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3379              		.loc 1 1011 2 is_stmt 1 view .LVU1087
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3380              		.loc 1 1011 5 is_stmt 0 view .LVU1088
 3381 0004 0129     		cmp	r1, #1
 3382 0006 6CD9     		bls	.L266
 3383 0008 0C46     		mov	r4, r1
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3384              		.loc 1 1011 28 discriminator 1 view .LVU1089
 3385 000a EB69     		ldr	r3, [r5, #28]
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3386              		.loc 1 1011 15 discriminator 1 view .LVU1090
 3387 000c 8B42     		cmp	r3, r1
 3388 000e 6AD9     		bls	.L267
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3389              		.loc 1 1015 3 is_stmt 1 view .LVU1091
 3390              	.LVL375:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3391              		.loc 1 1017 3 view .LVU1092
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3392              		.loc 1 1017 13 is_stmt 0 view .LVU1093
 3393 0010 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3394              		.loc 1 1017 3 view .LVU1094
 3395 0012 022B     		cmp	r3, #2
 3396 0014 37D0     		beq	.L263
 3397 0016 032B     		cmp	r3, #3
 3398 0018 4BD0     		beq	.L264
 3399 001a 012B     		cmp	r3, #1
 3400 001c 01D0     		beq	.L274
 3401 001e 0120     		movs	r0, #1
 3402              	.LVL376:
1017:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3403              		.loc 1 1017 3 view .LVU1095
 3404 0020 60E0     		b	.L261
 3405              	.LVL377:
 3406              	.L274:
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3407              		.loc 1 1019 4 is_stmt 1 view .LVU1096
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3408              		.loc 1 1019 21 view .LVU1097
1019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3409              		.loc 1 1019 24 is_stmt 0 view .LVU1098
 3410 0022 01EB5106 		add	r6, r1, r1, lsr #1
 3411              	.LVL378:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3412              		.loc 1 1020 4 is_stmt 1 view .LVU1099
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3413              		.loc 1 1020 26 is_stmt 0 view .LVU1100
ARM GAS  /tmp/cc9mPikx.s 			page 177


 3414 0026 A96A     		ldr	r1, [r5, #40]
 3415              	.LVL379:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3416              		.loc 1 1020 44 view .LVU1101
 3417 0028 AB89     		ldrh	r3, [r5, #12]
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3418              		.loc 1 1020 42 view .LVU1102
 3419 002a B6FBF3F3 		udiv	r3, r6, r3
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3420              		.loc 1 1020 8 view .LVU1103
 3421 002e 1944     		add	r1, r1, r3
 3422 0030 2846     		mov	r0, r5
 3423              	.LVL380:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3424              		.loc 1 1020 8 view .LVU1104
 3425 0032 FFF7FEFF 		bl	move_window
 3426              	.LVL381:
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 3427              		.loc 1 1020 7 view .LVU1105
 3428 0036 10B1     		cbz	r0, .L275
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3429              		.loc 1 1015 7 view .LVU1106
 3430 0038 4FF0FF30 		mov	r0, #-1
 3431 003c 52E0     		b	.L261
 3432              	.L275:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3433              		.loc 1 1021 4 is_stmt 1 view .LVU1107
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3434              		.loc 1 1021 19 is_stmt 0 view .LVU1108
 3435 003e 771C     		adds	r7, r6, #1
 3436              	.LVL382:
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3437              		.loc 1 1021 24 view .LVU1109
 3438 0040 AB89     		ldrh	r3, [r5, #12]
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3439              		.loc 1 1021 22 view .LVU1110
 3440 0042 B6FBF3F2 		udiv	r2, r6, r3
 3441 0046 03FB1266 		mls	r6, r3, r2, r6
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3442              		.loc 1 1021 16 view .LVU1111
 3443 004a 2E44     		add	r6, r6, r5
 3444 004c 96F83860 		ldrb	r6, [r6, #56]	@ zero_extendqisi2
 3445              	.LVL383:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3446              		.loc 1 1022 4 is_stmt 1 view .LVU1112
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3447              		.loc 1 1022 26 is_stmt 0 view .LVU1113
 3448 0050 A96A     		ldr	r1, [r5, #40]
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3449              		.loc 1 1022 42 view .LVU1114
 3450 0052 B7FBF3F3 		udiv	r3, r7, r3
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3451              		.loc 1 1022 8 view .LVU1115
 3452 0056 1944     		add	r1, r1, r3
 3453 0058 2846     		mov	r0, r5
 3454 005a FFF7FEFF 		bl	move_window
 3455              	.LVL384:
ARM GAS  /tmp/cc9mPikx.s 			page 178


1022:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 3456              		.loc 1 1022 7 view .LVU1116
 3457 005e 0028     		cmp	r0, #0
 3458 0060 43D1     		bne	.L270
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3459              		.loc 1 1023 4 is_stmt 1 view .LVU1117
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3460              		.loc 1 1023 23 is_stmt 0 view .LVU1118
 3461 0062 AA89     		ldrh	r2, [r5, #12]
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3462              		.loc 1 1023 21 view .LVU1119
 3463 0064 B7FBF2F3 		udiv	r3, r7, r2
 3464 0068 02FB1377 		mls	r7, r2, r3, r7
 3465              	.LVL385:
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3466              		.loc 1 1023 17 view .LVU1120
 3467 006c 3D44     		add	r5, r5, r7
 3468              	.LVL386:
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3469              		.loc 1 1023 17 view .LVU1121
 3470 006e 95F83800 		ldrb	r0, [r5, #56]	@ zero_extendqisi2
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 3471              		.loc 1 1023 7 view .LVU1122
 3472 0072 46EA0020 		orr	r0, r6, r0, lsl #8
 3473              	.LVL387:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3474              		.loc 1 1024 4 is_stmt 1 view .LVU1123
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3475              		.loc 1 1024 33 is_stmt 0 view .LVU1124
 3476 0076 14F0010F 		tst	r4, #1
 3477 007a 01D0     		beq	.L265
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3478              		.loc 1 1024 33 discriminator 1 view .LVU1125
 3479 007c 0009     		lsrs	r0, r0, #4
 3480              	.LVL388:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3481              		.loc 1 1024 33 discriminator 1 view .LVU1126
 3482 007e 31E0     		b	.L261
 3483              	.LVL389:
 3484              	.L265:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3485              		.loc 1 1024 33 discriminator 2 view .LVU1127
 3486 0080 C0F30B00 		ubfx	r0, r0, #0, #12
 3487              	.LVL390:
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3488              		.loc 1 1024 33 discriminator 2 view .LVU1128
 3489 0084 2EE0     		b	.L261
 3490              	.LVL391:
 3491              	.L263:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3492              		.loc 1 1028 4 is_stmt 1 view .LVU1129
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3493              		.loc 1 1028 26 is_stmt 0 view .LVU1130
 3494 0086 A96A     		ldr	r1, [r5, #40]
 3495              	.LVL392:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3496              		.loc 1 1028 47 view .LVU1131
ARM GAS  /tmp/cc9mPikx.s 			page 179


 3497 0088 AB89     		ldrh	r3, [r5, #12]
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3498              		.loc 1 1028 54 view .LVU1132
 3499 008a 5B08     		lsrs	r3, r3, #1
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3500              		.loc 1 1028 44 view .LVU1133
 3501 008c B4FBF3F3 		udiv	r3, r4, r3
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3502              		.loc 1 1028 8 view .LVU1134
 3503 0090 1944     		add	r1, r1, r3
 3504 0092 2846     		mov	r0, r5
 3505              	.LVL393:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3506              		.loc 1 1028 8 view .LVU1135
 3507 0094 FFF7FEFF 		bl	move_window
 3508              	.LVL394:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 3509              		.loc 1 1028 7 view .LVU1136
 3510 0098 50BB     		cbnz	r0, .L271
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3511              		.loc 1 1029 4 is_stmt 1 view .LVU1137
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3512              		.loc 1 1029 18 is_stmt 0 view .LVU1138
 3513 009a 05F13800 		add	r0, r5, #56
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3514              		.loc 1 1029 33 view .LVU1139
 3515 009e 6400     		lsls	r4, r4, #1
 3516              	.LVL395:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3517              		.loc 1 1029 39 view .LVU1140
 3518 00a0 AA89     		ldrh	r2, [r5, #12]
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3519              		.loc 1 1029 37 view .LVU1141
 3520 00a2 B4FBF2F3 		udiv	r3, r4, r2
 3521 00a6 02FB1344 		mls	r4, r2, r3, r4
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3522              		.loc 1 1029 10 view .LVU1142
 3523 00aa 2044     		add	r0, r0, r4
 3524 00ac FFF7FEFF 		bl	ld_word
 3525              	.LVL396:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3526              		.loc 1 1030 4 is_stmt 1 view .LVU1143
 3527 00b0 18E0     		b	.L261
 3528              	.LVL397:
 3529              	.L264:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3530              		.loc 1 1033 4 view .LVU1144
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3531              		.loc 1 1033 26 is_stmt 0 view .LVU1145
 3532 00b2 A96A     		ldr	r1, [r5, #40]
 3533              	.LVL398:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3534              		.loc 1 1033 47 view .LVU1146
 3535 00b4 AB89     		ldrh	r3, [r5, #12]
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3536              		.loc 1 1033 54 view .LVU1147
 3537 00b6 9B08     		lsrs	r3, r3, #2
ARM GAS  /tmp/cc9mPikx.s 			page 180


1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3538              		.loc 1 1033 44 view .LVU1148
 3539 00b8 B4FBF3F3 		udiv	r3, r4, r3
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3540              		.loc 1 1033 8 view .LVU1149
 3541 00bc 1944     		add	r1, r1, r3
 3542 00be 2846     		mov	r0, r5
 3543              	.LVL399:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3544              		.loc 1 1033 8 view .LVU1150
 3545 00c0 FFF7FEFF 		bl	move_window
 3546              	.LVL400:
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 3547              		.loc 1 1033 7 view .LVU1151
 3548 00c4 B8B9     		cbnz	r0, .L272
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3549              		.loc 1 1034 4 is_stmt 1 view .LVU1152
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3550              		.loc 1 1034 19 is_stmt 0 view .LVU1153
 3551 00c6 05F13800 		add	r0, r5, #56
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3552              		.loc 1 1034 34 view .LVU1154
 3553 00ca A400     		lsls	r4, r4, #2
 3554              	.LVL401:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3555              		.loc 1 1034 40 view .LVU1155
 3556 00cc AA89     		ldrh	r2, [r5, #12]
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3557              		.loc 1 1034 38 view .LVU1156
 3558 00ce B4FBF2F3 		udiv	r3, r4, r2
 3559 00d2 02FB1344 		mls	r4, r2, r3, r4
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3560              		.loc 1 1034 10 view .LVU1157
 3561 00d6 2044     		add	r0, r0, r4
 3562 00d8 FFF7FEFF 		bl	ld_dword
 3563              	.LVL402:
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3564              		.loc 1 1034 8 view .LVU1158
 3565 00dc 20F07040 		bic	r0, r0, #-268435456
 3566              	.LVL403:
1035:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 3567              		.loc 1 1035 4 is_stmt 1 view .LVU1159
 3568 00e0 00E0     		b	.L261
 3569              	.LVL404:
 3570              	.L266:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3571              		.loc 1 1012 7 is_stmt 0 view .LVU1160
 3572 00e2 0120     		movs	r0, #1
 3573              	.LVL405:
 3574              	.L261:
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3575              		.loc 1 1070 1 view .LVU1161
 3576 00e4 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3577              	.LVL406:
 3578              	.L267:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3579              		.loc 1 1012 7 view .LVU1162
ARM GAS  /tmp/cc9mPikx.s 			page 181


 3580 00e6 0120     		movs	r0, #1
 3581              	.LVL407:
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3582              		.loc 1 1012 7 view .LVU1163
 3583 00e8 FCE7     		b	.L261
 3584              	.LVL408:
 3585              	.L270:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3586              		.loc 1 1015 7 view .LVU1164
 3587 00ea 4FF0FF30 		mov	r0, #-1
 3588 00ee F9E7     		b	.L261
 3589              	.LVL409:
 3590              	.L271:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3591              		.loc 1 1015 7 view .LVU1165
 3592 00f0 4FF0FF30 		mov	r0, #-1
 3593 00f4 F6E7     		b	.L261
 3594              	.L272:
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3595              		.loc 1 1015 7 view .LVU1166
 3596 00f6 4FF0FF30 		mov	r0, #-1
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3597              		.loc 1 1069 2 is_stmt 1 view .LVU1167
1069:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3598              		.loc 1 1069 9 is_stmt 0 view .LVU1168
 3599 00fa F3E7     		b	.L261
 3600              		.cfi_endproc
 3601              	.LFE367:
 3603              		.section	.text.dir_sdi,"ax",%progbits
 3604              		.align	1
 3605              		.syntax unified
 3606              		.thumb
 3607              		.thumb_func
 3608              		.fpu fpv5-d16
 3610              	dir_sdi:
 3611              	.LVL410:
 3612              	.LFB372:
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3613              		.loc 1 1474 1 is_stmt 1 view -0
 3614              		.cfi_startproc
 3615              		@ args = 0, pretend = 0, frame = 0
 3616              		@ frame_needed = 0, uses_anonymous_args = 0
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
 3617              		.loc 1 1474 1 is_stmt 0 view .LVU1170
 3618 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3619              	.LCFI33:
 3620              		.cfi_def_cfa_offset 24
 3621              		.cfi_offset 4, -24
 3622              		.cfi_offset 5, -20
 3623              		.cfi_offset 6, -16
 3624              		.cfi_offset 7, -12
 3625              		.cfi_offset 8, -8
 3626              		.cfi_offset 14, -4
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3627              		.loc 1 1475 2 is_stmt 1 view .LVU1171
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3628              		.loc 1 1476 2 view .LVU1172
ARM GAS  /tmp/cc9mPikx.s 			page 182


1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3629              		.loc 1 1476 9 is_stmt 0 view .LVU1173
 3630 0004 D0F80080 		ldr	r8, [r0]
 3631              	.LVL411:
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3632              		.loc 1 1479 2 is_stmt 1 view .LVU1174
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3633              		.loc 1 1479 5 is_stmt 0 view .LVU1175
 3634 0008 B1F5001F 		cmp	r1, #2097152
 3635 000c 4CD2     		bcs	.L283
 3636 000e 0746     		mov	r7, r0
 3637 0010 0E46     		mov	r6, r1
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3638              		.loc 1 1479 84 discriminator 1 view .LVU1176
 3639 0012 11F01F0F 		tst	r1, #31
 3640 0016 49D1     		bne	.L284
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3641              		.loc 1 1482 2 is_stmt 1 view .LVU1177
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 3642              		.loc 1 1482 11 is_stmt 0 view .LVU1178
 3643 0018 4161     		str	r1, [r0, #20]
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3644              		.loc 1 1483 2 is_stmt 1 view .LVU1179
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 3645              		.loc 1 1483 7 is_stmt 0 view .LVU1180
 3646 001a 8468     		ldr	r4, [r0, #8]
 3647              	.LVL412:
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3648              		.loc 1 1484 2 is_stmt 1 view .LVU1181
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3649              		.loc 1 1484 5 is_stmt 0 view .LVU1182
 3650 001c 2CB9     		cbnz	r4, .L278
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3651              		.loc 1 1484 21 discriminator 1 view .LVU1183
 3652 001e 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 3653              		.loc 1 1484 16 discriminator 1 view .LVU1184
 3654 0022 022B     		cmp	r3, #2
 3655 0024 01D9     		bls	.L278
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3656              		.loc 1 1485 3 is_stmt 1 view .LVU1185
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
 3657              		.loc 1 1485 8 is_stmt 0 view .LVU1186
 3658 0026 D8F82C40 		ldr	r4, [r8, #44]
 3659              	.LVL413:
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3660              		.loc 1 1486 3 is_stmt 1 view .LVU1187
 3661              	.L278:
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3662              		.loc 1 1489 2 view .LVU1188
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 3663              		.loc 1 1489 5 is_stmt 0 view .LVU1189
 3664 002a ECB9     		cbnz	r4, .L279
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3665              		.loc 1 1490 3 is_stmt 1 view .LVU1190
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3666              		.loc 1 1490 25 is_stmt 0 view .LVU1191
ARM GAS  /tmp/cc9mPikx.s 			page 183


 3667 002c B8F80830 		ldrh	r3, [r8, #8]
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3668              		.loc 1 1490 6 view .LVU1192
 3669 0030 B3EB561F 		cmp	r3, r6, lsr #5
 3670 0034 3CD9     		bls	.L285
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3671              		.loc 1 1491 3 is_stmt 1 view .LVU1193
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3672              		.loc 1 1491 16 is_stmt 0 view .LVU1194
 3673 0036 D8F82C30 		ldr	r3, [r8, #44]
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3674              		.loc 1 1491 12 view .LVU1195
 3675 003a FB61     		str	r3, [r7, #28]
 3676              	.LVL414:
 3677              	.L280:
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3678              		.loc 1 1503 2 is_stmt 1 view .LVU1196
1503:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 3679              		.loc 1 1503 12 is_stmt 0 view .LVU1197
 3680 003c BC61     		str	r4, [r7, #24]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3681              		.loc 1 1504 2 is_stmt 1 view .LVU1198
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3682              		.loc 1 1504 9 is_stmt 0 view .LVU1199
 3683 003e FB69     		ldr	r3, [r7, #28]
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3684              		.loc 1 1504 5 view .LVU1200
 3685 0040 E3B3     		cbz	r3, .L289
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3686              		.loc 1 1505 2 is_stmt 1 view .LVU1201
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3687              		.loc 1 1505 20 is_stmt 0 view .LVU1202
 3688 0042 B8F80C20 		ldrh	r2, [r8, #12]
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3689              		.loc 1 1505 18 view .LVU1203
 3690 0046 B6FBF2F2 		udiv	r2, r6, r2
1505:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 3691              		.loc 1 1505 11 view .LVU1204
 3692 004a 1344     		add	r3, r3, r2
 3693 004c FB61     		str	r3, [r7, #28]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3694              		.loc 1 1506 2 is_stmt 1 view .LVU1205
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3695              		.loc 1 1506 12 is_stmt 0 view .LVU1206
 3696 004e 08F13803 		add	r3, r8, #56
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3697              		.loc 1 1506 29 view .LVU1207
 3698 0052 B8F80C20 		ldrh	r2, [r8, #12]
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3699              		.loc 1 1506 27 view .LVU1208
 3700 0056 B6FBF2F1 		udiv	r1, r6, r2
 3701 005a 02FB1166 		mls	r6, r2, r1, r6
 3702              	.LVL415:
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3703              		.loc 1 1506 20 view .LVU1209
 3704 005e 1E44     		add	r6, r6, r3
1506:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 184


 3705              		.loc 1 1506 10 view .LVU1210
 3706 0060 3E62     		str	r6, [r7, #32]
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3707              		.loc 1 1508 2 is_stmt 1 view .LVU1211
1508:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3708              		.loc 1 1508 9 is_stmt 0 view .LVU1212
 3709 0062 0020     		movs	r0, #0
 3710              	.LVL416:
 3711              	.L277:
1509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3712              		.loc 1 1509 1 view .LVU1213
 3713 0064 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3714              	.LVL417:
 3715              	.L279:
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3716              		.loc 1 1494 3 is_stmt 1 view .LVU1214
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3717              		.loc 1 1494 18 is_stmt 0 view .LVU1215
 3718 0068 B8F80A30 		ldrh	r3, [r8, #10]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3719              		.loc 1 1494 28 view .LVU1216
 3720 006c B8F80C50 		ldrh	r5, [r8, #12]
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 3721              		.loc 1 1494 7 view .LVU1217
 3722 0070 05FB03F5 		mul	r5, r5, r3
 3723              	.LVL418:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3724              		.loc 1 1495 3 is_stmt 1 view .LVU1218
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3725              		.loc 1 1495 9 is_stmt 0 view .LVU1219
 3726 0074 00E0     		b	.L281
 3727              	.LVL419:
 3728              	.L292:
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3729              		.loc 1 1499 4 is_stmt 1 view .LVU1220
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3730              		.loc 1 1499 8 is_stmt 0 view .LVU1221
 3731 0076 761B     		subs	r6, r6, r5
 3732              	.LVL420:
 3733              	.L281:
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 3734              		.loc 1 1495 9 is_stmt 1 view .LVU1222
 3735 0078 AE42     		cmp	r6, r5
 3736 007a 0FD3     		bcc	.L291
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3737              		.loc 1 1496 4 view .LVU1223
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3738              		.loc 1 1496 11 is_stmt 0 view .LVU1224
 3739 007c 2146     		mov	r1, r4
 3740 007e 3846     		mov	r0, r7
 3741 0080 FFF7FEFF 		bl	get_fat
 3742              	.LVL421:
 3743 0084 0446     		mov	r4, r0
 3744              	.LVL422:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3745              		.loc 1 1497 4 is_stmt 1 view .LVU1225
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
ARM GAS  /tmp/cc9mPikx.s 			page 185


 3746              		.loc 1 1497 7 is_stmt 0 view .LVU1226
 3747 0086 B0F1FF3F 		cmp	r0, #-1
 3748 008a 13D0     		beq	.L286
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3749              		.loc 1 1498 4 is_stmt 1 view .LVU1227
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3750              		.loc 1 1498 7 is_stmt 0 view .LVU1228
 3751 008c 0128     		cmp	r0, #1
 3752 008e 13D9     		bls	.L287
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3753              		.loc 1 1498 30 discriminator 2 view .LVU1229
 3754 0090 D8F81C30 		ldr	r3, [r8, #28]
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3755              		.loc 1 1498 17 discriminator 2 view .LVU1230
 3756 0094 8342     		cmp	r3, r0
 3757 0096 EED8     		bhi	.L292
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3758              		.loc 1 1498 49 view .LVU1231
 3759 0098 0220     		movs	r0, #2
 3760              	.LVL423:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3761              		.loc 1 1498 49 view .LVU1232
 3762 009a E3E7     		b	.L277
 3763              	.L291:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3764              		.loc 1 1501 3 is_stmt 1 view .LVU1233
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3765              		.loc 1 1501 14 is_stmt 0 view .LVU1234
 3766 009c 2146     		mov	r1, r4
 3767 009e 4046     		mov	r0, r8
 3768 00a0 FFF7FEFF 		bl	clust2sect
 3769              	.LVL424:
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3770              		.loc 1 1501 12 view .LVU1235
 3771 00a4 F861     		str	r0, [r7, #28]
 3772 00a6 C9E7     		b	.L280
 3773              	.LVL425:
 3774              	.L283:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3775              		.loc 1 1480 10 view .LVU1236
 3776 00a8 0220     		movs	r0, #2
 3777              	.LVL426:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3778              		.loc 1 1480 10 view .LVU1237
 3779 00aa DBE7     		b	.L277
 3780              	.LVL427:
 3781              	.L284:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3782              		.loc 1 1480 10 view .LVU1238
 3783 00ac 0220     		movs	r0, #2
 3784              	.LVL428:
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3785              		.loc 1 1480 10 view .LVU1239
 3786 00ae D9E7     		b	.L277
 3787              	.LVL429:
 3788              	.L285:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
ARM GAS  /tmp/cc9mPikx.s 			page 186


 3789              		.loc 1 1490 45 view .LVU1240
 3790 00b0 0220     		movs	r0, #2
 3791              	.LVL430:
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 3792              		.loc 1 1490 45 view .LVU1241
 3793 00b2 D7E7     		b	.L277
 3794              	.LVL431:
 3795              	.L286:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3796              		.loc 1 1497 35 view .LVU1242
 3797 00b4 0120     		movs	r0, #1
 3798              	.LVL432:
1497:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 3799              		.loc 1 1497 35 view .LVU1243
 3800 00b6 D5E7     		b	.L277
 3801              	.LVL433:
 3802              	.L287:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3803              		.loc 1 1498 49 view .LVU1244
 3804 00b8 0220     		movs	r0, #2
 3805              	.LVL434:
1498:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 3806              		.loc 1 1498 49 view .LVU1245
 3807 00ba D3E7     		b	.L277
 3808              	.LVL435:
 3809              	.L289:
1504:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 3810              		.loc 1 1504 24 view .LVU1246
 3811 00bc 0220     		movs	r0, #2
 3812 00be D1E7     		b	.L277
 3813              		.cfi_endproc
 3814              	.LFE372:
 3816              		.section	.text.create_chain,"ax",%progbits
 3817              		.align	1
 3818              		.syntax unified
 3819              		.thumb
 3820              		.thumb_func
 3821              		.fpu fpv5-d16
 3823              	create_chain:
 3824              	.LVL436:
 3825              	.LFB370:
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3826              		.loc 1 1355 1 is_stmt 1 view -0
 3827              		.cfi_startproc
 3828              		@ args = 0, pretend = 0, frame = 0
 3829              		@ frame_needed = 0, uses_anonymous_args = 0
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3830              		.loc 1 1355 1 is_stmt 0 view .LVU1248
 3831 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3832              	.LCFI34:
 3833              		.cfi_def_cfa_offset 24
 3834              		.cfi_offset 4, -24
 3835              		.cfi_offset 5, -20
 3836              		.cfi_offset 6, -16
 3837              		.cfi_offset 7, -12
 3838              		.cfi_offset 8, -8
 3839              		.cfi_offset 14, -4
ARM GAS  /tmp/cc9mPikx.s 			page 187


 3840 0004 0546     		mov	r5, r0
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3841              		.loc 1 1356 2 is_stmt 1 view .LVU1249
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 3842              		.loc 1 1357 2 view .LVU1250
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3843              		.loc 1 1358 2 view .LVU1251
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3844              		.loc 1 1358 9 is_stmt 0 view .LVU1252
 3845 0006 0668     		ldr	r6, [r0]
 3846              	.LVL437:
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3847              		.loc 1 1361 2 is_stmt 1 view .LVU1253
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 3848              		.loc 1 1361 5 is_stmt 0 view .LVU1254
 3849 0008 0F46     		mov	r7, r1
 3850 000a 51B9     		cbnz	r1, .L294
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3851              		.loc 1 1362 3 is_stmt 1 view .LVU1255
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 3852              		.loc 1 1362 7 is_stmt 0 view .LVU1256
 3853 000c D6F81480 		ldr	r8, [r6, #20]
 3854              	.LVL438:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3855              		.loc 1 1363 3 is_stmt 1 view .LVU1257
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3856              		.loc 1 1363 6 is_stmt 0 view .LVU1258
 3857 0010 B8F1000F 		cmp	r8, #0
 3858 0014 12D0     		beq	.L303
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3859              		.loc 1 1363 28 discriminator 2 view .LVU1259
 3860 0016 F369     		ldr	r3, [r6, #28]
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3861              		.loc 1 1363 16 discriminator 2 view .LVU1260
 3862 0018 4345     		cmp	r3, r8
 3863 001a 11D8     		bhi	.L295
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3864              		.loc 1 1363 44 view .LVU1261
 3865 001c 4FF00108 		mov	r8, #1
 3866              	.LVL439:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3867              		.loc 1 1363 44 view .LVU1262
 3868 0020 0EE0     		b	.L295
 3869              	.LVL440:
 3870              	.L294:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3871              		.loc 1 1366 3 is_stmt 1 view .LVU1263
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3872              		.loc 1 1366 8 is_stmt 0 view .LVU1264
 3873 0022 FFF7FEFF 		bl	get_fat
 3874              	.LVL441:
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 3875              		.loc 1 1366 8 view .LVU1265
 3876 0026 0346     		mov	r3, r0
 3877              	.LVL442:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3878              		.loc 1 1367 3 is_stmt 1 view .LVU1266
ARM GAS  /tmp/cc9mPikx.s 			page 188


1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3879              		.loc 1 1367 6 is_stmt 0 view .LVU1267
 3880 0028 0128     		cmp	r0, #1
 3881 002a 4CD9     		bls	.L305
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3882              		.loc 1 1368 3 is_stmt 1 view .LVU1268
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3883              		.loc 1 1368 6 is_stmt 0 view .LVU1269
 3884 002c B0F1FF3F 		cmp	r0, #-1
 3885 0030 4ED0     		beq	.L293
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3886              		.loc 1 1369 3 is_stmt 1 view .LVU1270
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3887              		.loc 1 1369 14 is_stmt 0 view .LVU1271
 3888 0032 F269     		ldr	r2, [r6, #28]
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3889              		.loc 1 1369 6 view .LVU1272
 3890 0034 8242     		cmp	r2, r0
 3891 0036 4BD8     		bhi	.L293
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3892              		.loc 1 1370 7 view .LVU1273
 3893 0038 B846     		mov	r8, r7
 3894 003a 01E0     		b	.L295
 3895              	.LVL443:
 3896              	.L303:
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3897              		.loc 1 1363 44 view .LVU1274
 3898 003c 4FF00108 		mov	r8, #1
 3899              	.LVL444:
 3900              	.L295:
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3901              		.loc 1 1400 3 is_stmt 1 view .LVU1275
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
 3902              		.loc 1 1400 7 is_stmt 0 view .LVU1276
 3903 0040 4446     		mov	r4, r8
 3904 0042 0CE0     		b	.L299
 3905              	.LVL445:
 3906              	.L297:
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3907              		.loc 1 1407 4 is_stmt 1 view .LVU1277
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 3908              		.loc 1 1407 9 is_stmt 0 view .LVU1278
 3909 0044 2146     		mov	r1, r4
 3910 0046 2846     		mov	r0, r5
 3911 0048 FFF7FEFF 		bl	get_fat
 3912              	.LVL446:
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3913              		.loc 1 1408 4 is_stmt 1 view .LVU1279
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 3914              		.loc 1 1408 7 is_stmt 0 view .LVU1280
 3915 004c 0346     		mov	r3, r0
 3916 004e 78B1     		cbz	r0, .L298
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3917              		.loc 1 1409 4 is_stmt 1 view .LVU1281
1409:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 3918              		.loc 1 1409 7 is_stmt 0 view .LVU1282
 3919 0050 B0F1FF3F 		cmp	r0, #-1
ARM GAS  /tmp/cc9mPikx.s 			page 189


 3920 0054 18BF     		it	ne
 3921 0056 0128     		cmpne	r0, #1
 3922 0058 3AD0     		beq	.L293
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3923              		.loc 1 1410 4 is_stmt 1 view .LVU1283
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3924              		.loc 1 1410 7 is_stmt 0 view .LVU1284
 3925 005a 4445     		cmp	r4, r8
 3926 005c 37D0     		beq	.L310
 3927              	.LVL447:
 3928              	.L299:
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 3929              		.loc 1 1401 3 is_stmt 1 view .LVU1285
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3930              		.loc 1 1402 4 view .LVU1286
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 3931              		.loc 1 1402 7 is_stmt 0 view .LVU1287
 3932 005e 0134     		adds	r4, r4, #1
 3933              	.LVL448:
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3934              		.loc 1 1403 4 is_stmt 1 view .LVU1288
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3935              		.loc 1 1403 17 is_stmt 0 view .LVU1289
 3936 0060 F369     		ldr	r3, [r6, #28]
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 3937              		.loc 1 1403 7 view .LVU1290
 3938 0062 A342     		cmp	r3, r4
 3939 0064 EED8     		bhi	.L297
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3940              		.loc 1 1404 5 is_stmt 1 view .LVU1291
 3941              	.LVL449:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3942              		.loc 1 1405 5 view .LVU1292
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 3943              		.loc 1 1405 8 is_stmt 0 view .LVU1293
 3944 0066 B8F1010F 		cmp	r8, #1
 3945 006a 2ED9     		bls	.L306
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 3946              		.loc 1 1404 9 view .LVU1294
 3947 006c 0224     		movs	r4, #2
 3948 006e E9E7     		b	.L297
 3949              	.LVL450:
 3950              	.L298:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3951              		.loc 1 1412 3 is_stmt 1 view .LVU1295
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3952              		.loc 1 1412 9 is_stmt 0 view .LVU1296
 3953 0070 4FF0FF32 		mov	r2, #-1
 3954 0074 2146     		mov	r1, r4
 3955 0076 3046     		mov	r0, r6
 3956              	.LVL451:
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 3957              		.loc 1 1412 9 view .LVU1297
 3958 0078 FFF7FEFF 		bl	put_fat
 3959              	.LVL452:
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3960              		.loc 1 1413 3 is_stmt 1 view .LVU1298
ARM GAS  /tmp/cc9mPikx.s 			page 190


1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3961              		.loc 1 1413 11 is_stmt 0 view .LVU1299
 3962 007c 0246     		mov	r2, r0
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3963              		.loc 1 1413 28 view .LVU1300
 3964 007e 3B1E     		subs	r3, r7, #0
 3965 0080 18BF     		it	ne
 3966 0082 0123     		movne	r3, #1
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3967              		.loc 1 1413 20 view .LVU1301
 3968 0084 0028     		cmp	r0, #0
 3969 0086 18BF     		it	ne
 3970 0088 0023     		movne	r3, #0
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 3971              		.loc 1 1413 6 view .LVU1302
 3972 008a 73B9     		cbnz	r3, .L311
 3973              	.LVL453:
 3974              	.L300:
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3975              		.loc 1 1418 2 is_stmt 1 view .LVU1303
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 3976              		.loc 1 1418 5 is_stmt 0 view .LVU1304
 3977 008c A2B9     		cbnz	r2, .L301
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3978              		.loc 1 1419 3 is_stmt 1 view .LVU1305
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 3979              		.loc 1 1419 17 is_stmt 0 view .LVU1306
 3980 008e 7461     		str	r4, [r6, #20]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3981              		.loc 1 1420 3 is_stmt 1 view .LVU1307
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3982              		.loc 1 1420 9 is_stmt 0 view .LVU1308
 3983 0090 B269     		ldr	r2, [r6, #24]
 3984              	.LVL454:
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3985              		.loc 1 1420 26 view .LVU1309
 3986 0092 F369     		ldr	r3, [r6, #28]
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3987              		.loc 1 1420 37 view .LVU1310
 3988 0094 023B     		subs	r3, r3, #2
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3989              		.loc 1 1420 6 view .LVU1311
 3990 0096 9A42     		cmp	r2, r3
 3991 0098 01D8     		bhi	.L302
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3992              		.loc 1 1420 42 is_stmt 1 discriminator 1 view .LVU1312
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 3993              		.loc 1 1420 55 is_stmt 0 discriminator 1 view .LVU1313
 3994 009a 013A     		subs	r2, r2, #1
 3995 009c B261     		str	r2, [r6, #24]
 3996              	.L302:
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3997              		.loc 1 1421 3 is_stmt 1 view .LVU1314
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 3998              		.loc 1 1421 16 is_stmt 0 view .LVU1315
 3999 009e 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
 4000 00a0 43F00103 		orr	r3, r3, #1
ARM GAS  /tmp/cc9mPikx.s 			page 191


 4001 00a4 3371     		strb	r3, [r6, #4]
 4002 00a6 2346     		mov	r3, r4
 4003 00a8 12E0     		b	.L293
 4004              	.LVL455:
 4005              	.L311:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4006              		.loc 1 1414 4 is_stmt 1 view .LVU1316
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4007              		.loc 1 1414 10 is_stmt 0 view .LVU1317
 4008 00aa 2246     		mov	r2, r4
 4009 00ac 3946     		mov	r1, r7
 4010 00ae 3046     		mov	r0, r6
 4011              	.LVL456:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4012              		.loc 1 1414 10 view .LVU1318
 4013 00b0 FFF7FEFF 		bl	put_fat
 4014              	.LVL457:
 4015 00b4 0246     		mov	r2, r0
 4016              	.LVL458:
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4017              		.loc 1 1414 10 view .LVU1319
 4018 00b6 E9E7     		b	.L300
 4019              	.L301:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4020              		.loc 1 1423 3 is_stmt 1 view .LVU1320
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4021              		.loc 1 1423 43 is_stmt 0 view .LVU1321
 4022 00b8 012A     		cmp	r2, #1
 4023 00ba 01D0     		beq	.L312
 4024 00bc 0123     		movs	r3, #1
 4025              	.LVL459:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4026              		.loc 1 1423 43 view .LVU1322
 4027 00be 07E0     		b	.L293
 4028              	.LVL460:
 4029              	.L312:
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4030              		.loc 1 1423 43 view .LVU1323
 4031 00c0 4FF0FF33 		mov	r3, #-1
 4032 00c4 04E0     		b	.L293
 4033              	.LVL461:
 4034              	.L305:
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 4035              		.loc 1 1367 22 view .LVU1324
 4036 00c6 0123     		movs	r3, #1
 4037 00c8 02E0     		b	.L293
 4038              	.LVL462:
 4039              	.L306:
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4040              		.loc 1 1405 27 view .LVU1325
 4041 00ca 0023     		movs	r3, #0
 4042 00cc 00E0     		b	.L293
 4043              	.LVL463:
 4044              	.L310:
1410:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4045              		.loc 1 1410 27 view .LVU1326
 4046 00ce 0023     		movs	r3, #0
ARM GAS  /tmp/cc9mPikx.s 			page 192


 4047              	.LVL464:
 4048              	.L293:
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4049              		.loc 1 1427 1 view .LVU1327
 4050 00d0 1846     		mov	r0, r3
 4051 00d2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4052              		.loc 1 1427 1 view .LVU1328
 4053              		.cfi_endproc
 4054              	.LFE370:
 4056              		.section	.text.remove_chain,"ax",%progbits
 4057              		.align	1
 4058              		.syntax unified
 4059              		.thumb
 4060              		.thumb_func
 4061              		.fpu fpv5-d16
 4063              	remove_chain:
 4064              	.LVL465:
 4065              	.LFB369:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 4066              		.loc 1 1276 1 is_stmt 1 view -0
 4067              		.cfi_startproc
 4068              		@ args = 0, pretend = 0, frame = 0
 4069              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 4070              		.loc 1 1276 1 is_stmt 0 view .LVU1330
 4071 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4072              	.LCFI35:
 4073              		.cfi_def_cfa_offset 24
 4074              		.cfi_offset 3, -24
 4075              		.cfi_offset 4, -20
 4076              		.cfi_offset 5, -16
 4077              		.cfi_offset 6, -12
 4078              		.cfi_offset 7, -8
 4079              		.cfi_offset 14, -4
 4080 0002 0C46     		mov	r4, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 4081              		.loc 1 1277 2 is_stmt 1 view .LVU1331
 4082              	.LVL466:
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 4083              		.loc 1 1278 2 view .LVU1332
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 4084              		.loc 1 1279 2 view .LVU1333
1279:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
 4085              		.loc 1 1279 9 is_stmt 0 view .LVU1334
 4086 0004 0568     		ldr	r5, [r0]
 4087              	.LVL467:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4088              		.loc 1 1287 2 is_stmt 1 view .LVU1335
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4089              		.loc 1 1287 5 is_stmt 0 view .LVU1336
 4090 0006 0129     		cmp	r1, #1
 4091 0008 2ED9     		bls	.L318
 4092 000a 0646     		mov	r6, r0
 4093 000c 1146     		mov	r1, r2
 4094              	.LVL468:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 193


 4095              		.loc 1 1287 28 discriminator 2 view .LVU1337
 4096 000e EB69     		ldr	r3, [r5, #28]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4097              		.loc 1 1287 15 discriminator 2 view .LVU1338
 4098 0010 A342     		cmp	r3, r4
 4099 0012 2BD9     		bls	.L319
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 4100              		.loc 1 1290 2 is_stmt 1 view .LVU1339
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 4101              		.loc 1 1290 5 is_stmt 0 view .LVU1340
 4102 0014 4AB1     		cbz	r2, .L317
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4103              		.loc 1 1291 3 is_stmt 1 view .LVU1341
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4104              		.loc 1 1291 9 is_stmt 0 view .LVU1342
 4105 0016 4FF0FF32 		mov	r2, #-1
 4106              	.LVL469:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4107              		.loc 1 1291 9 view .LVU1343
 4108 001a 2846     		mov	r0, r5
 4109              	.LVL470:
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 4110              		.loc 1 1291 9 view .LVU1344
 4111 001c FFF7FEFF 		bl	put_fat
 4112              	.LVL471:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4113              		.loc 1 1292 3 is_stmt 1 view .LVU1345
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4114              		.loc 1 1292 6 is_stmt 0 view .LVU1346
 4115 0020 0746     		mov	r7, r0
 4116 0022 10B1     		cbz	r0, .L317
 4117 0024 23E0     		b	.L314
 4118              	.LVL472:
 4119              	.L316:
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 4120              		.loc 1 1327 3 is_stmt 1 view .LVU1347
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4121              		.loc 1 1328 10 view .LVU1348
1328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4122              		.loc 1 1328 2 is_stmt 0 view .LVU1349
 4123 0026 A242     		cmp	r2, r4
 4124 0028 21D9     		bls	.L314
 4125              	.LVL473:
 4126              	.L317:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 4127              		.loc 1 1296 2 is_stmt 1 view .LVU1350
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 4128              		.loc 1 1297 3 view .LVU1351
 4129 002a 2746     		mov	r7, r4
1297:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 4130              		.loc 1 1297 9 is_stmt 0 view .LVU1352
 4131 002c 2146     		mov	r1, r4
 4132 002e 3046     		mov	r0, r6
 4133 0030 FFF7FEFF 		bl	get_fat
 4134              	.LVL474:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4135              		.loc 1 1298 3 is_stmt 1 view .LVU1353
ARM GAS  /tmp/cc9mPikx.s 			page 194


1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4136              		.loc 1 1298 6 is_stmt 0 view .LVU1354
 4137 0034 0446     		mov	r4, r0
 4138              	.LVL475:
1298:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 4139              		.loc 1 1298 6 view .LVU1355
 4140 0036 E0B1     		cbz	r0, .L320
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4141              		.loc 1 1299 3 is_stmt 1 view .LVU1356
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4142              		.loc 1 1299 6 is_stmt 0 view .LVU1357
 4143 0038 0128     		cmp	r0, #1
 4144 003a 1CD0     		beq	.L321
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4145              		.loc 1 1300 3 is_stmt 1 view .LVU1358
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4146              		.loc 1 1300 6 is_stmt 0 view .LVU1359
 4147 003c B0F1FF3F 		cmp	r0, #-1
 4148 0040 1BD0     		beq	.L322
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 4149              		.loc 1 1301 3 is_stmt 1 view .LVU1360
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4150              		.loc 1 1302 4 view .LVU1361
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4151              		.loc 1 1302 10 is_stmt 0 view .LVU1362
 4152 0042 0022     		movs	r2, #0
 4153 0044 3946     		mov	r1, r7
 4154 0046 2846     		mov	r0, r5
 4155              	.LVL476:
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 4156              		.loc 1 1302 10 view .LVU1363
 4157 0048 FFF7FEFF 		bl	put_fat
 4158              	.LVL477:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4159              		.loc 1 1303 4 is_stmt 1 view .LVU1364
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4160              		.loc 1 1303 7 is_stmt 0 view .LVU1365
 4161 004c 0746     		mov	r7, r0
 4162              	.LVL478:
1303:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4163              		.loc 1 1303 7 view .LVU1366
 4164 004e 70B9     		cbnz	r0, .L314
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4165              		.loc 1 1305 3 is_stmt 1 view .LVU1367
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4166              		.loc 1 1305 9 is_stmt 0 view .LVU1368
 4167 0050 AB69     		ldr	r3, [r5, #24]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4168              		.loc 1 1305 25 view .LVU1369
 4169 0052 EA69     		ldr	r2, [r5, #28]
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4170              		.loc 1 1305 36 view .LVU1370
 4171 0054 911E     		subs	r1, r2, #2
1305:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 4172              		.loc 1 1305 6 view .LVU1371
 4173 0056 8B42     		cmp	r3, r1
 4174 0058 E5D2     		bcs	.L316
ARM GAS  /tmp/cc9mPikx.s 			page 195


1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4175              		.loc 1 1306 4 is_stmt 1 view .LVU1372
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4176              		.loc 1 1306 17 is_stmt 0 view .LVU1373
 4177 005a 0133     		adds	r3, r3, #1
 4178 005c AB61     		str	r3, [r5, #24]
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4179              		.loc 1 1307 4 is_stmt 1 view .LVU1374
1307:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4180              		.loc 1 1307 17 is_stmt 0 view .LVU1375
 4181 005e 2B79     		ldrb	r3, [r5, #4]	@ zero_extendqisi2
 4182 0060 43F00103 		orr	r3, r3, #1
 4183 0064 2B71     		strb	r3, [r5, #4]
 4184 0066 DEE7     		b	.L316
 4185              	.LVL479:
 4186              	.L318:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4187              		.loc 1 1287 47 view .LVU1376
 4188 0068 0227     		movs	r7, #2
 4189 006a 00E0     		b	.L314
 4190              	.LVL480:
 4191              	.L319:
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4192              		.loc 1 1287 47 view .LVU1377
 4193 006c 0227     		movs	r7, #2
 4194              	.LVL481:
 4195              	.L314:
1342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4196              		.loc 1 1342 1 view .LVU1378
 4197 006e 3846     		mov	r0, r7
 4198 0070 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4199              	.LVL482:
 4200              	.L320:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4201              		.loc 1 1341 9 view .LVU1379
 4202 0072 0027     		movs	r7, #0
 4203              	.LVL483:
1341:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4204              		.loc 1 1341 9 view .LVU1380
 4205 0074 FBE7     		b	.L314
 4206              	.LVL484:
 4207              	.L321:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4208              		.loc 1 1299 24 view .LVU1381
 4209 0076 0227     		movs	r7, #2
 4210              	.LVL485:
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 4211              		.loc 1 1299 24 view .LVU1382
 4212 0078 F9E7     		b	.L314
 4213              	.LVL486:
 4214              	.L322:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4215              		.loc 1 1300 33 view .LVU1383
 4216 007a 0127     		movs	r7, #1
 4217              	.LVL487:
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 4218              		.loc 1 1300 33 view .LVU1384
ARM GAS  /tmp/cc9mPikx.s 			page 196


 4219 007c F7E7     		b	.L314
 4220              		.cfi_endproc
 4221              	.LFE369:
 4223              		.section	.text.dir_next,"ax",%progbits
 4224              		.align	1
 4225              		.syntax unified
 4226              		.thumb
 4227              		.thumb_func
 4228              		.fpu fpv5-d16
 4230              	dir_next:
 4231              	.LVL488:
 4232              	.LFB373:
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 4233              		.loc 1 1523 1 is_stmt 1 view -0
 4234              		.cfi_startproc
 4235              		@ args = 0, pretend = 0, frame = 0
 4236              		@ frame_needed = 0, uses_anonymous_args = 0
1523:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
 4237              		.loc 1 1523 1 is_stmt 0 view .LVU1386
 4238 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4239              	.LCFI36:
 4240              		.cfi_def_cfa_offset 32
 4241              		.cfi_offset 3, -32
 4242              		.cfi_offset 4, -28
 4243              		.cfi_offset 5, -24
 4244              		.cfi_offset 6, -20
 4245              		.cfi_offset 7, -16
 4246              		.cfi_offset 8, -12
 4247              		.cfi_offset 9, -8
 4248              		.cfi_offset 14, -4
1524:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4249              		.loc 1 1524 2 is_stmt 1 view .LVU1387
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4250              		.loc 1 1525 2 view .LVU1388
1525:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4251              		.loc 1 1525 9 is_stmt 0 view .LVU1389
 4252 0004 0668     		ldr	r6, [r0]
 4253              	.LVL489:
1527:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4254              		.loc 1 1527 2 is_stmt 1 view .LVU1390
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4255              		.loc 1 1530 2 view .LVU1391
1530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 4256              		.loc 1 1530 10 is_stmt 0 view .LVU1392
 4257 0006 4569     		ldr	r5, [r0, #20]
 4258              	.LVL490:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4259              		.loc 1 1531 2 is_stmt 1 view .LVU1393
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4260              		.loc 1 1531 9 is_stmt 0 view .LVU1394
 4261 0008 C369     		ldr	r3, [r0, #28]
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4262              		.loc 1 1531 5 view .LVU1395
 4263 000a 002B     		cmp	r3, #0
 4264 000c 74D0     		beq	.L332
 4265 000e 0446     		mov	r4, r0
 4266 0010 0F46     		mov	r7, r1
ARM GAS  /tmp/cc9mPikx.s 			page 197


 4267 0012 2035     		adds	r5, r5, #32
 4268              	.LVL491:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4269              		.loc 1 1531 16 discriminator 2 view .LVU1396
 4270 0014 B5F5001F 		cmp	r5, #2097152
 4271 0018 70D2     		bcs	.L333
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4272              		.loc 1 1533 2 is_stmt 1 view .LVU1397
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4273              		.loc 1 1533 12 is_stmt 0 view .LVU1398
 4274 001a B189     		ldrh	r1, [r6, #12]
 4275              	.LVL492:
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4276              		.loc 1 1533 10 view .LVU1399
 4277 001c B5FBF1F2 		udiv	r2, r5, r1
 4278 0020 01FB1252 		mls	r2, r1, r2, r5
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 4279              		.loc 1 1533 5 view .LVU1400
 4280 0024 3AB9     		cbnz	r2, .L326
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4281              		.loc 1 1534 3 is_stmt 1 view .LVU1401
1534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4282              		.loc 1 1534 11 is_stmt 0 view .LVU1402
 4283 0026 0133     		adds	r3, r3, #1
 4284 0028 C361     		str	r3, [r0, #28]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4285              		.loc 1 1536 3 is_stmt 1 view .LVU1403
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4286              		.loc 1 1536 10 is_stmt 0 view .LVU1404
 4287 002a 8169     		ldr	r1, [r0, #24]
1536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 4288              		.loc 1 1536 6 view .LVU1405
 4289 002c A1B9     		cbnz	r1, .L327
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4290              		.loc 1 1537 4 is_stmt 1 view .LVU1406
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4291              		.loc 1 1537 26 is_stmt 0 view .LVU1407
 4292 002e 3389     		ldrh	r3, [r6, #8]
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 4293              		.loc 1 1537 7 view .LVU1408
 4294 0030 B3EB551F 		cmp	r3, r5, lsr #5
 4295 0034 0CD9     		bls	.L342
 4296              	.LVL493:
 4297              	.L326:
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4298              		.loc 1 1574 2 is_stmt 1 view .LVU1409
1574:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 4299              		.loc 1 1574 11 is_stmt 0 view .LVU1410
 4300 0036 6561     		str	r5, [r4, #20]
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4301              		.loc 1 1575 2 is_stmt 1 view .LVU1411
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4302              		.loc 1 1575 12 is_stmt 0 view .LVU1412
 4303 0038 06F13803 		add	r3, r6, #56
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4304              		.loc 1 1575 28 view .LVU1413
 4305 003c B189     		ldrh	r1, [r6, #12]
ARM GAS  /tmp/cc9mPikx.s 			page 198


1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4306              		.loc 1 1575 26 view .LVU1414
 4307 003e B5FBF1F2 		udiv	r2, r5, r1
 4308 0042 01FB1255 		mls	r5, r1, r2, r5
 4309              	.LVL494:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4310              		.loc 1 1575 20 view .LVU1415
 4311 0046 1D44     		add	r5, r5, r3
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4312              		.loc 1 1575 10 view .LVU1416
 4313 0048 2562     		str	r5, [r4, #32]
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4314              		.loc 1 1577 2 is_stmt 1 view .LVU1417
1577:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4315              		.loc 1 1577 9 is_stmt 0 view .LVU1418
 4316 004a 0020     		movs	r0, #0
 4317              	.LVL495:
 4318              	.L325:
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4319              		.loc 1 1578 1 view .LVU1419
 4320 004c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4321              	.LVL496:
 4322              	.L342:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4323              		.loc 1 1538 5 is_stmt 1 view .LVU1420
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4324              		.loc 1 1538 14 is_stmt 0 view .LVU1421
 4325 0050 0023     		movs	r3, #0
 4326 0052 C361     		str	r3, [r0, #28]
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4327              		.loc 1 1538 19 is_stmt 1 view .LVU1422
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4328              		.loc 1 1538 26 is_stmt 0 view .LVU1423
 4329 0054 0420     		movs	r0, #4
 4330              	.LVL497:
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4331              		.loc 1 1538 26 view .LVU1424
 4332 0056 F9E7     		b	.L325
 4333              	.LVL498:
 4334              	.L327:
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4335              		.loc 1 1542 4 is_stmt 1 view .LVU1425
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4336              		.loc 1 1542 15 is_stmt 0 view .LVU1426
 4337 0058 B289     		ldrh	r2, [r6, #12]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4338              		.loc 1 1542 13 view .LVU1427
 4339 005a B5FBF2F2 		udiv	r2, r5, r2
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4340              		.loc 1 1542 27 view .LVU1428
 4341 005e 7389     		ldrh	r3, [r6, #10]
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4342              		.loc 1 1542 35 view .LVU1429
 4343 0060 013B     		subs	r3, r3, #1
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 4344              		.loc 1 1542 7 view .LVU1430
 4345 0062 12EA0308 		ands	r8, r2, r3
ARM GAS  /tmp/cc9mPikx.s 			page 199


 4346 0066 E6D1     		bne	.L326
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4347              		.loc 1 1543 5 is_stmt 1 view .LVU1431
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4348              		.loc 1 1543 12 is_stmt 0 view .LVU1432
 4349 0068 FFF7FEFF 		bl	get_fat
 4350              	.LVL499:
1543:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 4351              		.loc 1 1543 12 view .LVU1433
 4352 006c 8146     		mov	r9, r0
 4353              	.LVL500:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4354              		.loc 1 1544 5 is_stmt 1 view .LVU1434
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4355              		.loc 1 1544 8 is_stmt 0 view .LVU1435
 4356 006e 0128     		cmp	r0, #1
 4357 0070 46D9     		bls	.L334
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4358              		.loc 1 1545 5 is_stmt 1 view .LVU1436
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4359              		.loc 1 1545 8 is_stmt 0 view .LVU1437
 4360 0072 B0F1FF3F 		cmp	r0, #-1
 4361 0076 45D0     		beq	.L335
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4362              		.loc 1 1546 5 is_stmt 1 view .LVU1438
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4363              		.loc 1 1546 19 is_stmt 0 view .LVU1439
 4364 0078 F369     		ldr	r3, [r6, #28]
1546:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4365              		.loc 1 1546 8 view .LVU1440
 4366 007a 8342     		cmp	r3, r0
 4367 007c 34D8     		bhi	.L328
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4368              		.loc 1 1548 6 is_stmt 1 view .LVU1441
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 4369              		.loc 1 1548 9 is_stmt 0 view .LVU1442
 4370 007e 8FB1     		cbz	r7, .L343
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4371              		.loc 1 1551 6 is_stmt 1 view .LVU1443
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4372              		.loc 1 1551 13 is_stmt 0 view .LVU1444
 4373 0080 A169     		ldr	r1, [r4, #24]
 4374 0082 2046     		mov	r0, r4
 4375              	.LVL501:
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4376              		.loc 1 1551 13 view .LVU1445
 4377 0084 FFF7FEFF 		bl	create_chain
 4378              	.LVL502:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4379              		.loc 1 1552 6 is_stmt 1 view .LVU1446
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4380              		.loc 1 1552 9 is_stmt 0 view .LVU1447
 4381 0088 8146     		mov	r9, r0
 4382 008a 0028     		cmp	r0, #0
 4383 008c 3CD0     		beq	.L336
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4384              		.loc 1 1553 6 is_stmt 1 view .LVU1448
ARM GAS  /tmp/cc9mPikx.s 			page 200


1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4385              		.loc 1 1553 9 is_stmt 0 view .LVU1449
 4386 008e 0128     		cmp	r0, #1
 4387 0090 3CD0     		beq	.L337
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4388              		.loc 1 1554 6 is_stmt 1 view .LVU1450
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4389              		.loc 1 1554 9 is_stmt 0 view .LVU1451
 4390 0092 B0F1FF3F 		cmp	r0, #-1
 4391 0096 3BD0     		beq	.L338
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 4392              		.loc 1 1556 6 is_stmt 1 view .LVU1452
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4393              		.loc 1 1557 6 view .LVU1453
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4394              		.loc 1 1557 10 is_stmt 0 view .LVU1454
 4395 0098 3046     		mov	r0, r6
 4396              	.LVL503:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4397              		.loc 1 1557 10 view .LVU1455
 4398 009a FFF7FEFF 		bl	sync_window
 4399              	.LVL504:
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4400              		.loc 1 1557 9 view .LVU1456
 4401 009e 28B1     		cbz	r0, .L344
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 4402              		.loc 1 1557 43 view .LVU1457
 4403 00a0 0120     		movs	r0, #1
 4404 00a2 D3E7     		b	.L325
 4405              	.LVL505:
 4406              	.L343:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4407              		.loc 1 1549 7 is_stmt 1 view .LVU1458
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4408              		.loc 1 1549 16 is_stmt 0 view .LVU1459
 4409 00a4 0023     		movs	r3, #0
 4410 00a6 E361     		str	r3, [r4, #28]
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4411              		.loc 1 1549 21 is_stmt 1 view .LVU1460
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4412              		.loc 1 1549 28 is_stmt 0 view .LVU1461
 4413 00a8 0420     		movs	r0, #4
 4414              	.LVL506:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4415              		.loc 1 1549 28 view .LVU1462
 4416 00aa CFE7     		b	.L325
 4417              	.L344:
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 4418              		.loc 1 1558 6 is_stmt 1 view .LVU1463
 4419 00ac B289     		ldrh	r2, [r6, #12]
 4420 00ae 0021     		movs	r1, #0
 4421 00b0 06F13800 		add	r0, r6, #56
 4422 00b4 FFF7FEFF 		bl	mem_set
 4423              	.LVL507:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4424              		.loc 1 1559 6 view .LVU1464
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
ARM GAS  /tmp/cc9mPikx.s 			page 201


 4425              		.loc 1 1559 32 is_stmt 0 view .LVU1465
 4426 00b8 4946     		mov	r1, r9
 4427 00ba 3046     		mov	r0, r6
 4428 00bc FFF7FEFF 		bl	clust2sect
 4429              	.LVL508:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4430              		.loc 1 1559 30 view .LVU1466
 4431 00c0 7063     		str	r0, [r6, #52]
 4432              	.LVL509:
 4433              	.L330:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4434              		.loc 1 1559 54 is_stmt 1 discriminator 1 view .LVU1467
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4435              		.loc 1 1559 60 is_stmt 0 discriminator 1 view .LVU1468
 4436 00c2 7389     		ldrh	r3, [r6, #10]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4437              		.loc 1 1559 6 discriminator 1 view .LVU1469
 4438 00c4 9845     		cmp	r8, r3
 4439 00c6 0BD2     		bcs	.L345
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4440              		.loc 1 1560 7 is_stmt 1 view .LVU1470
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 4441              		.loc 1 1560 17 is_stmt 0 view .LVU1471
 4442 00c8 0123     		movs	r3, #1
 4443 00ca F370     		strb	r3, [r6, #3]
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4444              		.loc 1 1561 7 is_stmt 1 view .LVU1472
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4445              		.loc 1 1561 11 is_stmt 0 view .LVU1473
 4446 00cc 3046     		mov	r0, r6
 4447 00ce FFF7FEFF 		bl	sync_window
 4448              	.LVL510:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4449              		.loc 1 1561 10 view .LVU1474
 4450 00d2 F8B9     		cbnz	r0, .L340
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4451              		.loc 1 1559 69 is_stmt 1 discriminator 2 view .LVU1475
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4452              		.loc 1 1559 70 is_stmt 0 discriminator 2 view .LVU1476
 4453 00d4 08F10108 		add	r8, r8, #1
 4454              	.LVL511:
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4455              		.loc 1 1559 76 discriminator 2 view .LVU1477
 4456 00d8 736B     		ldr	r3, [r6, #52]
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 4457              		.loc 1 1559 85 discriminator 2 view .LVU1478
 4458 00da 0133     		adds	r3, r3, #1
 4459 00dc 7363     		str	r3, [r6, #52]
 4460 00de F0E7     		b	.L330
 4461              	.L345:
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4462              		.loc 1 1563 6 is_stmt 1 view .LVU1479
1563:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4463              		.loc 1 1563 18 is_stmt 0 view .LVU1480
 4464 00e0 736B     		ldr	r3, [r6, #52]
 4465 00e2 A3EB0803 		sub	r3, r3, r8
 4466 00e6 7363     		str	r3, [r6, #52]
ARM GAS  /tmp/cc9mPikx.s 			page 202


 4467              	.LVL512:
 4468              	.L328:
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4469              		.loc 1 1569 5 is_stmt 1 view .LVU1481
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 4470              		.loc 1 1569 15 is_stmt 0 view .LVU1482
 4471 00e8 C4F81890 		str	r9, [r4, #24]
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4472              		.loc 1 1570 5 is_stmt 1 view .LVU1483
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4473              		.loc 1 1570 16 is_stmt 0 view .LVU1484
 4474 00ec 4946     		mov	r1, r9
 4475 00ee 3046     		mov	r0, r6
 4476 00f0 FFF7FEFF 		bl	clust2sect
 4477              	.LVL513:
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4478              		.loc 1 1570 14 view .LVU1485
 4479 00f4 E061     		str	r0, [r4, #28]
 4480 00f6 9EE7     		b	.L326
 4481              	.LVL514:
 4482              	.L332:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4483              		.loc 1 1531 105 view .LVU1486
 4484 00f8 0420     		movs	r0, #4
 4485              	.LVL515:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4486              		.loc 1 1531 105 view .LVU1487
 4487 00fa A7E7     		b	.L325
 4488              	.LVL516:
 4489              	.L333:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4490              		.loc 1 1531 105 view .LVU1488
 4491 00fc 0420     		movs	r0, #4
 4492              	.LVL517:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4493              		.loc 1 1531 105 view .LVU1489
 4494 00fe A5E7     		b	.L325
 4495              	.LVL518:
 4496              	.L334:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4497              		.loc 1 1544 27 view .LVU1490
 4498 0100 0220     		movs	r0, #2
 4499              	.LVL519:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 4500              		.loc 1 1544 27 view .LVU1491
 4501 0102 A3E7     		b	.L325
 4502              	.LVL520:
 4503              	.L335:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4504              		.loc 1 1545 36 view .LVU1492
 4505 0104 0120     		movs	r0, #1
 4506              	.LVL521:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 4507              		.loc 1 1545 36 view .LVU1493
 4508 0106 A1E7     		b	.L325
 4509              	.LVL522:
 4510              	.L336:
ARM GAS  /tmp/cc9mPikx.s 			page 203


1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4511              		.loc 1 1552 28 view .LVU1494
 4512 0108 0720     		movs	r0, #7
 4513              	.LVL523:
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 4514              		.loc 1 1552 28 view .LVU1495
 4515 010a 9FE7     		b	.L325
 4516              	.LVL524:
 4517              	.L337:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4518              		.loc 1 1553 28 view .LVU1496
 4519 010c 0220     		movs	r0, #2
 4520              	.LVL525:
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 4521              		.loc 1 1553 28 view .LVU1497
 4522 010e 9DE7     		b	.L325
 4523              	.LVL526:
 4524              	.L338:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4525              		.loc 1 1554 37 view .LVU1498
 4526 0110 0120     		movs	r0, #1
 4527              	.LVL527:
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
 4528              		.loc 1 1554 37 view .LVU1499
 4529 0112 9BE7     		b	.L325
 4530              	.LVL528:
 4531              	.L340:
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4532              		.loc 1 1561 44 view .LVU1500
 4533 0114 0120     		movs	r0, #1
 4534 0116 99E7     		b	.L325
 4535              		.cfi_endproc
 4536              	.LFE373:
 4538              		.section	.text.dir_alloc,"ax",%progbits
 4539              		.align	1
 4540              		.syntax unified
 4541              		.thumb
 4542              		.thumb_func
 4543              		.fpu fpv5-d16
 4545              	dir_alloc:
 4546              	.LVL529:
 4547              	.LFB374:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4548              		.loc 1 1593 1 is_stmt 1 view -0
 4549              		.cfi_startproc
 4550              		@ args = 0, pretend = 0, frame = 0
 4551              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4552              		.loc 1 1593 1 is_stmt 0 view .LVU1502
 4553 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4554              	.LCFI37:
 4555              		.cfi_def_cfa_offset 24
 4556              		.cfi_offset 3, -24
 4557              		.cfi_offset 4, -20
 4558              		.cfi_offset 5, -16
 4559              		.cfi_offset 6, -12
 4560              		.cfi_offset 7, -8
ARM GAS  /tmp/cc9mPikx.s 			page 204


 4561              		.cfi_offset 14, -4
 4562 0002 0446     		mov	r4, r0
 4563 0004 0E46     		mov	r6, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4564              		.loc 1 1594 2 is_stmt 1 view .LVU1503
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4565              		.loc 1 1595 2 view .LVU1504
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4566              		.loc 1 1596 2 view .LVU1505
1596:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4567              		.loc 1 1596 9 is_stmt 0 view .LVU1506
 4568 0006 0768     		ldr	r7, [r0]
 4569              	.LVL530:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4570              		.loc 1 1599 2 is_stmt 1 view .LVU1507
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4571              		.loc 1 1599 8 is_stmt 0 view .LVU1508
 4572 0008 0021     		movs	r1, #0
 4573              	.LVL531:
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4574              		.loc 1 1599 8 view .LVU1509
 4575 000a FFF7FEFF 		bl	dir_sdi
 4576              	.LVL532:
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4577              		.loc 1 1600 2 is_stmt 1 view .LVU1510
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4578              		.loc 1 1600 5 is_stmt 0 view .LVU1511
 4579 000e 0246     		mov	r2, r0
 4580 0010 B8B9     		cbnz	r0, .L347
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4581              		.loc 1 1601 5 view .LVU1512
 4582 0012 0025     		movs	r5, #0
 4583 0014 06E0     		b	.L349
 4584              	.LVL533:
 4585              	.L351:
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4586              		.loc 1 1612 7 view .LVU1513
 4587 0016 0025     		movs	r5, #0
 4588              	.LVL534:
 4589              	.L348:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4590              		.loc 1 1614 4 is_stmt 1 view .LVU1514
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4591              		.loc 1 1614 10 is_stmt 0 view .LVU1515
 4592 0018 0121     		movs	r1, #1
 4593 001a 2046     		mov	r0, r4
 4594              	.LVL535:
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 4595              		.loc 1 1614 10 view .LVU1516
 4596 001c FFF7FEFF 		bl	dir_next
 4597              	.LVL536:
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4598              		.loc 1 1615 11 is_stmt 1 view .LVU1517
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4599              		.loc 1 1615 3 is_stmt 0 view .LVU1518
 4600 0020 0246     		mov	r2, r0
 4601 0022 70B9     		cbnz	r0, .L347
ARM GAS  /tmp/cc9mPikx.s 			page 205


 4602              	.LVL537:
 4603              	.L349:
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4604              		.loc 1 1602 3 is_stmt 1 view .LVU1519
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4605              		.loc 1 1603 4 view .LVU1520
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4606              		.loc 1 1603 10 is_stmt 0 view .LVU1521
 4607 0024 E169     		ldr	r1, [r4, #28]
 4608 0026 3846     		mov	r0, r7
 4609              	.LVL538:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4610              		.loc 1 1603 10 view .LVU1522
 4611 0028 FFF7FEFF 		bl	move_window
 4612              	.LVL539:
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4613              		.loc 1 1604 4 is_stmt 1 view .LVU1523
1604:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 4614              		.loc 1 1604 7 is_stmt 0 view .LVU1524
 4615 002c 0246     		mov	r2, r0
 4616 002e 40B9     		cbnz	r0, .L347
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4617              		.loc 1 1608 4 is_stmt 1 view .LVU1525
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4618              		.loc 1 1608 10 is_stmt 0 view .LVU1526
 4619 0030 236A     		ldr	r3, [r4, #32]
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4620              		.loc 1 1608 15 view .LVU1527
 4621 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4622              		.loc 1 1608 7 view .LVU1528
 4623 0034 002B     		cmp	r3, #0
 4624 0036 18BF     		it	ne
 4625 0038 E52B     		cmpne	r3, #229
 4626 003a ECD1     		bne	.L351
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4627              		.loc 1 1610 5 is_stmt 1 view .LVU1529
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4628              		.loc 1 1610 8 is_stmt 0 view .LVU1530
 4629 003c 0135     		adds	r5, r5, #1
 4630              	.LVL540:
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4631              		.loc 1 1610 8 view .LVU1531
 4632 003e B542     		cmp	r5, r6
 4633 0040 EAD1     		bne	.L348
 4634              	.LVL541:
 4635              	.L347:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4636              		.loc 1 1618 2 is_stmt 1 view .LVU1532
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4637              		.loc 1 1618 5 is_stmt 0 view .LVU1533
 4638 0042 042A     		cmp	r2, #4
 4639 0044 01D0     		beq	.L354
 4640              	.LVL542:
 4641              	.L350:
1619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4642              		.loc 1 1619 2 is_stmt 1 view .LVU1534
ARM GAS  /tmp/cc9mPikx.s 			page 206


1620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4643              		.loc 1 1620 1 is_stmt 0 view .LVU1535
 4644 0046 1046     		mov	r0, r2
 4645 0048 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4646              	.LVL543:
 4647              	.L354:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4648              		.loc 1 1618 29 view .LVU1536
 4649 004a 0722     		movs	r2, #7
 4650              	.LVL544:
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4651              		.loc 1 1618 29 view .LVU1537
 4652 004c FBE7     		b	.L350
 4653              		.cfi_endproc
 4654              	.LFE374:
 4656              		.section	.text.dir_read,"ax",%progbits
 4657              		.align	1
 4658              		.syntax unified
 4659              		.thumb
 4660              		.thumb_func
 4661              		.fpu fpv5-d16
 4663              	dir_read:
 4664              	.LVL545:
 4665              	.LFB382:
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4666              		.loc 1 2135 1 is_stmt 1 view -0
 4667              		.cfi_startproc
 4668              		@ args = 0, pretend = 0, frame = 0
 4669              		@ frame_needed = 0, uses_anonymous_args = 0
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 4670              		.loc 1 2135 1 is_stmt 0 view .LVU1539
 4671 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4672              	.LCFI38:
 4673              		.cfi_def_cfa_offset 32
 4674              		.cfi_offset 3, -32
 4675              		.cfi_offset 4, -28
 4676              		.cfi_offset 5, -24
 4677              		.cfi_offset 6, -20
 4678              		.cfi_offset 7, -16
 4679              		.cfi_offset 8, -12
 4680              		.cfi_offset 9, -8
 4681              		.cfi_offset 14, -4
 4682 0004 0446     		mov	r4, r0
 4683 0006 8846     		mov	r8, r1
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4684              		.loc 1 2136 2 is_stmt 1 view .LVU1540
 4685              	.LVL546:
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4686              		.loc 1 2137 2 view .LVU1541
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
 4687              		.loc 1 2137 9 is_stmt 0 view .LVU1542
 4688 0008 0768     		ldr	r7, [r0]
 4689              	.LVL547:
2138:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 4690              		.loc 1 2138 2 is_stmt 1 view .LVU1543
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4691              		.loc 1 2140 2 view .LVU1544
ARM GAS  /tmp/cc9mPikx.s 			page 207


2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4692              		.loc 1 2143 2 view .LVU1545
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4693              		.loc 1 2140 19 is_stmt 0 view .LVU1546
 4694 000a 4FF0FF09 		mov	r9, #255
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4695              		.loc 1 2140 7 view .LVU1547
 4696 000e 4E46     		mov	r6, r9
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4697              		.loc 1 2136 10 view .LVU1548
 4698 0010 0425     		movs	r5, #4
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4699              		.loc 1 2143 8 view .LVU1549
 4700 0012 2CE0     		b	.L356
 4701              	.LVL548:
 4702              	.L373:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
 4703              		.loc 1 2172 5 is_stmt 1 view .LVU1550
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
 4704              		.loc 1 2172 8 is_stmt 0 view .LVU1551
 4705 0014 0F2B     		cmp	r3, #15
 4706 0016 19D1     		bne	.L359
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 4707              		.loc 1 2173 6 is_stmt 1 view .LVU1552
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 4708              		.loc 1 2173 9 is_stmt 0 view .LVU1553
 4709 0018 12F0400F 		tst	r2, #64
 4710 001c 06D0     		beq	.L360
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 4711              		.loc 1 2174 7 is_stmt 1 view .LVU1554
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 4712              		.loc 1 2174 11 is_stmt 0 view .LVU1555
 4713 001e 91F80D90 		ldrb	r9, [r1, #13]	@ zero_extendqisi2
 4714              	.LVL549:
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4715              		.loc 1 2175 7 is_stmt 1 view .LVU1556
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4716              		.loc 1 2175 9 is_stmt 0 view .LVU1557
 4717 0022 02F0BF02 		and	r2, r2, #191
 4718              	.LVL550:
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4719              		.loc 1 2175 25 is_stmt 1 view .LVU1558
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4720              		.loc 1 2176 7 view .LVU1559
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4721              		.loc 1 2176 23 is_stmt 0 view .LVU1560
 4722 0026 6369     		ldr	r3, [r4, #20]
 4723              	.LVL551:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4724              		.loc 1 2176 19 view .LVU1561
 4725 0028 2363     		str	r3, [r4, #48]
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 4726              		.loc 1 2175 29 view .LVU1562
 4727 002a 1646     		mov	r6, r2
 4728              	.LVL552:
 4729              	.L360:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
ARM GAS  /tmp/cc9mPikx.s 			page 208


 4730              		.loc 1 2179 6 is_stmt 1 view .LVU1563
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4731              		.loc 1 2179 10 is_stmt 0 view .LVU1564
 4732 002c B242     		cmp	r2, r6
 4733 002e 01D0     		beq	.L371
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4734              		.loc 1 2179 10 view .LVU1565
 4735 0030 FF26     		movs	r6, #255
 4736              	.LVL553:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4737              		.loc 1 2179 10 view .LVU1566
 4738 0032 16E0     		b	.L358
 4739              	.LVL554:
 4740              	.L371:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4741              		.loc 1 2179 39 discriminator 1 view .LVU1567
 4742 0034 4B7B     		ldrb	r3, [r1, #13]	@ zero_extendqisi2
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4743              		.loc 1 2179 22 discriminator 1 view .LVU1568
 4744 0036 4B45     		cmp	r3, r9
 4745 0038 01D0     		beq	.L372
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4746              		.loc 1 2179 10 view .LVU1569
 4747 003a FF26     		movs	r6, #255
 4748              	.LVL555:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4749              		.loc 1 2179 10 view .LVU1570
 4750 003c 11E0     		b	.L358
 4751              	.LVL556:
 4752              	.L372:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4753              		.loc 1 2179 56 discriminator 3 view .LVU1571
 4754 003e 3869     		ldr	r0, [r7, #16]
 4755 0040 FFF7FEFF 		bl	pick_lfn
 4756              	.LVL557:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4757              		.loc 1 2179 53 discriminator 3 view .LVU1572
 4758 0044 78B3     		cbz	r0, .L369
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4759              		.loc 1 2179 10 discriminator 5 view .LVU1573
 4760 0046 013E     		subs	r6, r6, #1
 4761              	.LVL558:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4762              		.loc 1 2179 10 discriminator 5 view .LVU1574
 4763 0048 F6B2     		uxtb	r6, r6
 4764 004a 0AE0     		b	.L358
 4765              	.LVL559:
 4766              	.L359:
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4767              		.loc 1 2181 6 is_stmt 1 view .LVU1575
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4768              		.loc 1 2181 9 is_stmt 0 view .LVU1576
 4769 004c 26B9     		cbnz	r6, .L361
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4770              		.loc 1 2181 24 discriminator 1 view .LVU1577
 4771 004e 0846     		mov	r0, r1
 4772 0050 FFF7FEFF 		bl	sum_sfn
ARM GAS  /tmp/cc9mPikx.s 			page 209


 4773              	.LVL560:
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 4774              		.loc 1 2181 14 discriminator 1 view .LVU1578
 4775 0054 4845     		cmp	r0, r9
 4776 0056 29D0     		beq	.L357
 4777              	.L361:
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4778              		.loc 1 2182 7 is_stmt 1 view .LVU1579
2182:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4779              		.loc 1 2182 19 is_stmt 0 view .LVU1580
 4780 0058 4FF0FF33 		mov	r3, #-1
 4781 005c 2363     		str	r3, [r4, #48]
 4782 005e 25E0     		b	.L357
 4783              	.LVL561:
 4784              	.L365:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4785              		.loc 1 2170 9 view .LVU1581
 4786 0060 FF26     		movs	r6, #255
 4787              	.LVL562:
 4788              	.L358:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4789              		.loc 1 2193 3 is_stmt 1 view .LVU1582
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4790              		.loc 1 2193 9 is_stmt 0 view .LVU1583
 4791 0062 0021     		movs	r1, #0
 4792 0064 2046     		mov	r0, r4
 4793 0066 FFF7FEFF 		bl	dir_next
 4794              	.LVL563:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4795              		.loc 1 2194 3 is_stmt 1 view .LVU1584
2194:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4796              		.loc 1 2194 6 is_stmt 0 view .LVU1585
 4797 006a 0546     		mov	r5, r0
 4798 006c F0B9     		cbnz	r0, .L357
 4799              	.LVL564:
 4800              	.L356:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4801              		.loc 1 2143 8 is_stmt 1 view .LVU1586
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4802              		.loc 1 2143 11 is_stmt 0 view .LVU1587
 4803 006e E169     		ldr	r1, [r4, #28]
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4804              		.loc 1 2143 8 view .LVU1588
 4805 0070 E1B1     		cbz	r1, .L357
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4806              		.loc 1 2144 3 is_stmt 1 view .LVU1589
2144:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4807              		.loc 1 2144 9 is_stmt 0 view .LVU1590
 4808 0072 3846     		mov	r0, r7
 4809 0074 FFF7FEFF 		bl	move_window
 4810              	.LVL565:
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4811              		.loc 1 2145 3 is_stmt 1 view .LVU1591
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 4812              		.loc 1 2145 6 is_stmt 0 view .LVU1592
 4813 0078 0546     		mov	r5, r0
 4814 007a B8B9     		cbnz	r0, .L357
ARM GAS  /tmp/cc9mPikx.s 			page 210


2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4815              		.loc 1 2146 3 is_stmt 1 view .LVU1593
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4816              		.loc 1 2146 9 is_stmt 0 view .LVU1594
 4817 007c 216A     		ldr	r1, [r4, #32]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 4818              		.loc 1 2146 5 view .LVU1595
 4819 007e 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 4820              	.LVL566:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4821              		.loc 1 2147 3 is_stmt 1 view .LVU1596
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 4822              		.loc 1 2147 6 is_stmt 0 view .LVU1597
 4823 0080 9AB1     		cbz	r2, .L364
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4824              		.loc 1 2167 4 is_stmt 1 view .LVU1598
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4825              		.loc 1 2167 30 is_stmt 0 view .LVU1599
 4826 0082 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4827              		.loc 1 2167 21 view .LVU1600
 4828 0084 03F03F03 		and	r3, r3, #63
 4829              	.LVL567:
2167:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4830              		.loc 1 2167 17 view .LVU1601
 4831 0088 A371     		strb	r3, [r4, #6]
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4832              		.loc 1 2169 4 is_stmt 1 view .LVU1602
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4833              		.loc 1 2169 7 is_stmt 0 view .LVU1603
 4834 008a 2E2A     		cmp	r2, #46
 4835 008c 18BF     		it	ne
 4836 008e E52A     		cmpne	r2, #229
 4837 0090 E6D0     		beq	.L365
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4838              		.loc 1 2169 42 discriminator 1 view .LVU1604
 4839 0092 23F02000 		bic	r0, r3, #32
 4840              	.LVL568:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4841              		.loc 1 2169 33 discriminator 1 view .LVU1605
 4842 0096 0828     		cmp	r0, #8
 4843 0098 14BF     		ite	ne
 4844 009a 0020     		movne	r0, #0
 4845 009c 0120     		moveq	r0, #1
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 4846              		.loc 1 2169 30 discriminator 1 view .LVU1606
 4847 009e 4045     		cmp	r0, r8
 4848 00a0 B8D0     		beq	.L373
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4849              		.loc 1 2170 9 view .LVU1607
 4850 00a2 FF26     		movs	r6, #255
 4851              	.LVL569:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4852              		.loc 1 2170 9 view .LVU1608
 4853 00a4 DDE7     		b	.L358
 4854              	.LVL570:
 4855              	.L369:
ARM GAS  /tmp/cc9mPikx.s 			page 211


2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4856              		.loc 1 2179 10 view .LVU1609
 4857 00a6 FF26     		movs	r6, #255
 4858              	.LVL571:
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
 4859              		.loc 1 2179 10 view .LVU1610
 4860 00a8 DBE7     		b	.L358
 4861              	.LVL572:
 4862              	.L364:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4863              		.loc 1 2148 8 view .LVU1611
 4864 00aa 0425     		movs	r5, #4
 4865              	.LVL573:
 4866              	.L357:
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4867              		.loc 1 2197 2 is_stmt 1 view .LVU1612
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4868              		.loc 1 2197 5 is_stmt 0 view .LVU1613
 4869 00ac 0DB1     		cbz	r5, .L363
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4870              		.loc 1 2197 20 is_stmt 1 discriminator 1 view .LVU1614
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4871              		.loc 1 2197 29 is_stmt 0 discriminator 1 view .LVU1615
 4872 00ae 0023     		movs	r3, #0
 4873 00b0 E361     		str	r3, [r4, #28]
 4874              	.L363:
2198:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4875              		.loc 1 2198 2 is_stmt 1 view .LVU1616
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4876              		.loc 1 2199 1 is_stmt 0 view .LVU1617
 4877 00b2 2846     		mov	r0, r5
 4878 00b4 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2199:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4879              		.loc 1 2199 1 view .LVU1618
 4880              		.cfi_endproc
 4881              	.LFE382:
 4883              		.section	.text.dir_remove,"ax",%progbits
 4884              		.align	1
 4885              		.syntax unified
 4886              		.thumb
 4887              		.thumb_func
 4888              		.fpu fpv5-d16
 4890              	dir_remove:
 4891              	.LVL574:
 4892              	.LFB385:
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4893              		.loc 1 2399 1 is_stmt 1 view -0
 4894              		.cfi_startproc
 4895              		@ args = 0, pretend = 0, frame = 0
 4896              		@ frame_needed = 0, uses_anonymous_args = 0
2399:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4897              		.loc 1 2399 1 is_stmt 0 view .LVU1620
 4898 0000 70B5     		push	{r4, r5, r6, lr}
 4899              	.LCFI39:
 4900              		.cfi_def_cfa_offset 16
 4901              		.cfi_offset 4, -16
 4902              		.cfi_offset 5, -12
ARM GAS  /tmp/cc9mPikx.s 			page 212


 4903              		.cfi_offset 6, -8
 4904              		.cfi_offset 14, -4
 4905 0002 0446     		mov	r4, r0
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4906              		.loc 1 2400 2 is_stmt 1 view .LVU1621
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4907              		.loc 1 2401 2 view .LVU1622
2401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 4908              		.loc 1 2401 9 is_stmt 0 view .LVU1623
 4909 0004 0568     		ldr	r5, [r0]
 4910              	.LVL575:
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4911              		.loc 1 2403 2 is_stmt 1 view .LVU1624
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4912              		.loc 1 2403 8 is_stmt 0 view .LVU1625
 4913 0006 4669     		ldr	r6, [r0, #20]
 4914              	.LVL576:
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4915              		.loc 1 2405 2 is_stmt 1 view .LVU1626
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4916              		.loc 1 2405 11 is_stmt 0 view .LVU1627
 4917 0008 016B     		ldr	r1, [r0, #48]
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4918              		.loc 1 2405 44 view .LVU1628
 4919 000a B1F1FF3F 		cmp	r1, #-1
 4920 000e 18D1     		bne	.L381
 4921              	.LVL577:
 4922              	.L378:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4923              		.loc 1 2407 3 is_stmt 1 view .LVU1629
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4924              		.loc 1 2408 4 view .LVU1630
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4925              		.loc 1 2408 10 is_stmt 0 view .LVU1631
 4926 0010 E169     		ldr	r1, [r4, #28]
 4927 0012 2846     		mov	r0, r5
 4928 0014 FFF7FEFF 		bl	move_window
 4929              	.LVL578:
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4930              		.loc 1 2409 4 is_stmt 1 view .LVU1632
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4931              		.loc 1 2409 7 is_stmt 0 view .LVU1633
 4932 0018 0346     		mov	r3, r0
 4933 001a 70B9     		cbnz	r0, .L377
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
 4934              		.loc 1 2411 4 is_stmt 1 view .LVU1634
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4935              		.loc 1 2414 5 view .LVU1635
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4936              		.loc 1 2414 7 is_stmt 0 view .LVU1636
 4937 001c 226A     		ldr	r2, [r4, #32]
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4938              		.loc 1 2414 23 view .LVU1637
 4939 001e E521     		movs	r1, #229
 4940 0020 1170     		strb	r1, [r2]
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4941              		.loc 1 2416 4 is_stmt 1 view .LVU1638
ARM GAS  /tmp/cc9mPikx.s 			page 213


2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4942              		.loc 1 2416 14 is_stmt 0 view .LVU1639
 4943 0022 0122     		movs	r2, #1
 4944 0024 EA70     		strb	r2, [r5, #3]
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4945              		.loc 1 2417 4 is_stmt 1 view .LVU1640
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4946              		.loc 1 2417 10 is_stmt 0 view .LVU1641
 4947 0026 6269     		ldr	r2, [r4, #20]
2417:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4948              		.loc 1 2417 7 view .LVU1642
 4949 0028 B242     		cmp	r2, r6
 4950 002a 06D2     		bcs	.L377
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4951              		.loc 1 2418 4 is_stmt 1 view .LVU1643
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4952              		.loc 1 2418 10 is_stmt 0 view .LVU1644
 4953 002c 0021     		movs	r1, #0
 4954 002e 2046     		mov	r0, r4
 4955              	.LVL579:
2418:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4956              		.loc 1 2418 10 view .LVU1645
 4957 0030 FFF7FEFF 		bl	dir_next
 4958              	.LVL580:
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
 4959              		.loc 1 2419 11 is_stmt 1 view .LVU1646
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
 4960              		.loc 1 2419 3 is_stmt 0 view .LVU1647
 4961 0034 0346     		mov	r3, r0
 4962 0036 0028     		cmp	r0, #0
 4963 0038 EAD0     		beq	.L378
 4964              	.L377:
 4965              	.LVL581:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4966              		.loc 1 2420 3 is_stmt 1 view .LVU1648
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4967              		.loc 1 2420 6 is_stmt 0 view .LVU1649
 4968 003a 042B     		cmp	r3, #4
 4969 003c 07D0     		beq	.L382
 4970              	.LVL582:
 4971              	.L376:
2431:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4972              		.loc 1 2431 2 is_stmt 1 view .LVU1650
2432:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4973              		.loc 1 2432 1 is_stmt 0 view .LVU1651
 4974 003e 1846     		mov	r0, r3
 4975 0040 70BD     		pop	{r4, r5, r6, pc}
 4976              	.LVL583:
 4977              	.L381:
2405:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4978              		.loc 1 2405 46 discriminator 1 view .LVU1652
 4979 0042 FFF7FEFF 		bl	dir_sdi
 4980              	.LVL584:
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4981              		.loc 1 2406 2 is_stmt 1 discriminator 1 view .LVU1653
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4982              		.loc 1 2406 5 is_stmt 0 discriminator 1 view .LVU1654
ARM GAS  /tmp/cc9mPikx.s 			page 214


 4983 0046 0346     		mov	r3, r0
 4984 0048 0028     		cmp	r0, #0
 4985 004a F8D1     		bne	.L376
 4986 004c E0E7     		b	.L378
 4987              	.LVL585:
 4988              	.L382:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4989              		.loc 1 2420 30 view .LVU1655
 4990 004e 0223     		movs	r3, #2
 4991              	.LVL586:
2420:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4992              		.loc 1 2420 30 view .LVU1656
 4993 0050 F5E7     		b	.L376
 4994              		.cfi_endproc
 4995              	.LFE385:
 4997              		.section	.text.sync_fs,"ax",%progbits
 4998              		.align	1
 4999              		.syntax unified
 5000              		.thumb
 5001              		.thumb_func
 5002              		.fpu fpv5-d16
 5004              	sync_fs:
 5005              	.LVL587:
 5006              	.LFB365:
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5007              		.loc 1 947 1 is_stmt 1 view -0
 5008              		.cfi_startproc
 5009              		@ args = 0, pretend = 0, frame = 0
 5010              		@ frame_needed = 0, uses_anonymous_args = 0
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5011              		.loc 1 947 1 is_stmt 0 view .LVU1658
 5012 0000 70B5     		push	{r4, r5, r6, lr}
 5013              	.LCFI40:
 5014              		.cfi_def_cfa_offset 16
 5015              		.cfi_offset 4, -16
 5016              		.cfi_offset 5, -12
 5017              		.cfi_offset 6, -8
 5018              		.cfi_offset 14, -4
 5019 0002 0446     		mov	r4, r0
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5020              		.loc 1 948 2 is_stmt 1 view .LVU1659
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5021              		.loc 1 951 2 view .LVU1660
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5022              		.loc 1 951 8 is_stmt 0 view .LVU1661
 5023 0004 FFF7FEFF 		bl	sync_window
 5024              	.LVL588:
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 5025              		.loc 1 952 2 is_stmt 1 view .LVU1662
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 5026              		.loc 1 952 5 is_stmt 0 view .LVU1663
 5027 0008 0546     		mov	r5, r0
 5028 000a 48B9     		cbnz	r0, .L384
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5029              		.loc 1 954 3 is_stmt 1 view .LVU1664
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5030              		.loc 1 954 9 is_stmt 0 view .LVU1665
ARM GAS  /tmp/cc9mPikx.s 			page 215


 5031 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5032              		.loc 1 954 6 view .LVU1666
 5033 000e 032B     		cmp	r3, #3
 5034 0010 08D0     		beq	.L388
 5035              	.LVL589:
 5036              	.L385:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5037              		.loc 1 968 3 is_stmt 1 view .LVU1667
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5038              		.loc 1 968 7 is_stmt 0 view .LVU1668
 5039 0012 0022     		movs	r2, #0
 5040 0014 1146     		mov	r1, r2
 5041 0016 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 5042 0018 FFF7FEFF 		bl	disk_ioctl
 5043              	.LVL590:
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5044              		.loc 1 968 6 view .LVU1669
 5045 001c 00B1     		cbz	r0, .L384
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5046              		.loc 1 968 56 view .LVU1670
 5047 001e 0125     		movs	r5, #1
 5048              	.L384:
 5049              	.LVL591:
 971:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5050              		.loc 1 971 2 is_stmt 1 view .LVU1671
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5051              		.loc 1 972 1 is_stmt 0 view .LVU1672
 5052 0020 2846     		mov	r0, r5
 5053 0022 70BD     		pop	{r4, r5, r6, pc}
 5054              	.LVL592:
 5055              	.L388:
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5056              		.loc 1 954 36 discriminator 1 view .LVU1673
 5057 0024 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 5058              		.loc 1 954 31 discriminator 1 view .LVU1674
 5059 0026 012B     		cmp	r3, #1
 5060 0028 F3D1     		bne	.L385
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5061              		.loc 1 956 4 is_stmt 1 view .LVU1675
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5062              		.loc 1 956 14 is_stmt 0 view .LVU1676
 5063 002a 04F13806 		add	r6, r4, #56
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5064              		.loc 1 956 4 view .LVU1677
 5065 002e A289     		ldrh	r2, [r4, #12]
 5066 0030 0021     		movs	r1, #0
 5067 0032 3046     		mov	r0, r6
 5068              	.LVL593:
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 5069              		.loc 1 956 4 view .LVU1678
 5070 0034 FFF7FEFF 		bl	mem_set
 5071              	.LVL594:
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 5072              		.loc 1 957 4 is_stmt 1 view .LVU1679
 5073 0038 4AF65521 		movw	r1, #43605
ARM GAS  /tmp/cc9mPikx.s 			page 216


 5074 003c 04F23620 		addw	r0, r4, #566
 5075 0040 FFF7FEFF 		bl	st_word
 5076              	.LVL595:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 5077              		.loc 1 958 4 view .LVU1680
 5078 0044 0E49     		ldr	r1, .L389
 5079 0046 3046     		mov	r0, r6
 5080 0048 FFF7FEFF 		bl	st_dword
 5081              	.LVL596:
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 5082              		.loc 1 959 4 view .LVU1681
 5083 004c 0D49     		ldr	r1, .L389+4
 5084 004e 04F50770 		add	r0, r4, #540
 5085 0052 FFF7FEFF 		bl	st_dword
 5086              	.LVL597:
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 5087              		.loc 1 960 4 view .LVU1682
 5088 0056 A169     		ldr	r1, [r4, #24]
 5089 0058 04F50870 		add	r0, r4, #544
 5090 005c FFF7FEFF 		bl	st_dword
 5091              	.LVL598:
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 5092              		.loc 1 961 4 view .LVU1683
 5093 0060 6169     		ldr	r1, [r4, #20]
 5094 0062 04F50970 		add	r0, r4, #548
 5095 0066 FFF7FEFF 		bl	st_dword
 5096              	.LVL599:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5097              		.loc 1 963 4 view .LVU1684
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5098              		.loc 1 963 20 is_stmt 0 view .LVU1685
 5099 006a 626A     		ldr	r2, [r4, #36]
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5100              		.loc 1 963 30 view .LVU1686
 5101 006c 0132     		adds	r2, r2, #1
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 5102              		.loc 1 963 16 view .LVU1687
 5103 006e 6263     		str	r2, [r4, #52]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 5104              		.loc 1 964 4 is_stmt 1 view .LVU1688
 5105 0070 0123     		movs	r3, #1
 5106 0072 3146     		mov	r1, r6
 5107 0074 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 5108 0076 FFF7FEFF 		bl	disk_write
 5109              	.LVL600:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5110              		.loc 1 965 4 view .LVU1689
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5111              		.loc 1 965 17 is_stmt 0 view .LVU1690
 5112 007a 0023     		movs	r3, #0
 5113 007c 2371     		strb	r3, [r4, #4]
 5114 007e C8E7     		b	.L385
 5115              	.L390:
 5116              		.align	2
 5117              	.L389:
 5118 0080 52526141 		.word	1096897106
 5119 0084 72724161 		.word	1631679090
ARM GAS  /tmp/cc9mPikx.s 			page 217


 5120              		.cfi_endproc
 5121              	.LFE365:
 5123              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 5124              		.align	2
 5125              	.LC0:
 5126 0000 222A3A3C 		.ascii	"\"*:<>?|\177\000"
 5126      3E3F7C7F 
 5126      00
 5127 0009 000000   		.align	2
 5128              	.LC1:
 5129 000c 2B2C3B3D 		.ascii	"+,;=[]\000"
 5129      5B5D00
 5130              		.section	.text.create_name,"ax",%progbits
 5131              		.align	1
 5132              		.syntax unified
 5133              		.thumb
 5134              		.thumb_func
 5135              		.fpu fpv5-d16
 5137              	create_name:
 5138              	.LVL601:
 5139              	.LFB387:
2622:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5140              		.loc 1 2622 1 is_stmt 1 view -0
 5141              		.cfi_startproc
 5142              		@ args = 0, pretend = 0, frame = 8
 5143              		@ frame_needed = 0, uses_anonymous_args = 0
2622:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 5144              		.loc 1 2622 1 is_stmt 0 view .LVU1692
 5145 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5146              	.LCFI41:
 5147              		.cfi_def_cfa_offset 36
 5148              		.cfi_offset 4, -36
 5149              		.cfi_offset 5, -32
 5150              		.cfi_offset 6, -28
 5151              		.cfi_offset 7, -24
 5152              		.cfi_offset 8, -20
 5153              		.cfi_offset 9, -16
 5154              		.cfi_offset 10, -12
 5155              		.cfi_offset 11, -8
 5156              		.cfi_offset 14, -4
 5157 0004 83B0     		sub	sp, sp, #12
 5158              	.LCFI42:
 5159              		.cfi_def_cfa_offset 48
 5160 0006 8046     		mov	r8, r0
 5161 0008 8A46     		mov	r10, r1
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
 5162              		.loc 1 2624 2 is_stmt 1 view .LVU1693
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
 5163              		.loc 1 2625 2 view .LVU1694
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
 5164              		.loc 1 2626 2 view .LVU1695
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5165              		.loc 1 2627 2 view .LVU1696
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5166              		.loc 1 2630 2 view .LVU1697
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5167              		.loc 1 2630 4 is_stmt 0 view .LVU1698
ARM GAS  /tmp/cc9mPikx.s 			page 218


 5168 000a D1F80090 		ldr	r9, [r1]
 5169              	.LVL602:
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5170              		.loc 1 2630 13 is_stmt 1 view .LVU1699
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5171              		.loc 1 2630 26 is_stmt 0 view .LVU1700
 5172 000e 0368     		ldr	r3, [r0]
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5173              		.loc 1 2630 17 view .LVU1701
 5174 0010 1D69     		ldr	r5, [r3, #16]
 5175              	.LVL603:
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5176              		.loc 1 2630 39 is_stmt 1 view .LVU1702
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5177              		.loc 1 2630 47 is_stmt 0 view .LVU1703
 5178 0012 0024     		movs	r4, #0
2630:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 5179              		.loc 1 2630 42 view .LVU1704
 5180 0014 2346     		mov	r3, r4
 5181 0016 1DE0     		b	.L398
 5182              	.LVL604:
 5183              	.L395:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5184              		.loc 1 2635 42 is_stmt 1 discriminator 2 view .LVU1705
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5185              		.loc 1 2635 44 is_stmt 0 discriminator 2 view .LVU1706
 5186 0018 0137     		adds	r7, r7, #1
 5187              	.LVL605:
 5188              	.L393:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5189              		.loc 1 2635 10 is_stmt 1 discriminator 1 view .LVU1707
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5190              		.loc 1 2635 12 is_stmt 0 discriminator 1 view .LVU1708
 5191 001a 19F80730 		ldrb	r3, [r9, r7]	@ zero_extendqisi2
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5192              		.loc 1 2635 10 discriminator 1 view .LVU1709
 5193 001e 5C2B     		cmp	r3, #92
 5194 0020 18BF     		it	ne
 5195 0022 2F2B     		cmpne	r3, #47
 5196 0024 F8D0     		beq	.L395
 5197              	.L392:
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5198              		.loc 1 2652 2 is_stmt 1 view .LVU1710
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5199              		.loc 1 2652 10 is_stmt 0 view .LVU1711
 5200 0026 4F44     		add	r7, r7, r9
 5201              	.LVL606:
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5202              		.loc 1 2652 8 view .LVU1712
 5203 0028 CAF80070 		str	r7, [r10]
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 5204              		.loc 1 2653 2 is_stmt 1 view .LVU1713
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 5205              		.loc 1 2653 5 is_stmt 0 view .LVU1714
 5206 002c 1F28     		cmp	r0, #31
 5207 002e 2ED8     		bhi	.L432
 5208 0030 4FF00409 		mov	r9, #4
ARM GAS  /tmp/cc9mPikx.s 			page 219


 5209              	.LVL607:
 5210              	.L400:
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5211              		.loc 1 2664 8 is_stmt 1 view .LVU1715
 5212 0034 74B3     		cbz	r4, .L401
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5213              		.loc 1 2665 3 view .LVU1716
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5214              		.loc 1 2665 10 is_stmt 0 view .LVU1717
 5215 0036 6FF00043 		mvn	r3, #-2147483648
 5216 003a 2344     		add	r3, r3, r4
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5217              		.loc 1 2665 5 view .LVU1718
 5218 003c 35F81330 		ldrh	r3, [r5, r3, lsl #1]
 5219              	.LVL608:
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 5220              		.loc 1 2666 3 is_stmt 1 view .LVU1719
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 5221              		.loc 1 2666 6 is_stmt 0 view .LVU1720
 5222 0040 202B     		cmp	r3, #32
 5223 0042 18BF     		it	ne
 5224 0044 2E2B     		cmpne	r3, #46
 5225 0046 25D1     		bne	.L401
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5226              		.loc 1 2667 3 is_stmt 1 view .LVU1721
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5227              		.loc 1 2667 5 is_stmt 0 view .LVU1722
 5228 0048 013C     		subs	r4, r4, #1
 5229              	.LVL609:
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5230              		.loc 1 2667 5 view .LVU1723
 5231 004a F3E7     		b	.L400
 5232              	.LVL610:
 5233              	.L397:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5234              		.loc 1 2650 3 is_stmt 1 view .LVU1724
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5235              		.loc 1 2650 13 is_stmt 0 view .LVU1725
 5236 004c 25F81460 		strh	r6, [r5, r4, lsl #1]	@ movhi
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 5237              		.loc 1 2631 8 is_stmt 1 view .LVU1726
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5238              		.loc 1 2650 9 is_stmt 0 view .LVU1727
 5239 0050 0134     		adds	r4, r4, #1
 5240              	.LVL611:
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5241              		.loc 1 2632 11 view .LVU1728
 5242 0052 3B46     		mov	r3, r7
 5243              	.LVL612:
 5244              	.L398:
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 5245              		.loc 1 2631 2 is_stmt 1 view .LVU1729
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5246              		.loc 1 2632 3 view .LVU1730
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5247              		.loc 1 2632 11 is_stmt 0 view .LVU1731
 5248 0054 5F1C     		adds	r7, r3, #1
ARM GAS  /tmp/cc9mPikx.s 			page 220


 5249              	.LVL613:
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5250              		.loc 1 2632 5 view .LVU1732
 5251 0056 19F80300 		ldrb	r0, [r9, r3]	@ zero_extendqisi2
 5252              	.LVL614:
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 5253              		.loc 1 2633 3 is_stmt 1 view .LVU1733
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 5254              		.loc 1 2633 6 is_stmt 0 view .LVU1734
 5255 005a 1F28     		cmp	r0, #31
 5256 005c E3D9     		bls	.L392
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 5257              		.loc 1 2634 3 is_stmt 1 view .LVU1735
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 5258              		.loc 1 2634 6 is_stmt 0 view .LVU1736
 5259 005e 5C28     		cmp	r0, #92
 5260 0060 18BF     		it	ne
 5261 0062 2F28     		cmpne	r0, #47
 5262 0064 D9D0     		beq	.L393
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5263              		.loc 1 2638 3 is_stmt 1 view .LVU1737
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5264              		.loc 1 2638 6 is_stmt 0 view .LVU1738
 5265 0066 FE2C     		cmp	r4, #254
 5266 0068 00F2D780 		bhi	.L429
2640:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 5267              		.loc 1 2640 3 is_stmt 1 view .LVU1739
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
 5268              		.loc 1 2641 3 view .LVU1740
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 5269              		.loc 1 2646 3 view .LVU1741
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 5270              		.loc 1 2646 7 is_stmt 0 view .LVU1742
 5271 006c 0121     		movs	r1, #1
 5272 006e FFF7FEFF 		bl	ff_convert
 5273              	.LVL615:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5274              		.loc 1 2647 3 is_stmt 1 view .LVU1743
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5275              		.loc 1 2647 6 is_stmt 0 view .LVU1744
 5276 0072 0646     		mov	r6, r0
 5277 0074 0028     		cmp	r0, #0
 5278 0076 00F0D280 		beq	.L430
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5279              		.loc 1 2649 3 is_stmt 1 view .LVU1745
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5280              		.loc 1 2649 6 is_stmt 0 view .LVU1746
 5281 007a 7F28     		cmp	r0, #127
 5282 007c E6D8     		bhi	.L397
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5283              		.loc 1 2649 19 discriminator 1 view .LVU1747
 5284 007e 0146     		mov	r1, r0
 5285 0080 6948     		ldr	r0, .L445
 5286              	.LVL616:
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5287              		.loc 1 2649 19 discriminator 1 view .LVU1748
 5288 0082 FFF7FEFF 		bl	chk_chr
ARM GAS  /tmp/cc9mPikx.s 			page 221


 5289              	.LVL617:
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5290              		.loc 1 2649 16 discriminator 1 view .LVU1749
 5291 0086 0028     		cmp	r0, #0
 5292 0088 E0D0     		beq	.L397
2649:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5293              		.loc 1 2649 55 view .LVU1750
 5294 008a 0620     		movs	r0, #6
 5295 008c 6FE0     		b	.L396
 5296              	.LVL618:
 5297              	.L432:
2653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 5298              		.loc 1 2653 5 view .LVU1751
 5299 008e 4FF00009 		mov	r9, #0
 5300              	.LVL619:
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5301              		.loc 1 2664 2 is_stmt 1 view .LVU1752
2664:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5302              		.loc 1 2664 8 is_stmt 0 view .LVU1753
 5303 0092 CFE7     		b	.L400
 5304              	.LVL620:
 5305              	.L401:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 5306              		.loc 1 2669 2 is_stmt 1 view .LVU1754
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 5307              		.loc 1 2669 10 is_stmt 0 view .LVU1755
 5308 0094 0023     		movs	r3, #0
 5309 0096 25F81430 		strh	r3, [r5, r4, lsl #1]	@ movhi
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5310              		.loc 1 2670 2 is_stmt 1 view .LVU1756
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5311              		.loc 1 2670 5 is_stmt 0 view .LVU1757
 5312 009a 002C     		cmp	r4, #0
 5313 009c 00F0C180 		beq	.L433
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
 5314              		.loc 1 2673 2 is_stmt 1 view .LVU1758
 5315 00a0 0B22     		movs	r2, #11
 5316 00a2 2021     		movs	r1, #32
 5317 00a4 08F12400 		add	r0, r8, #36
 5318 00a8 FFF7FEFF 		bl	mem_set
 5319              	.LVL621:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5320              		.loc 1 2674 2 view .LVU1759
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5321              		.loc 1 2674 10 is_stmt 0 view .LVU1760
 5322 00ac 0023     		movs	r3, #0
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5323              		.loc 1 2674 2 view .LVU1761
 5324 00ae 00E0     		b	.L403
 5325              	.LVL622:
 5326              	.L404:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5327              		.loc 1 2674 55 is_stmt 1 discriminator 3 view .LVU1762
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5328              		.loc 1 2674 49 discriminator 3 view .LVU1763
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5329              		.loc 1 2674 51 is_stmt 0 discriminator 3 view .LVU1764
ARM GAS  /tmp/cc9mPikx.s 			page 222


 5330 00b0 0133     		adds	r3, r3, #1
 5331              	.LVL623:
 5332              	.L403:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5333              		.loc 1 2674 15 is_stmt 1 discriminator 1 view .LVU1765
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5334              		.loc 1 2674 18 is_stmt 0 discriminator 1 view .LVU1766
 5335 00b2 35F81320 		ldrh	r2, [r5, r3, lsl #1]
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5336              		.loc 1 2674 2 discriminator 1 view .LVU1767
 5337 00b6 2E2A     		cmp	r2, #46
 5338 00b8 18BF     		it	ne
 5339 00ba 202A     		cmpne	r2, #32
 5340 00bc F8D0     		beq	.L404
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5341              		.loc 1 2675 2 is_stmt 1 view .LVU1768
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5342              		.loc 1 2675 5 is_stmt 0 view .LVU1769
 5343 00be 1BB1     		cbz	r3, .L406
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5344              		.loc 1 2675 10 is_stmt 1 discriminator 1 view .LVU1770
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5345              		.loc 1 2675 13 is_stmt 0 discriminator 1 view .LVU1771
 5346 00c0 49F00309 		orr	r9, r9, #3
 5347              	.LVL624:
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5348              		.loc 1 2675 13 discriminator 1 view .LVU1772
 5349 00c4 00E0     		b	.L406
 5350              	.L408:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5351              		.loc 1 2676 35 is_stmt 1 discriminator 3 view .LVU1773
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5352              		.loc 1 2676 37 is_stmt 0 discriminator 3 view .LVU1774
 5353 00c6 013C     		subs	r4, r4, #1
 5354              	.LVL625:
 5355              	.L406:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5356              		.loc 1 2676 8 is_stmt 1 discriminator 1 view .LVU1775
 5357 00c8 6CB1     		cbz	r4, .L434
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5358              		.loc 1 2676 18 is_stmt 0 discriminator 2 view .LVU1776
 5359 00ca 6FF00042 		mvn	r2, #-2147483648
 5360 00ce 2244     		add	r2, r2, r4
 5361 00d0 35F81220 		ldrh	r2, [r5, r2, lsl #1]
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5362              		.loc 1 2676 12 discriminator 2 view .LVU1777
 5363 00d4 2E2A     		cmp	r2, #46
 5364 00d6 F6D1     		bne	.L408
 5365 00d8 4FF0080B 		mov	fp, #8
 5366 00dc 4FF0000A 		mov	r10, #0
 5367              	.LVL626:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5368              		.loc 1 2676 12 discriminator 2 view .LVU1778
 5369 00e0 CDF804A0 		str	r10, [sp, #4]
 5370 00e4 08E0     		b	.L409
 5371              	.LVL627:
 5372              	.L434:
ARM GAS  /tmp/cc9mPikx.s 			page 223


2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5373              		.loc 1 2676 12 discriminator 2 view .LVU1779
 5374 00e6 A246     		mov	r10, r4
 5375              	.LVL628:
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5376              		.loc 1 2676 12 discriminator 2 view .LVU1780
 5377 00e8 4FF0080B 		mov	fp, #8
 5378 00ec 0022     		movs	r2, #0
 5379 00ee 0192     		str	r2, [sp, #4]
 5380 00f0 02E0     		b	.L409
 5381              	.LVL629:
 5382              	.L411:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5383              		.loc 1 2683 4 is_stmt 1 view .LVU1781
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5384              		.loc 1 2683 7 is_stmt 0 view .LVU1782
 5385 00f2 49F00309 		orr	r9, r9, #3
 5386              	.LVL630:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5387              		.loc 1 2683 28 is_stmt 1 view .LVU1783
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5388              		.loc 1 2680 13 is_stmt 0 view .LVU1784
 5389 00f6 3B46     		mov	r3, r7
 5390              	.LVL631:
 5391              	.L409:
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
 5392              		.loc 1 2679 2 is_stmt 1 view .LVU1785
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5393              		.loc 1 2680 3 view .LVU1786
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5394              		.loc 1 2680 13 is_stmt 0 view .LVU1787
 5395 00f8 5F1C     		adds	r7, r3, #1
 5396              	.LVL632:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5397              		.loc 1 2680 5 view .LVU1788
 5398 00fa 35F81360 		ldrh	r6, [r5, r3, lsl #1]
 5399              	.LVL633:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5400              		.loc 1 2681 3 is_stmt 1 view .LVU1789
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5401              		.loc 1 2681 6 is_stmt 0 view .LVU1790
 5402 00fe BEB1     		cbz	r6, .L410
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5403              		.loc 1 2682 3 is_stmt 1 view .LVU1791
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5404              		.loc 1 2682 6 is_stmt 0 view .LVU1792
 5405 0100 202E     		cmp	r6, #32
 5406 0102 F6D0     		beq	.L411
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5407              		.loc 1 2682 29 discriminator 1 view .LVU1793
 5408 0104 2E2E     		cmp	r6, #46
 5409 0106 14BF     		ite	ne
 5410 0108 0023     		movne	r3, #0
 5411 010a 0123     		moveq	r3, #1
 5412 010c BC42     		cmp	r4, r7
 5413 010e 08BF     		it	eq
 5414 0110 0023     		moveq	r3, #0
ARM GAS  /tmp/cc9mPikx.s 			page 224


2682:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5415              		.loc 1 2682 16 discriminator 1 view .LVU1794
 5416 0112 002B     		cmp	r3, #0
 5417 0114 EDD1     		bne	.L411
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5418              		.loc 1 2686 3 is_stmt 1 view .LVU1795
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5419              		.loc 1 2686 6 is_stmt 0 view .LVU1796
 5420 0116 BC42     		cmp	r4, r7
 5421 0118 18BF     		it	ne
 5422 011a DA45     		cmpne	r10, fp
 5423 011c 37D3     		bcc	.L414
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5424              		.loc 1 2687 4 is_stmt 1 view .LVU1797
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5425              		.loc 1 2687 7 is_stmt 0 view .LVU1798
 5426 011e BBF10B0F 		cmp	fp, #11
 5427 0122 27D0     		beq	.L437
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5428              		.loc 1 2690 4 is_stmt 1 view .LVU1799
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5429              		.loc 1 2690 7 is_stmt 0 view .LVU1800
 5430 0124 BC42     		cmp	r4, r7
 5431 0126 01D0     		beq	.L416
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5432              		.loc 1 2690 18 is_stmt 1 discriminator 1 view .LVU1801
2690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5433              		.loc 1 2690 21 is_stmt 0 discriminator 1 view .LVU1802
 5434 0128 49F00309 		orr	r9, r9, #3
 5435              	.LVL634:
 5436              	.L416:
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5437              		.loc 1 2691 4 is_stmt 1 view .LVU1803
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5438              		.loc 1 2691 7 is_stmt 0 view .LVU1804
 5439 012c BC42     		cmp	r4, r7
 5440 012e 24D2     		bcs	.L438
 5441              	.L410:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5442              		.loc 1 2727 2 is_stmt 1 view .LVU1805
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5443              		.loc 1 2727 12 is_stmt 0 view .LVU1806
 5444 0130 98F82430 		ldrb	r3, [r8, #36]	@ zero_extendqisi2
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5445              		.loc 1 2727 5 view .LVU1807
 5446 0134 E52B     		cmp	r3, #229
 5447 0136 61D0     		beq	.L439
 5448              	.L423:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5449              		.loc 1 2729 2 is_stmt 1 view .LVU1808
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5450              		.loc 1 2729 5 is_stmt 0 view .LVU1809
 5451 0138 BBF1080F 		cmp	fp, #8
 5452 013c 62D0     		beq	.L440
 5453              	.L424:
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5454              		.loc 1 2730 2 is_stmt 1 view .LVU1810
ARM GAS  /tmp/cc9mPikx.s 			page 225


 5455 013e 019B     		ldr	r3, [sp, #4]
 5456 0140 03F00C02 		and	r2, r3, #12
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5457              		.loc 1 2730 5 is_stmt 0 view .LVU1811
 5458 0144 0C2A     		cmp	r2, #12
 5459 0146 03D0     		beq	.L425
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5460              		.loc 1 2730 25 discriminator 2 view .LVU1812
 5461 0148 03F00303 		and	r3, r3, #3
 5462 014c 032B     		cmp	r3, #3
 5463 014e 01D1     		bne	.L426
 5464              	.L425:
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5465              		.loc 1 2730 48 is_stmt 1 discriminator 3 view .LVU1813
2730:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
 5466              		.loc 1 2730 51 is_stmt 0 discriminator 3 view .LVU1814
 5467 0150 49F00209 		orr	r9, r9, #2
 5468              	.LVL635:
 5469              	.L426:
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5470              		.loc 1 2731 2 is_stmt 1 view .LVU1815
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5471              		.loc 1 2731 5 is_stmt 0 view .LVU1816
 5472 0154 19F0020F 		tst	r9, #2
 5473 0158 06D1     		bne	.L427
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5474              		.loc 1 2732 3 is_stmt 1 view .LVU1817
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5475              		.loc 1 2732 6 is_stmt 0 view .LVU1818
 5476 015a 019B     		ldr	r3, [sp, #4]
 5477 015c 03F00303 		and	r3, r3, #3
 5478 0160 012B     		cmp	r3, #1
 5479 0162 54D0     		beq	.L441
 5480              	.L428:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5481              		.loc 1 2733 3 is_stmt 1 view .LVU1819
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5482              		.loc 1 2733 6 is_stmt 0 view .LVU1820
 5483 0164 042A     		cmp	r2, #4
 5484 0166 55D0     		beq	.L442
 5485              	.L427:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5486              		.loc 1 2736 2 is_stmt 1 view .LVU1821
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5487              		.loc 1 2736 17 is_stmt 0 view .LVU1822
 5488 0168 88F82F90 		strb	r9, [r8, #47]
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5489              		.loc 1 2738 2 is_stmt 1 view .LVU1823
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5490              		.loc 1 2738 9 is_stmt 0 view .LVU1824
 5491 016c 0020     		movs	r0, #0
 5492              	.LVL636:
 5493              	.L396:
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5494              		.loc 1 2803 1 view .LVU1825
 5495 016e 03B0     		add	sp, sp, #12
 5496              	.LCFI43:
ARM GAS  /tmp/cc9mPikx.s 			page 226


 5497              		.cfi_remember_state
 5498              		.cfi_def_cfa_offset 36
 5499              		@ sp needed
 5500 0170 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5501              	.LVL637:
 5502              	.L437:
 5503              	.LCFI44:
 5504              		.cfi_restore_state
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5505              		.loc 1 2688 5 is_stmt 1 view .LVU1826
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5506              		.loc 1 2688 8 is_stmt 0 view .LVU1827
 5507 0174 49F00309 		orr	r9, r9, #3
 5508              	.LVL638:
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5509              		.loc 1 2688 29 is_stmt 1 view .LVU1828
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5510              		.loc 1 2688 5 is_stmt 0 view .LVU1829
 5511 0178 DAE7     		b	.L410
 5512              	.L438:
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5513              		.loc 1 2692 4 is_stmt 1 view .LVU1830
 5514              	.LVL639:
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5515              		.loc 1 2692 13 view .LVU1831
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5516              		.loc 1 2692 20 view .LVU1832
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5517              		.loc 1 2693 4 view .LVU1833
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5518              		.loc 1 2693 6 is_stmt 0 view .LVU1834
 5519 017a 019B     		ldr	r3, [sp, #4]
 5520 017c 9B00     		lsls	r3, r3, #2
 5521 017e DBB2     		uxtb	r3, r3
 5522 0180 0193     		str	r3, [sp, #4]
 5523              	.LVL640:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5524              		.loc 1 2693 13 is_stmt 1 view .LVU1835
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5525              		.loc 1 2692 7 is_stmt 0 view .LVU1836
 5526 0182 2346     		mov	r3, r4
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5527              		.loc 1 2692 23 view .LVU1837
 5528 0184 4FF00B0B 		mov	fp, #11
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5529              		.loc 1 2692 15 view .LVU1838
 5530 0188 4FF0080A 		mov	r10, #8
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5531              		.loc 1 2693 4 view .LVU1839
 5532 018c B4E7     		b	.L409
 5533              	.LVL641:
 5534              	.L414:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 5535              		.loc 1 2696 3 is_stmt 1 view .LVU1840
2696:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 5536              		.loc 1 2696 6 is_stmt 0 view .LVU1841
 5537 018e 7F2E     		cmp	r6, #127
ARM GAS  /tmp/cc9mPikx.s 			page 227


 5538 0190 0BD8     		bhi	.L443
 5539              	.L417:
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
 5540              		.loc 1 2706 3 is_stmt 1 view .LVU1842
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5541              		.loc 1 2712 4 view .LVU1843
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5542              		.loc 1 2712 7 is_stmt 0 view .LVU1844
 5543 0192 BEB9     		cbnz	r6, .L444
 5544              	.L419:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5545              		.loc 1 2713 5 is_stmt 1 view .LVU1845
 5546              	.LVL642:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5547              		.loc 1 2713 14 view .LVU1846
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5548              		.loc 1 2713 17 is_stmt 0 view .LVU1847
 5549 0194 49F00309 		orr	r9, r9, #3
 5550              	.LVL643:
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 5551              		.loc 1 2713 7 view .LVU1848
 5552 0198 5F26     		movs	r6, #95
 5553              	.LVL644:
 5554              	.L421:
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5555              		.loc 1 2724 3 is_stmt 1 view .LVU1849
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5556              		.loc 1 2724 15 is_stmt 0 view .LVU1850
 5557 019a 08EB0A03 		add	r3, r8, r10
 5558 019e 83F82460 		strb	r6, [r3, #36]
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5559              		.loc 1 2680 13 view .LVU1851
 5560 01a2 3B46     		mov	r3, r7
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5561              		.loc 1 2724 11 view .LVU1852
 5562 01a4 0AF1010A 		add	r10, r10, #1
 5563              	.LVL645:
2724:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5564              		.loc 1 2724 11 view .LVU1853
 5565 01a8 A6E7     		b	.L409
 5566              	.L443:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5567              		.loc 1 2698 4 is_stmt 1 view .LVU1854
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5568              		.loc 1 2698 8 is_stmt 0 view .LVU1855
 5569 01aa 0021     		movs	r1, #0
 5570 01ac 3046     		mov	r0, r6
 5571 01ae FFF7FEFF 		bl	ff_convert
 5572              	.LVL646:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5573              		.loc 1 2699 4 is_stmt 1 view .LVU1856
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5574              		.loc 1 2699 7 is_stmt 0 view .LVU1857
 5575 01b2 0646     		mov	r6, r0
 5576 01b4 18B1     		cbz	r0, .L418
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5577              		.loc 1 2699 11 is_stmt 1 discriminator 1 view .LVU1858
ARM GAS  /tmp/cc9mPikx.s 			page 228


2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5578              		.loc 1 2699 23 is_stmt 0 discriminator 1 view .LVU1859
 5579 01b6 A0F18006 		sub	r6, r0, #128
2699:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5580              		.loc 1 2699 13 discriminator 1 view .LVU1860
 5581 01ba 1C4B     		ldr	r3, .L445+4
 5582 01bc 9E5D     		ldrb	r6, [r3, r6]	@ zero_extendqisi2
 5583              	.LVL647:
 5584              	.L418:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5585              		.loc 1 2703 4 is_stmt 1 view .LVU1861
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5586              		.loc 1 2703 7 is_stmt 0 view .LVU1862
 5587 01be 49F00209 		orr	r9, r9, #2
 5588              	.LVL648:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5589              		.loc 1 2703 7 view .LVU1863
 5590 01c2 E6E7     		b	.L417
 5591              	.L444:
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5592              		.loc 1 2712 14 discriminator 1 view .LVU1864
 5593 01c4 3146     		mov	r1, r6
 5594 01c6 1A48     		ldr	r0, .L445+8
 5595 01c8 FFF7FEFF 		bl	chk_chr
 5596              	.LVL649:
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5597              		.loc 1 2712 11 discriminator 1 view .LVU1865
 5598 01cc 0028     		cmp	r0, #0
 5599 01ce E1D1     		bne	.L419
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5600              		.loc 1 2715 5 is_stmt 1 view .LVU1866
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5601              		.loc 1 2715 9 is_stmt 0 view .LVU1867
 5602 01d0 A6F14103 		sub	r3, r6, #65
 5603 01d4 9BB2     		uxth	r3, r3
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5604              		.loc 1 2715 8 view .LVU1868
 5605 01d6 192B     		cmp	r3, #25
 5606 01d8 04D8     		bhi	.L422
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5607              		.loc 1 2716 6 is_stmt 1 view .LVU1869
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5608              		.loc 1 2716 8 is_stmt 0 view .LVU1870
 5609 01da 019B     		ldr	r3, [sp, #4]
 5610 01dc 43F00203 		orr	r3, r3, #2
 5611 01e0 0193     		str	r3, [sp, #4]
 5612              	.LVL650:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5613              		.loc 1 2716 8 view .LVU1871
 5614 01e2 DAE7     		b	.L421
 5615              	.L422:
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5616              		.loc 1 2718 6 is_stmt 1 view .LVU1872
2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5617              		.loc 1 2718 10 is_stmt 0 view .LVU1873
 5618 01e4 A6F16103 		sub	r3, r6, #97
 5619 01e8 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cc9mPikx.s 			page 229


2718:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5620              		.loc 1 2718 9 view .LVU1874
 5621 01ea 192B     		cmp	r3, #25
 5622 01ec D5D8     		bhi	.L421
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5623              		.loc 1 2719 7 is_stmt 1 view .LVU1875
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5624              		.loc 1 2719 9 is_stmt 0 view .LVU1876
 5625 01ee 019B     		ldr	r3, [sp, #4]
 5626 01f0 43F00103 		orr	r3, r3, #1
 5627 01f4 0193     		str	r3, [sp, #4]
 5628              	.LVL651:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5629              		.loc 1 2719 15 is_stmt 1 view .LVU1877
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5630              		.loc 1 2719 17 is_stmt 0 view .LVU1878
 5631 01f6 203E     		subs	r6, r6, #32
 5632              	.LVL652:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5633              		.loc 1 2719 17 view .LVU1879
 5634 01f8 B6B2     		uxth	r6, r6
 5635              	.LVL653:
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5636              		.loc 1 2719 17 view .LVU1880
 5637 01fa CEE7     		b	.L421
 5638              	.L439:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5639              		.loc 1 2727 25 is_stmt 1 discriminator 1 view .LVU1881
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5640              		.loc 1 2727 35 is_stmt 0 discriminator 1 view .LVU1882
 5641 01fc 0523     		movs	r3, #5
 5642 01fe 88F82430 		strb	r3, [r8, #36]
 5643 0202 99E7     		b	.L423
 5644              	.L440:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5645              		.loc 1 2729 15 is_stmt 1 discriminator 1 view .LVU1883
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5646              		.loc 1 2729 17 is_stmt 0 discriminator 1 view .LVU1884
 5647 0204 019B     		ldr	r3, [sp, #4]
 5648 0206 9B00     		lsls	r3, r3, #2
 5649 0208 DBB2     		uxtb	r3, r3
 5650 020a 0193     		str	r3, [sp, #4]
 5651              	.LVL654:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5652              		.loc 1 2729 17 discriminator 1 view .LVU1885
 5653 020c 97E7     		b	.L424
 5654              	.L441:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5655              		.loc 1 2732 27 is_stmt 1 discriminator 1 view .LVU1886
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5656              		.loc 1 2732 30 is_stmt 0 discriminator 1 view .LVU1887
 5657 020e 49F01009 		orr	r9, r9, #16
 5658              	.LVL655:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5659              		.loc 1 2732 30 discriminator 1 view .LVU1888
 5660 0212 A7E7     		b	.L428
 5661              	.L442:
ARM GAS  /tmp/cc9mPikx.s 			page 230


2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5662              		.loc 1 2733 27 is_stmt 1 discriminator 1 view .LVU1889
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5663              		.loc 1 2733 30 is_stmt 0 discriminator 1 view .LVU1890
 5664 0214 49F00809 		orr	r9, r9, #8
 5665              	.LVL656:
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5666              		.loc 1 2733 30 discriminator 1 view .LVU1891
 5667 0218 A6E7     		b	.L427
 5668              	.LVL657:
 5669              	.L429:
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5670              		.loc 1 2638 30 view .LVU1892
 5671 021a 0620     		movs	r0, #6
 5672              	.LVL658:
2638:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5673              		.loc 1 2638 30 view .LVU1893
 5674 021c A7E7     		b	.L396
 5675              	.LVL659:
 5676              	.L430:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5677              		.loc 1 2647 18 view .LVU1894
 5678 021e 0620     		movs	r0, #6
 5679              	.LVL660:
2647:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5680              		.loc 1 2647 18 view .LVU1895
 5681 0220 A5E7     		b	.L396
 5682              	.LVL661:
 5683              	.L433:
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5684              		.loc 1 2670 22 view .LVU1896
 5685 0222 0620     		movs	r0, #6
 5686 0224 A3E7     		b	.L396
 5687              	.L446:
 5688 0226 00BF     		.align	2
 5689              	.L445:
 5690 0228 00000000 		.word	.LC0
 5691 022c 00000000 		.word	.LANCHOR5
 5692 0230 0C000000 		.word	.LC1
 5693              		.cfi_endproc
 5694              	.LFE387:
 5696              		.section	.text.get_fileinfo,"ax",%progbits
 5697              		.align	1
 5698              		.syntax unified
 5699              		.thumb
 5700              		.thumb_func
 5701              		.fpu fpv5-d16
 5703              	get_fileinfo:
 5704              	.LVL662:
 5705              	.LFB386:
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 5706              		.loc 1 2448 1 is_stmt 1 view -0
 5707              		.cfi_startproc
 5708              		@ args = 0, pretend = 0, frame = 0
 5709              		@ frame_needed = 0, uses_anonymous_args = 0
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
 5710              		.loc 1 2448 1 is_stmt 0 view .LVU1898
ARM GAS  /tmp/cc9mPikx.s 			page 231


 5711 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 5712              	.LCFI45:
 5713              		.cfi_def_cfa_offset 24
 5714              		.cfi_offset 4, -24
 5715              		.cfi_offset 5, -20
 5716              		.cfi_offset 6, -16
 5717              		.cfi_offset 7, -12
 5718              		.cfi_offset 8, -8
 5719              		.cfi_offset 14, -4
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
 5720              		.loc 1 2449 2 is_stmt 1 view .LVU1899
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 5721              		.loc 1 2450 2 view .LVU1900
2451:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 5722              		.loc 1 2451 2 view .LVU1901
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 5723              		.loc 1 2453 2 view .LVU1902
2454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5724              		.loc 1 2454 2 view .LVU1903
2454:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5725              		.loc 1 2454 9 is_stmt 0 view .LVU1904
 5726 0004 D0F80080 		ldr	r8, [r0]
 5727              	.LVL663:
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 5728              		.loc 1 2458 2 is_stmt 1 view .LVU1905
2458:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 5729              		.loc 1 2458 16 is_stmt 0 view .LVU1906
 5730 0008 0023     		movs	r3, #0
 5731 000a 8B75     		strb	r3, [r1, #22]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5732              		.loc 1 2459 2 is_stmt 1 view .LVU1907
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5733              		.loc 1 2459 9 is_stmt 0 view .LVU1908
 5734 000c C369     		ldr	r3, [r0, #28]
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5735              		.loc 1 2459 5 view .LVU1909
 5736 000e 002B     		cmp	r3, #0
 5737 0010 6BD0     		beq	.L447
 5738 0012 0646     		mov	r6, r0
 5739 0014 0C46     		mov	r4, r1
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5740              		.loc 1 2469 3 is_stmt 1 view .LVU1910
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5741              		.loc 1 2469 9 is_stmt 0 view .LVU1911
 5742 0016 036B     		ldr	r3, [r0, #48]
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 5743              		.loc 1 2469 6 view .LVU1912
 5744 0018 B3F1FF3F 		cmp	r3, #-1
 5745 001c 16D0     		beq	.L450
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 5746              		.loc 1 2470 10 view .LVU1913
 5747 001e 0023     		movs	r3, #0
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 5748              		.loc 1 2470 6 view .LVU1914
 5749 0020 1D46     		mov	r5, r3
 5750              	.LVL664:
 5751              	.L449:
ARM GAS  /tmp/cc9mPikx.s 			page 232


2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5752              		.loc 1 2471 10 is_stmt 1 view .LVU1915
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5753              		.loc 1 2471 18 is_stmt 0 view .LVU1916
 5754 0022 D8F81020 		ldr	r2, [r8, #16]
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5755              		.loc 1 2471 28 view .LVU1917
 5756 0026 5F1C     		adds	r7, r3, #1
 5757              	.LVL665:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5758              		.loc 1 2471 14 view .LVU1918
 5759 0028 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 5760              	.LVL666:
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5761              		.loc 1 2471 10 view .LVU1919
 5762 002c 58B1     		cbz	r0, .L451
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
 5763              		.loc 1 2473 5 is_stmt 1 view .LVU1920
2473:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
 5764              		.loc 1 2473 9 is_stmt 0 view .LVU1921
 5765 002e 0021     		movs	r1, #0
 5766 0030 FFF7FEFF 		bl	ff_convert
 5767              	.LVL667:
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5768              		.loc 1 2474 5 is_stmt 1 view .LVU1922
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5769              		.loc 1 2474 8 is_stmt 0 view .LVU1923
 5770 0034 30B1     		cbz	r0, .L464
2475:Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
 5771              		.loc 1 2475 5 is_stmt 1 view .LVU1924
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5772              		.loc 1 2479 5 view .LVU1925
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5773              		.loc 1 2479 8 is_stmt 0 view .LVU1926
 5774 0036 FE2D     		cmp	r5, #254
 5775 0038 0CD8     		bhi	.L465
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5776              		.loc 1 2480 5 is_stmt 1 view .LVU1927
 5777              	.LVL668:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5778              		.loc 1 2480 21 is_stmt 0 view .LVU1928
 5779 003a 6219     		adds	r2, r4, r5
 5780 003c 9075     		strb	r0, [r2, #22]
2471:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 5781              		.loc 1 2471 28 view .LVU1929
 5782 003e 3B46     		mov	r3, r7
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5783              		.loc 1 2480 17 view .LVU1930
 5784 0040 0135     		adds	r5, r5, #1
 5785              	.LVL669:
2480:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5786              		.loc 1 2480 17 view .LVU1931
 5787 0042 EEE7     		b	.L449
 5788              	.L464:
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
 5789              		.loc 1 2474 21 view .LVU1932
 5790 0044 0025     		movs	r5, #0
ARM GAS  /tmp/cc9mPikx.s 			page 233


 5791              	.LVL670:
 5792              	.L451:
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5793              		.loc 1 2482 4 is_stmt 1 view .LVU1933
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5794              		.loc 1 2482 18 is_stmt 0 view .LVU1934
 5795 0046 2544     		add	r5, r5, r4
 5796              	.LVL671:
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5797              		.loc 1 2482 18 view .LVU1935
 5798 0048 0023     		movs	r3, #0
 5799 004a AB75     		strb	r3, [r5, #22]
 5800              	.LVL672:
 5801              	.L450:
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5802              		.loc 1 2486 2 is_stmt 1 view .LVU1936
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 5803              		.loc 1 2487 2 view .LVU1937
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 5804              		.loc 1 2487 6 is_stmt 0 view .LVU1938
 5805 004c A57D     		ldrb	r5, [r4, #22]	@ zero_extendqisi2
 5806              	.LVL673:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5807              		.loc 1 2488 2 is_stmt 1 view .LVU1939
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5808              		.loc 1 2486 8 is_stmt 0 view .LVU1940
 5809 004e 0022     		movs	r2, #0
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 5810              		.loc 1 2486 4 view .LVU1941
 5811 0050 1346     		mov	r3, r2
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5812              		.loc 1 2488 8 view .LVU1942
 5813 0052 12E0     		b	.L453
 5814              	.LVL674:
 5815              	.L465:
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5816              		.loc 1 2479 28 view .LVU1943
 5817 0054 0025     		movs	r5, #0
 5818              	.LVL675:
2479:Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 5819              		.loc 1 2479 28 view .LVU1944
 5820 0056 F6E7     		b	.L451
 5821              	.LVL676:
 5822              	.L471:
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5823              		.loc 1 2491 21 view .LVU1945
 5824 0058 E523     		movs	r3, #229
 5825              	.LVL677:
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5826              		.loc 1 2491 21 view .LVU1946
 5827 005a 17E0     		b	.L455
 5828              	.LVL678:
 5829              	.L472:
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5830              		.loc 1 2493 4 is_stmt 1 view .LVU1947
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5831              		.loc 1 2493 7 is_stmt 0 view .LVU1948
ARM GAS  /tmp/cc9mPikx.s 			page 234


 5832 005c 15B9     		cbnz	r5, .L457
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5833              		.loc 1 2493 14 is_stmt 1 discriminator 1 view .LVU1949
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 5834              		.loc 1 2493 28 is_stmt 0 discriminator 1 view .LVU1950
 5835 005e A018     		adds	r0, r4, r2
 5836 0060 2E27     		movs	r7, #46
 5837 0062 8775     		strb	r7, [r0, #22]
 5838              	.L457:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5839              		.loc 1 2494 4 is_stmt 1 view .LVU1951
 5840              	.LVL679:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5841              		.loc 1 2494 22 is_stmt 0 view .LVU1952
 5842 0064 A018     		adds	r0, r4, r2
 5843 0066 2E27     		movs	r7, #46
 5844 0068 4772     		strb	r7, [r0, #9]
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5845              		.loc 1 2494 18 view .LVU1953
 5846 006a 0132     		adds	r2, r2, #1
 5847              	.LVL680:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5848              		.loc 1 2494 18 view .LVU1954
 5849 006c 10E0     		b	.L456
 5850              	.L473:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5851              		.loc 1 2505 63 view .LVU1955
 5852 006e 1020     		movs	r0, #16
 5853 0070 1CE0     		b	.L460
 5854              	.L459:
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5855              		.loc 1 2508 4 is_stmt 1 view .LVU1956
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5856              		.loc 1 2508 18 is_stmt 0 view .LVU1957
 5857 0072 A018     		adds	r0, r4, r2
 5858 0074 8375     		strb	r3, [r0, #22]
 5859              	.L458:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5860              		.loc 1 2510 3 is_stmt 1 view .LVU1958
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5861              		.loc 1 2510 4 is_stmt 0 view .LVU1959
 5862 0076 0132     		adds	r2, r2, #1
 5863              	.LVL681:
 5864              	.L454:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5865              		.loc 1 2505 63 view .LVU1960
 5866 0078 0B46     		mov	r3, r1
 5867              	.LVL682:
 5868              	.L453:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 5869              		.loc 1 2488 8 is_stmt 1 view .LVU1961
 5870 007a 0A2B     		cmp	r3, #10
 5871 007c 1BD8     		bhi	.L470
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5872              		.loc 1 2489 3 view .LVU1962
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5873              		.loc 1 2489 16 is_stmt 0 view .LVU1963
ARM GAS  /tmp/cc9mPikx.s 			page 235


 5874 007e 306A     		ldr	r0, [r6, #32]
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5875              		.loc 1 2489 23 view .LVU1964
 5876 0080 591C     		adds	r1, r3, #1
 5877              	.LVL683:
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 5878              		.loc 1 2489 5 view .LVU1965
 5879 0082 C35C     		ldrb	r3, [r0, r3]	@ zero_extendqisi2
 5880              	.LVL684:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 5881              		.loc 1 2490 3 is_stmt 1 view .LVU1966
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 5882              		.loc 1 2490 6 is_stmt 0 view .LVU1967
 5883 0084 202B     		cmp	r3, #32
 5884 0086 F7D0     		beq	.L454
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5885              		.loc 1 2491 3 is_stmt 1 view .LVU1968
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 5886              		.loc 1 2491 6 is_stmt 0 view .LVU1969
 5887 0088 052B     		cmp	r3, #5
 5888 008a E5D0     		beq	.L471
 5889              	.LVL685:
 5890              	.L455:
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
 5891              		.loc 1 2492 3 is_stmt 1 view .LVU1970
2492:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
 5892              		.loc 1 2492 6 is_stmt 0 view .LVU1971
 5893 008c 0929     		cmp	r1, #9
 5894 008e E5D0     		beq	.L472
 5895              	.L456:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 5896              		.loc 1 2503 3 is_stmt 1 view .LVU1972
2503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 5897              		.loc 1 2503 19 is_stmt 0 view .LVU1973
 5898 0090 A018     		adds	r0, r4, r2
 5899 0092 4372     		strb	r3, [r0, #9]
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 5900              		.loc 1 2504 3 is_stmt 1 view .LVU1974
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 5901              		.loc 1 2504 6 is_stmt 0 view .LVU1975
 5902 0094 002D     		cmp	r5, #0
 5903 0096 EED1     		bne	.L458
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5904              		.loc 1 2505 4 is_stmt 1 view .LVU1976
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5905              		.loc 1 2505 8 is_stmt 0 view .LVU1977
 5906 0098 A3F14100 		sub	r0, r3, #65
 5907 009c C0B2     		uxtb	r0, r0
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5908              		.loc 1 2505 7 view .LVU1978
 5909 009e 1928     		cmp	r0, #25
 5910 00a0 E7D8     		bhi	.L459
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5911              		.loc 1 2505 25 discriminator 1 view .LVU1979
 5912 00a2 306A     		ldr	r0, [r6, #32]
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5913              		.loc 1 2505 30 discriminator 1 view .LVU1980
ARM GAS  /tmp/cc9mPikx.s 			page 236


 5914 00a4 077B     		ldrb	r7, [r0, #12]	@ zero_extendqisi2
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5915              		.loc 1 2505 63 discriminator 1 view .LVU1981
 5916 00a6 0829     		cmp	r1, #8
 5917 00a8 E1D8     		bhi	.L473
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5918              		.loc 1 2505 63 view .LVU1982
 5919 00aa 0820     		movs	r0, #8
 5920              	.L460:
2505:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 5921              		.loc 1 2505 19 discriminator 5 view .LVU1983
 5922 00ac 0742     		tst	r7, r0
 5923 00ae E0D0     		beq	.L459
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5924              		.loc 1 2506 5 is_stmt 1 view .LVU1984
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5925              		.loc 1 2506 7 is_stmt 0 view .LVU1985
 5926 00b0 2033     		adds	r3, r3, #32
 5927              	.LVL686:
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5928              		.loc 1 2506 7 view .LVU1986
 5929 00b2 DBB2     		uxtb	r3, r3
 5930              	.LVL687:
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5931              		.loc 1 2506 7 view .LVU1987
 5932 00b4 DDE7     		b	.L459
 5933              	.LVL688:
 5934              	.L470:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 5935              		.loc 1 2512 2 is_stmt 1 view .LVU1988
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 5936              		.loc 1 2512 5 is_stmt 0 view .LVU1989
 5937 00b6 35B9     		cbnz	r5, .L462
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5938              		.loc 1 2513 3 is_stmt 1 view .LVU1990
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5939              		.loc 1 2513 17 is_stmt 0 view .LVU1991
 5940 00b8 A318     		adds	r3, r4, r2
 5941              	.LVL689:
2513:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 5942              		.loc 1 2513 17 view .LVU1992
 5943 00ba 0021     		movs	r1, #0
 5944 00bc 9975     		strb	r1, [r3, #22]
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5945              		.loc 1 2514 3 is_stmt 1 view .LVU1993
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5946              		.loc 1 2514 10 is_stmt 0 view .LVU1994
 5947 00be 336A     		ldr	r3, [r6, #32]
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5948              		.loc 1 2514 15 view .LVU1995
 5949 00c0 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5950              		.loc 1 2514 6 view .LVU1996
 5951 00c2 03B9     		cbnz	r3, .L462
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5952              		.loc 1 2514 30 view .LVU1997
 5953 00c4 0A46     		mov	r2, r1
ARM GAS  /tmp/cc9mPikx.s 			page 237


 5954              	.LVL690:
 5955              	.L462:
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5956              		.loc 1 2516 2 is_stmt 1 view .LVU1998
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5957              		.loc 1 2516 18 is_stmt 0 view .LVU1999
 5958 00c6 2244     		add	r2, r2, r4
 5959              	.LVL691:
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5960              		.loc 1 2516 18 view .LVU2000
 5961 00c8 0023     		movs	r3, #0
 5962 00ca 5372     		strb	r3, [r2, #9]
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5963              		.loc 1 2530 2 is_stmt 1 view .LVU2001
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5964              		.loc 1 2530 19 is_stmt 0 view .LVU2002
 5965 00cc 336A     		ldr	r3, [r6, #32]
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 5966              		.loc 1 2530 15 view .LVU2003
 5967 00ce DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 5968 00d0 2372     		strb	r3, [r4, #8]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5969              		.loc 1 2531 2 is_stmt 1 view .LVU2004
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5970              		.loc 1 2531 26 is_stmt 0 view .LVU2005
 5971 00d2 306A     		ldr	r0, [r6, #32]
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5972              		.loc 1 2531 15 view .LVU2006
 5973 00d4 1C30     		adds	r0, r0, #28
 5974 00d6 FFF7FEFF 		bl	ld_dword
 5975              	.LVL692:
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 5976              		.loc 1 2531 13 view .LVU2007
 5977 00da 2060     		str	r0, [r4]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5978              		.loc 1 2532 2 is_stmt 1 view .LVU2008
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5979              		.loc 1 2532 18 is_stmt 0 view .LVU2009
 5980 00dc 306A     		ldr	r0, [r6, #32]
2532:Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 5981              		.loc 1 2532 7 view .LVU2010
 5982 00de 1630     		adds	r0, r0, #22
 5983 00e0 FFF7FEFF 		bl	ld_dword
 5984              	.LVL693:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5985              		.loc 1 2533 2 is_stmt 1 view .LVU2011
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5986              		.loc 1 2533 13 is_stmt 0 view .LVU2012
 5987 00e4 E080     		strh	r0, [r4, #6]	@ movhi
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5988              		.loc 1 2533 25 is_stmt 1 view .LVU2013
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5989              		.loc 1 2533 38 is_stmt 0 view .LVU2014
 5990 00e6 000C     		lsrs	r0, r0, #16
 5991              	.LVL694:
2533:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5992              		.loc 1 2533 36 view .LVU2015
ARM GAS  /tmp/cc9mPikx.s 			page 238


 5993 00e8 A080     		strh	r0, [r4, #4]	@ movhi
 5994              	.LVL695:
 5995              	.L447:
2534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5996              		.loc 1 2534 1 view .LVU2016
 5997 00ea BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
2534:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5998              		.loc 1 2534 1 view .LVU2017
 5999              		.cfi_endproc
 6000              	.LFE386:
 6002              		.section	.text.cmp_lfn,"ax",%progbits
 6003              		.align	1
 6004              		.syntax unified
 6005              		.thumb
 6006              		.thumb_func
 6007              		.fpu fpv5-d16
 6009              	cmp_lfn:
 6010              	.LVL696:
 6011              	.LFB377:
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 6012              		.loc 1 1681 1 is_stmt 1 view -0
 6013              		.cfi_startproc
 6014              		@ args = 0, pretend = 0, frame = 0
 6015              		@ frame_needed = 0, uses_anonymous_args = 0
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
 6016              		.loc 1 1681 1 is_stmt 0 view .LVU2019
 6017 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 6018              	.LCFI46:
 6019              		.cfi_def_cfa_offset 32
 6020              		.cfi_offset 4, -32
 6021              		.cfi_offset 5, -28
 6022              		.cfi_offset 6, -24
 6023              		.cfi_offset 7, -20
 6024              		.cfi_offset 8, -16
 6025              		.cfi_offset 9, -12
 6026              		.cfi_offset 10, -8
 6027              		.cfi_offset 14, -4
 6028 0004 8146     		mov	r9, r0
 6029 0006 0F46     		mov	r7, r1
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
 6030              		.loc 1 1682 2 is_stmt 1 view .LVU2020
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6031              		.loc 1 1683 2 view .LVU2021
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6032              		.loc 1 1686 2 view .LVU2022
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6033              		.loc 1 1686 6 is_stmt 0 view .LVU2023
 6034 0008 01F11A00 		add	r0, r1, #26
 6035              	.LVL697:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6036              		.loc 1 1686 6 view .LVU2024
 6037 000c FFF7FEFF 		bl	ld_word
 6038              	.LVL698:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6039              		.loc 1 1686 5 view .LVU2025
 6040 0010 C8BB     		cbnz	r0, .L481
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 239


 6041              		.loc 1 1688 2 is_stmt 1 view .LVU2026
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6042              		.loc 1 1688 11 is_stmt 0 view .LVU2027
 6043 0012 3E78     		ldrb	r6, [r7]	@ zero_extendqisi2
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6044              		.loc 1 1688 22 view .LVU2028
 6045 0014 06F03F06 		and	r6, r6, #63
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6046              		.loc 1 1688 30 view .LVU2029
 6047 0018 013E     		subs	r6, r6, #1
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6048              		.loc 1 1688 35 view .LVU2030
 6049 001a 06EB4603 		add	r3, r6, r6, lsl #1
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6050              		.loc 1 1688 4 view .LVU2031
 6051 001e 06EB8306 		add	r6, r6, r3, lsl #2
 6052              	.LVL699:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6053              		.loc 1 1690 2 is_stmt 1 view .LVU2032
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6054              		.loc 1 1690 10 is_stmt 0 view .LVU2033
 6055 0022 4FF00108 		mov	r8, #1
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6056              		.loc 1 1690 17 view .LVU2034
 6057 0026 0025     		movs	r5, #0
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6058              		.loc 1 1690 2 view .LVU2035
 6059 0028 06E0     		b	.L476
 6060              	.LVL700:
 6061              	.L478:
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6062              		.loc 1 1694 5 is_stmt 1 view .LVU2036
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6063              		.loc 1 1694 12 is_stmt 0 view .LVU2037
 6064 002a 0020     		movs	r0, #0
 6065 002c 2CE0     		b	.L474
 6066              	.LVL701:
 6067              	.L477:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6068              		.loc 1 1698 4 is_stmt 1 view .LVU2038
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6069              		.loc 1 1698 7 is_stmt 0 view .LVU2039
 6070 002e 4FF6FF73 		movw	r3, #65535
 6071 0032 9842     		cmp	r0, r3
 6072 0034 2AD1     		bne	.L488
 6073              	.LVL702:
 6074              	.L479:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6075              		.loc 1 1690 30 is_stmt 1 discriminator 2 view .LVU2040
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6076              		.loc 1 1690 31 is_stmt 0 discriminator 2 view .LVU2041
 6077 0036 0135     		adds	r5, r5, #1
 6078              	.LVL703:
 6079              	.L476:
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 6080              		.loc 1 1690 22 is_stmt 1 discriminator 1 view .LVU2042
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
ARM GAS  /tmp/cc9mPikx.s 			page 240


 6081              		.loc 1 1690 2 is_stmt 0 discriminator 1 view .LVU2043
 6082 0038 0C2D     		cmp	r5, #12
 6083 003a 18D8     		bhi	.L489
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 6084              		.loc 1 1691 3 is_stmt 1 view .LVU2044
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 6085              		.loc 1 1691 28 is_stmt 0 view .LVU2045
 6086 003c 174B     		ldr	r3, .L490
 6087 003e 585D     		ldrb	r0, [r3, r5]	@ zero_extendqisi2
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 6088              		.loc 1 1691 8 view .LVU2046
 6089 0040 3844     		add	r0, r0, r7
 6090 0042 FFF7FEFF 		bl	ld_word
 6091              	.LVL704:
 6092 0046 0446     		mov	r4, r0
 6093              	.LVL705:
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
 6094              		.loc 1 1692 3 is_stmt 1 view .LVU2047
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
 6095              		.loc 1 1692 6 is_stmt 0 view .LVU2048
 6096 0048 B8F1000F 		cmp	r8, #0
 6097 004c EFD0     		beq	.L477
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6098              		.loc 1 1693 4 is_stmt 1 view .LVU2049
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6099              		.loc 1 1693 7 is_stmt 0 view .LVU2050
 6100 004e FE2E     		cmp	r6, #254
 6101 0050 EBD8     		bhi	.L478
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6102              		.loc 1 1693 25 discriminator 1 view .LVU2051
 6103 0052 FFF7FEFF 		bl	ff_wtoupper
 6104              	.LVL706:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6105              		.loc 1 1693 25 discriminator 1 view .LVU2052
 6106 0056 8046     		mov	r8, r0
 6107              	.LVL707:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6108              		.loc 1 1693 64 discriminator 1 view .LVU2053
 6109 0058 06F1010A 		add	r10, r6, #1
 6110              	.LVL708:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6111              		.loc 1 1693 44 discriminator 1 view .LVU2054
 6112 005c 39F81600 		ldrh	r0, [r9, r6, lsl #1]
 6113 0060 FFF7FEFF 		bl	ff_wtoupper
 6114              	.LVL709:
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6115              		.loc 1 1693 22 discriminator 1 view .LVU2055
 6116 0064 8045     		cmp	r8, r0
 6117 0066 E0D1     		bne	.L478
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6118              		.loc 1 1696 7 view .LVU2056
 6119 0068 A046     		mov	r8, r4
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 6120              		.loc 1 1693 64 view .LVU2057
 6121 006a 5646     		mov	r6, r10
 6122 006c E3E7     		b	.L479
 6123              	.LVL710:
ARM GAS  /tmp/cc9mPikx.s 			page 241


 6124              	.L489:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6125              		.loc 1 1702 2 is_stmt 1 view .LVU2058
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6126              		.loc 1 1702 10 is_stmt 0 view .LVU2059
 6127 006e 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6128              		.loc 1 1702 5 view .LVU2060
 6129 0070 13F0400F 		tst	r3, #64
 6130 0074 0CD0     		beq	.L484
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6131              		.loc 1 1702 29 discriminator 1 view .LVU2061
 6132 0076 B8F1000F 		cmp	r8, #0
 6133 007a 0BD0     		beq	.L485
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6134              		.loc 1 1702 44 discriminator 2 view .LVU2062
 6135 007c 39F81630 		ldrh	r3, [r9, r6, lsl #1]
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6136              		.loc 1 1702 35 discriminator 2 view .LVU2063
 6137 0080 53B9     		cbnz	r3, .L486
1704:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6138              		.loc 1 1704 9 view .LVU2064
 6139 0082 0120     		movs	r0, #1
 6140 0084 00E0     		b	.L474
 6141              	.LVL711:
 6142              	.L481:
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6143              		.loc 1 1686 49 view .LVU2065
 6144 0086 0020     		movs	r0, #0
 6145              	.L474:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6146              		.loc 1 1705 1 view .LVU2066
 6147 0088 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 6148              	.LVL712:
 6149              	.L488:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6150              		.loc 1 1698 29 view .LVU2067
 6151 008c 0020     		movs	r0, #0
 6152              	.LVL713:
1698:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6153              		.loc 1 1698 29 view .LVU2068
 6154 008e FBE7     		b	.L474
 6155              	.L484:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6156              		.loc 1 1704 9 view .LVU2069
 6157 0090 0120     		movs	r0, #1
 6158 0092 F9E7     		b	.L474
 6159              	.L485:
 6160 0094 0120     		movs	r0, #1
 6161 0096 F7E7     		b	.L474
 6162              	.L486:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6163              		.loc 1 1702 56 view .LVU2070
 6164 0098 0020     		movs	r0, #0
 6165 009a F5E7     		b	.L474
 6166              	.L491:
 6167              		.align	2
ARM GAS  /tmp/cc9mPikx.s 			page 242


 6168              	.L490:
 6169 009c 00000000 		.word	.LANCHOR1
 6170              		.cfi_endproc
 6171              	.LFE377:
 6173              		.section	.text.dir_find,"ax",%progbits
 6174              		.align	1
 6175              		.syntax unified
 6176              		.thumb
 6177              		.thumb_func
 6178              		.fpu fpv5-d16
 6180              	dir_find:
 6181              	.LVL714:
 6182              	.LFB383:
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6183              		.loc 1 2213 1 is_stmt 1 view -0
 6184              		.cfi_startproc
 6185              		@ args = 0, pretend = 0, frame = 0
 6186              		@ frame_needed = 0, uses_anonymous_args = 0
2213:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6187              		.loc 1 2213 1 is_stmt 0 view .LVU2072
 6188 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 6189              	.LCFI47:
 6190              		.cfi_def_cfa_offset 32
 6191              		.cfi_offset 3, -32
 6192              		.cfi_offset 4, -28
 6193              		.cfi_offset 5, -24
 6194              		.cfi_offset 6, -20
 6195              		.cfi_offset 7, -16
 6196              		.cfi_offset 8, -12
 6197              		.cfi_offset 9, -8
 6198              		.cfi_offset 14, -4
 6199 0004 0446     		mov	r4, r0
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 6200              		.loc 1 2214 2 is_stmt 1 view .LVU2073
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 6201              		.loc 1 2215 2 view .LVU2074
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
 6202              		.loc 1 2215 9 is_stmt 0 view .LVU2075
 6203 0006 D0F80080 		ldr	r8, [r0]
 6204              	.LVL715:
2216:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 6205              		.loc 1 2216 2 is_stmt 1 view .LVU2076
2218:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6206              		.loc 1 2218 2 view .LVU2077
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 6207              		.loc 1 2221 2 view .LVU2078
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 6208              		.loc 1 2221 8 is_stmt 0 view .LVU2079
 6209 000a 0021     		movs	r1, #0
 6210 000c FFF7FEFF 		bl	dir_sdi
 6211              	.LVL716:
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6212              		.loc 1 2222 2 is_stmt 1 view .LVU2080
2222:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 6213              		.loc 1 2222 5 is_stmt 0 view .LVU2081
 6214 0010 0646     		mov	r6, r0
 6215 0012 0028     		cmp	r0, #0
ARM GAS  /tmp/cc9mPikx.s 			page 243


 6216 0014 64D1     		bne	.L493
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6217              		.loc 1 2245 2 is_stmt 1 view .LVU2082
 6218              	.LVL717:
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6219              		.loc 1 2245 20 view .LVU2083
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6220              		.loc 1 2245 32 is_stmt 0 view .LVU2084
 6221 0016 4FF0FF33 		mov	r3, #-1
 6222 001a 2363     		str	r3, [r4, #48]
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6223              		.loc 1 2245 12 view .LVU2085
 6224 001c 4FF0FF09 		mov	r9, #255
2245:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6225              		.loc 1 2245 6 view .LVU2086
 6226 0020 4F46     		mov	r7, r9
 6227 0022 0AE0     		b	.L501
 6228              	.LVL718:
 6229              	.L494:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6230              		.loc 1 2255 4 is_stmt 1 view .LVU2087
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6231              		.loc 1 2255 16 view .LVU2088
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6232              		.loc 1 2255 28 is_stmt 0 view .LVU2089
 6233 0024 4FF0FF33 		mov	r3, #-1
 6234              	.LVL719:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6235              		.loc 1 2255 28 view .LVU2090
 6236 0028 2363     		str	r3, [r4, #48]
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 6237              		.loc 1 2255 8 view .LVU2091
 6238 002a FF27     		movs	r7, #255
 6239              	.LVL720:
 6240              	.L496:
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 6241              		.loc 1 2277 3 is_stmt 1 view .LVU2092
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 6242              		.loc 1 2277 9 is_stmt 0 view .LVU2093
 6243 002c 0021     		movs	r1, #0
 6244 002e 2046     		mov	r0, r4
 6245 0030 FFF7FEFF 		bl	dir_next
 6246              	.LVL721:
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6247              		.loc 1 2278 10 is_stmt 1 view .LVU2094
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6248              		.loc 1 2278 2 is_stmt 0 view .LVU2095
 6249 0034 0646     		mov	r6, r0
 6250 0036 0028     		cmp	r0, #0
 6251 0038 52D1     		bne	.L493
 6252              	.LVL722:
 6253              	.L501:
2247:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6254              		.loc 1 2247 2 is_stmt 1 view .LVU2096
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 6255              		.loc 1 2248 3 view .LVU2097
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
ARM GAS  /tmp/cc9mPikx.s 			page 244


 6256              		.loc 1 2248 9 is_stmt 0 view .LVU2098
 6257 003a E169     		ldr	r1, [r4, #28]
 6258 003c 4046     		mov	r0, r8
 6259              	.LVL723:
2248:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 6260              		.loc 1 2248 9 view .LVU2099
 6261 003e FFF7FEFF 		bl	move_window
 6262              	.LVL724:
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 6263              		.loc 1 2249 3 is_stmt 1 view .LVU2100
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 6264              		.loc 1 2249 6 is_stmt 0 view .LVU2101
 6265 0042 0646     		mov	r6, r0
 6266 0044 0028     		cmp	r0, #0
 6267 0046 4BD1     		bne	.L493
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 6268              		.loc 1 2250 3 is_stmt 1 view .LVU2102
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 6269              		.loc 1 2250 9 is_stmt 0 view .LVU2103
 6270 0048 256A     		ldr	r5, [r4, #32]
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 6271              		.loc 1 2250 5 view .LVU2104
 6272 004a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 6273              	.LVL725:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6274              		.loc 1 2251 3 is_stmt 1 view .LVU2105
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6275              		.loc 1 2251 6 is_stmt 0 view .LVU2106
 6276 004c 002B     		cmp	r3, #0
 6277 004e 46D0     		beq	.L502
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6278              		.loc 1 2253 3 is_stmt 1 view .LVU2107
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6279              		.loc 1 2253 29 is_stmt 0 view .LVU2108
 6280 0050 E97A     		ldrb	r1, [r5, #11]	@ zero_extendqisi2
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6281              		.loc 1 2253 20 view .LVU2109
 6282 0052 01F03F02 		and	r2, r1, #63
 6283              	.LVL726:
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 6284              		.loc 1 2253 16 view .LVU2110
 6285 0056 A271     		strb	r2, [r4, #6]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6286              		.loc 1 2254 3 is_stmt 1 view .LVU2111
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6287              		.loc 1 2254 6 is_stmt 0 view .LVU2112
 6288 0058 E52B     		cmp	r3, #229
 6289 005a E3D0     		beq	.L494
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6290              		.loc 1 2254 17 discriminator 1 view .LVU2113
 6291 005c 11F0080F 		tst	r1, #8
 6292 0060 01D0     		beq	.L495
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6293              		.loc 1 2254 34 discriminator 2 view .LVU2114
 6294 0062 0F2A     		cmp	r2, #15
 6295 0064 DED1     		bne	.L494
 6296              	.L495:
ARM GAS  /tmp/cc9mPikx.s 			page 245


2257:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 6297              		.loc 1 2257 4 is_stmt 1 view .LVU2115
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 6298              		.loc 1 2257 7 is_stmt 0 view .LVU2116
 6299 0066 0F2A     		cmp	r2, #15
 6300 0068 16D0     		beq	.L507
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6301              		.loc 1 2268 5 is_stmt 1 view .LVU2117
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6302              		.loc 1 2268 8 is_stmt 0 view .LVU2118
 6303 006a 27B9     		cbnz	r7, .L499
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6304              		.loc 1 2268 24 discriminator 1 view .LVU2119
 6305 006c 2846     		mov	r0, r5
 6306              	.LVL727:
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6307              		.loc 1 2268 24 discriminator 1 view .LVU2120
 6308 006e FFF7FEFF 		bl	sum_sfn
 6309              	.LVL728:
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 6310              		.loc 1 2268 14 discriminator 1 view .LVU2121
 6311 0072 4845     		cmp	r0, r9
 6312 0074 34D0     		beq	.L493
 6313              	.L499:
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6314              		.loc 1 2269 5 is_stmt 1 view .LVU2122
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6315              		.loc 1 2269 17 is_stmt 0 view .LVU2123
 6316 0076 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6317              		.loc 1 2269 8 view .LVU2124
 6318 007a 13F0010F 		tst	r3, #1
 6319 007e 06D1     		bne	.L500
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6320              		.loc 1 2269 41 discriminator 1 view .LVU2125
 6321 0080 0B22     		movs	r2, #11
 6322 0082 04F12401 		add	r1, r4, #36
 6323 0086 2846     		mov	r0, r5
 6324 0088 FFF7FEFF 		bl	mem_cmp
 6325              	.LVL729:
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 6326              		.loc 1 2269 37 discriminator 1 view .LVU2126
 6327 008c 40B3     		cbz	r0, .L493
 6328              	.L500:
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6329              		.loc 1 2270 5 is_stmt 1 view .LVU2127
 6330              	.LVL730:
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6331              		.loc 1 2270 17 view .LVU2128
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6332              		.loc 1 2270 29 is_stmt 0 view .LVU2129
 6333 008e 4FF0FF33 		mov	r3, #-1
 6334 0092 2363     		str	r3, [r4, #48]
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6335              		.loc 1 2270 9 view .LVU2130
 6336 0094 FF27     		movs	r7, #255
 6337 0096 C9E7     		b	.L496
ARM GAS  /tmp/cc9mPikx.s 			page 246


 6338              	.LVL731:
 6339              	.L507:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 6340              		.loc 1 2258 5 is_stmt 1 view .LVU2131
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 6341              		.loc 1 2258 17 is_stmt 0 view .LVU2132
 6342 0098 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 6343              	.LVL732:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 6344              		.loc 1 2258 8 view .LVU2133
 6345 009c 12F0400F 		tst	r2, #64
 6346 00a0 C4D1     		bne	.L496
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 6347              		.loc 1 2259 6 is_stmt 1 view .LVU2134
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 6348              		.loc 1 2259 9 is_stmt 0 view .LVU2135
 6349 00a2 13F0400F 		tst	r3, #64
 6350 00a6 06D0     		beq	.L498
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 6351              		.loc 1 2260 7 is_stmt 1 view .LVU2136
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 6352              		.loc 1 2260 11 is_stmt 0 view .LVU2137
 6353 00a8 95F80D90 		ldrb	r9, [r5, #13]	@ zero_extendqisi2
 6354              	.LVL733:
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6355              		.loc 1 2261 7 is_stmt 1 view .LVU2138
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6356              		.loc 1 2261 9 is_stmt 0 view .LVU2139
 6357 00ac 03F0BF03 		and	r3, r3, #191
 6358              	.LVL734:
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6359              		.loc 1 2261 25 is_stmt 1 view .LVU2140
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6360              		.loc 1 2262 7 view .LVU2141
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6361              		.loc 1 2262 23 is_stmt 0 view .LVU2142
 6362 00b0 6269     		ldr	r2, [r4, #20]
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6363              		.loc 1 2262 19 view .LVU2143
 6364 00b2 2263     		str	r2, [r4, #48]
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 6365              		.loc 1 2261 29 view .LVU2144
 6366 00b4 1F46     		mov	r7, r3
 6367              	.LVL735:
 6368              	.L498:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6369              		.loc 1 2265 6 is_stmt 1 view .LVU2145
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6370              		.loc 1 2265 10 is_stmt 0 view .LVU2146
 6371 00b6 BB42     		cmp	r3, r7
 6372 00b8 01D0     		beq	.L508
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6373              		.loc 1 2265 10 view .LVU2147
 6374 00ba FF27     		movs	r7, #255
 6375              	.LVL736:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6376              		.loc 1 2265 10 view .LVU2148
ARM GAS  /tmp/cc9mPikx.s 			page 247


 6377 00bc B6E7     		b	.L496
 6378              	.LVL737:
 6379              	.L508:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6380              		.loc 1 2265 39 discriminator 1 view .LVU2149
 6381 00be 6B7B     		ldrb	r3, [r5, #13]	@ zero_extendqisi2
 6382              	.LVL738:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6383              		.loc 1 2265 22 discriminator 1 view .LVU2150
 6384 00c0 4B45     		cmp	r3, r9
 6385 00c2 01D0     		beq	.L509
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6386              		.loc 1 2265 10 view .LVU2151
 6387 00c4 FF27     		movs	r7, #255
 6388              	.LVL739:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6389              		.loc 1 2265 10 view .LVU2152
 6390 00c6 B1E7     		b	.L496
 6391              	.LVL740:
 6392              	.L509:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6393              		.loc 1 2265 56 discriminator 3 view .LVU2153
 6394 00c8 2946     		mov	r1, r5
 6395 00ca D8F81000 		ldr	r0, [r8, #16]
 6396              	.LVL741:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6397              		.loc 1 2265 56 discriminator 3 view .LVU2154
 6398 00ce FFF7FEFF 		bl	cmp_lfn
 6399              	.LVL742:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6400              		.loc 1 2265 53 discriminator 3 view .LVU2155
 6401 00d2 10B1     		cbz	r0, .L505
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6402              		.loc 1 2265 10 discriminator 5 view .LVU2156
 6403 00d4 013F     		subs	r7, r7, #1
 6404              	.LVL743:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6405              		.loc 1 2265 10 discriminator 5 view .LVU2157
 6406 00d6 FFB2     		uxtb	r7, r7
 6407 00d8 A8E7     		b	.L496
 6408              	.LVL744:
 6409              	.L505:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6410              		.loc 1 2265 10 view .LVU2158
 6411 00da FF27     		movs	r7, #255
 6412              	.LVL745:
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6413              		.loc 1 2265 10 view .LVU2159
 6414 00dc A6E7     		b	.L496
 6415              	.LVL746:
 6416              	.L502:
2251:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6417              		.loc 1 2251 21 view .LVU2160
 6418 00de 0426     		movs	r6, #4
 6419              	.LVL747:
 6420              	.L493:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 248


 6421              		.loc 1 2281 1 view .LVU2161
 6422 00e0 3046     		mov	r0, r6
 6423 00e2 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6424              		.loc 1 2281 1 view .LVU2162
 6425              		.cfi_endproc
 6426              	.LFE383:
 6428              		.section	.text.follow_path,"ax",%progbits
 6429              		.align	1
 6430              		.syntax unified
 6431              		.thumb
 6432              		.thumb_func
 6433              		.fpu fpv5-d16
 6435              	follow_path:
 6436              	.LVL748:
 6437              	.LFB388:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6438              		.loc 1 2817 1 is_stmt 1 view -0
 6439              		.cfi_startproc
 6440              		@ args = 0, pretend = 0, frame = 8
 6441              		@ frame_needed = 0, uses_anonymous_args = 0
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6442              		.loc 1 2817 1 is_stmt 0 view .LVU2164
 6443 0000 30B5     		push	{r4, r5, lr}
 6444              	.LCFI48:
 6445              		.cfi_def_cfa_offset 12
 6446              		.cfi_offset 4, -12
 6447              		.cfi_offset 5, -8
 6448              		.cfi_offset 14, -4
 6449 0002 83B0     		sub	sp, sp, #12
 6450              	.LCFI49:
 6451              		.cfi_def_cfa_offset 24
 6452 0004 0446     		mov	r4, r0
 6453 0006 0191     		str	r1, [sp, #4]
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
 6454              		.loc 1 2818 2 is_stmt 1 view .LVU2165
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 6455              		.loc 1 2819 2 view .LVU2166
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 6456              		.loc 1 2820 2 view .LVU2167
 6457              	.LVL749:
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6458              		.loc 1 2821 2 view .LVU2168
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6459              		.loc 1 2821 9 is_stmt 0 view .LVU2169
 6460 0008 0568     		ldr	r5, [r0]
 6461              	.LVL750:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6462              		.loc 1 2830 3 is_stmt 1 view .LVU2170
 6463              	.L511:
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6464              		.loc 1 2830 9 discriminator 1 view .LVU2171
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6465              		.loc 1 2830 10 is_stmt 0 discriminator 1 view .LVU2172
 6466 000a 019B     		ldr	r3, [sp, #4]
 6467 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
ARM GAS  /tmp/cc9mPikx.s 			page 249


 6468              		.loc 1 2830 9 discriminator 1 view .LVU2173
 6469 000e 5C2A     		cmp	r2, #92
 6470 0010 18BF     		it	ne
 6471 0012 2F2A     		cmpne	r2, #47
 6472 0014 02D1     		bne	.L519
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6473              		.loc 1 2830 41 is_stmt 1 discriminator 2 view .LVU2174
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 6474              		.loc 1 2830 45 is_stmt 0 discriminator 2 view .LVU2175
 6475 0016 0133     		adds	r3, r3, #1
 6476 0018 0193     		str	r3, [sp, #4]
 6477 001a F6E7     		b	.L511
 6478              	.L519:
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6479              		.loc 1 2831 3 is_stmt 1 view .LVU2176
2831:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6480              		.loc 1 2831 15 is_stmt 0 view .LVU2177
 6481 001c 0022     		movs	r2, #0
 6482 001e A260     		str	r2, [r4, #8]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6483              		.loc 1 2850 2 is_stmt 1 view .LVU2178
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6484              		.loc 1 2850 12 is_stmt 0 view .LVU2179
 6485 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 6486              		.loc 1 2850 5 view .LVU2180
 6487 0022 1F2B     		cmp	r3, #31
 6488 0024 1ED8     		bhi	.L513
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 6489              		.loc 1 2851 3 is_stmt 1 view .LVU2181
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 6490              		.loc 1 2851 18 is_stmt 0 view .LVU2182
 6491 0026 8023     		movs	r3, #128
 6492 0028 84F82F30 		strb	r3, [r4, #47]
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6493              		.loc 1 2852 3 is_stmt 1 view .LVU2183
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6494              		.loc 1 2852 9 is_stmt 0 view .LVU2184
 6495 002c 1146     		mov	r1, r2
 6496              	.LVL751:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6497              		.loc 1 2852 9 view .LVU2185
 6498 002e 2046     		mov	r0, r4
 6499              	.LVL752:
2852:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6500              		.loc 1 2852 9 view .LVU2186
 6501 0030 FFF7FEFF 		bl	dir_sdi
 6502              	.LVL753:
 6503 0034 0346     		mov	r3, r0
 6504              	.LVL754:
 6505              	.L514:
2893:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6506              		.loc 1 2893 2 is_stmt 1 view .LVU2187
2894:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6507              		.loc 1 2894 1 is_stmt 0 view .LVU2188
 6508 0036 1846     		mov	r0, r3
 6509 0038 03B0     		add	sp, sp, #12
ARM GAS  /tmp/cc9mPikx.s 			page 250


 6510              	.LCFI50:
 6511              		.cfi_remember_state
 6512              		.cfi_def_cfa_offset 12
 6513              		@ sp needed
 6514 003a 30BD     		pop	{r4, r5, pc}
 6515              	.LVL755:
 6516              	.L520:
 6517              	.LCFI51:
 6518              		.cfi_restore_state
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 6519              		.loc 1 2861 5 is_stmt 1 view .LVU2189
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
 6520              		.loc 1 2861 8 is_stmt 0 view .LVU2190
 6521 003c 0428     		cmp	r0, #4
 6522 003e FAD1     		bne	.L514
2862:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
 6523              		.loc 1 2862 6 is_stmt 1 view .LVU2191
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6524              		.loc 1 2867 7 view .LVU2192
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6525              		.loc 1 2867 10 is_stmt 0 view .LVU2193
 6526 0040 12F0040F 		tst	r2, #4
 6527 0044 F7D1     		bne	.L514
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 6528              		.loc 1 2867 32 view .LVU2194
 6529 0046 0523     		movs	r3, #5
 6530 0048 F5E7     		b	.L514
 6531              	.L521:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6532              		.loc 1 2888 5 is_stmt 1 view .LVU2195
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6533              		.loc 1 2888 32 is_stmt 0 view .LVU2196
 6534 004a 05F13801 		add	r1, r5, #56
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6535              		.loc 1 2888 44 view .LVU2197
 6536 004e 6069     		ldr	r0, [r4, #20]
 6537              	.LVL756:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6538              		.loc 1 2888 53 view .LVU2198
 6539 0050 AA89     		ldrh	r2, [r5, #12]
 6540              	.LVL757:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6541              		.loc 1 2888 51 view .LVU2199
 6542 0052 B0FBF2F3 		udiv	r3, r0, r2
 6543 0056 02FB1303 		mls	r3, r2, r3, r0
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6544              		.loc 1 2888 19 view .LVU2200
 6545 005a 1944     		add	r1, r1, r3
 6546 005c 2846     		mov	r0, r5
 6547 005e FFF7FEFF 		bl	ld_clust
 6548              	.LVL758:
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6549              		.loc 1 2888 17 view .LVU2201
 6550 0062 A060     		str	r0, [r4, #8]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 6551              		.loc 1 2855 9 is_stmt 1 view .LVU2202
 6552              	.L513:
ARM GAS  /tmp/cc9mPikx.s 			page 251


2855:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 6553              		.loc 1 2855 3 view .LVU2203
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6554              		.loc 1 2856 4 view .LVU2204
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6555              		.loc 1 2856 10 is_stmt 0 view .LVU2205
 6556 0064 01A9     		add	r1, sp, #4
 6557 0066 2046     		mov	r0, r4
 6558 0068 FFF7FEFF 		bl	create_name
 6559              	.LVL759:
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 6560              		.loc 1 2857 4 is_stmt 1 view .LVU2206
2857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 6561              		.loc 1 2857 7 is_stmt 0 view .LVU2207
 6562 006c 0346     		mov	r3, r0
 6563 006e 0028     		cmp	r0, #0
 6564 0070 E1D1     		bne	.L514
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6565              		.loc 1 2858 4 is_stmt 1 view .LVU2208
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6566              		.loc 1 2858 10 is_stmt 0 view .LVU2209
 6567 0072 2046     		mov	r0, r4
 6568              	.LVL760:
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 6569              		.loc 1 2858 10 view .LVU2210
 6570 0074 FFF7FEFF 		bl	dir_find
 6571              	.LVL761:
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 6572              		.loc 1 2859 4 is_stmt 1 view .LVU2211
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 6573              		.loc 1 2859 7 is_stmt 0 view .LVU2212
 6574 0078 94F82F20 		ldrb	r2, [r4, #47]	@ zero_extendqisi2
 6575              	.LVL762:
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 6576              		.loc 1 2860 4 is_stmt 1 view .LVU2213
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 6577              		.loc 1 2860 7 is_stmt 0 view .LVU2214
 6578 007c 0346     		mov	r3, r0
 6579 007e 0028     		cmp	r0, #0
 6580 0080 DCD1     		bne	.L520
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 6581              		.loc 1 2872 4 is_stmt 1 view .LVU2215
2872:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 6582              		.loc 1 2872 7 is_stmt 0 view .LVU2216
 6583 0082 12F0040F 		tst	r2, #4
 6584 0086 D6D1     		bne	.L514
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6585              		.loc 1 2874 4 is_stmt 1 view .LVU2217
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6586              		.loc 1 2874 13 is_stmt 0 view .LVU2218
 6587 0088 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 6588              		.loc 1 2874 7 view .LVU2219
 6589 008a 13F0100F 		tst	r3, #16
 6590 008e DCD1     		bne	.L521
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6591              		.loc 1 2875 9 view .LVU2220
ARM GAS  /tmp/cc9mPikx.s 			page 252


 6592 0090 0523     		movs	r3, #5
 6593 0092 D0E7     		b	.L514
 6594              		.cfi_endproc
 6595              	.LFE388:
 6597              		.section	.text.dir_register,"ax",%progbits
 6598              		.align	1
 6599              		.syntax unified
 6600              		.thumb
 6601              		.thumb_func
 6602              		.fpu fpv5-d16
 6604              	dir_register:
 6605              	.LVL763:
 6606              	.LFB384:
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6607              		.loc 1 2295 1 is_stmt 1 view -0
 6608              		.cfi_startproc
 6609              		@ args = 0, pretend = 0, frame = 16
 6610              		@ frame_needed = 0, uses_anonymous_args = 0
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6611              		.loc 1 2295 1 is_stmt 0 view .LVU2222
 6612 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 6613              	.LCFI52:
 6614              		.cfi_def_cfa_offset 28
 6615              		.cfi_offset 4, -28
 6616              		.cfi_offset 5, -24
 6617              		.cfi_offset 6, -20
 6618              		.cfi_offset 7, -16
 6619              		.cfi_offset 8, -12
 6620              		.cfi_offset 9, -8
 6621              		.cfi_offset 14, -4
 6622 0004 85B0     		sub	sp, sp, #20
 6623              	.LCFI53:
 6624              		.cfi_def_cfa_offset 48
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 6625              		.loc 1 2296 2 is_stmt 1 view .LVU2223
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6626              		.loc 1 2297 2 view .LVU2224
2297:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
 6627              		.loc 1 2297 9 is_stmt 0 view .LVU2225
 6628 0006 0668     		ldr	r6, [r0]
 6629              	.LVL764:
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
 6630              		.loc 1 2299 2 is_stmt 1 view .LVU2226
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6631              		.loc 1 2300 2 view .LVU2227
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6632              		.loc 1 2303 2 view .LVU2228
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6633              		.loc 1 2303 12 is_stmt 0 view .LVU2229
 6634 0008 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6635              		.loc 1 2303 5 view .LVU2230
 6636 000c 13F0A00F 		tst	r3, #160
 6637 0010 40F08D80 		bne	.L533
 6638 0014 0746     		mov	r7, r0
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6639              		.loc 1 2304 12 view .LVU2231
ARM GAS  /tmp/cc9mPikx.s 			page 253


 6640 0016 0024     		movs	r4, #0
 6641 0018 00E0     		b	.L524
 6642              	.LVL765:
 6643              	.L525:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6644              		.loc 1 2304 43 is_stmt 1 discriminator 3 view .LVU2232
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6645              		.loc 1 2304 35 discriminator 3 view .LVU2233
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6646              		.loc 1 2304 39 is_stmt 0 discriminator 3 view .LVU2234
 6647 001a 0134     		adds	r4, r4, #1
 6648              	.LVL766:
 6649              	.L524:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6650              		.loc 1 2304 17 is_stmt 1 discriminator 1 view .LVU2235
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6651              		.loc 1 2304 19 is_stmt 0 discriminator 1 view .LVU2236
 6652 001c 3369     		ldr	r3, [r6, #16]
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6653              		.loc 1 2304 27 discriminator 1 view .LVU2237
 6654 001e 33F81430 		ldrh	r3, [r3, r4, lsl #1]
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6655              		.loc 1 2304 2 discriminator 1 view .LVU2238
 6656 0022 002B     		cmp	r3, #0
 6657 0024 F9D1     		bne	.L525
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6658              		.loc 1 2335 2 is_stmt 1 view .LVU2239
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6659              		.loc 1 2335 16 is_stmt 0 view .LVU2240
 6660 0026 07F12408 		add	r8, r7, #36
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6661              		.loc 1 2335 2 view .LVU2241
 6662 002a 0C22     		movs	r2, #12
 6663 002c 4146     		mov	r1, r8
 6664 002e 01A8     		add	r0, sp, #4
 6665              	.LVL767:
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 6666              		.loc 1 2335 2 view .LVU2242
 6667 0030 FFF7FEFF 		bl	mem_cpy
 6668              	.LVL768:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6669              		.loc 1 2336 2 is_stmt 1 view .LVU2243
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6670              		.loc 1 2336 8 is_stmt 0 view .LVU2244
 6671 0034 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 6672              		.loc 1 2336 5 view .LVU2245
 6673 0038 13F0010F 		tst	r3, #1
 6674 003c 1BD0     		beq	.L526
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 6675              		.loc 1 2337 3 is_stmt 1 view .LVU2246
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 6676              		.loc 1 2337 18 is_stmt 0 view .LVU2247
 6677 003e 4023     		movs	r3, #64
 6678 0040 87F82F30 		strb	r3, [r7, #47]
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6679              		.loc 1 2338 3 is_stmt 1 view .LVU2248
ARM GAS  /tmp/cc9mPikx.s 			page 254


 6680              	.LVL769:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6681              		.loc 1 2338 10 is_stmt 0 view .LVU2249
 6682 0044 0125     		movs	r5, #1
 6683              	.LVL770:
 6684              	.L527:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6685              		.loc 1 2338 15 is_stmt 1 discriminator 1 view .LVU2250
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6686              		.loc 1 2338 3 is_stmt 0 discriminator 1 view .LVU2251
 6687 0046 632D     		cmp	r5, #99
 6688 0048 0CD8     		bhi	.L528
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
 6689              		.loc 1 2339 4 is_stmt 1 view .LVU2252
 6690 004a 2B46     		mov	r3, r5
 6691 004c 3269     		ldr	r2, [r6, #16]
 6692 004e 01A9     		add	r1, sp, #4
 6693 0050 4046     		mov	r0, r8
 6694 0052 FFF7FEFF 		bl	gen_numname
 6695              	.LVL771:
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6696              		.loc 1 2340 4 view .LVU2253
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 6697              		.loc 1 2340 10 is_stmt 0 view .LVU2254
 6698 0056 3846     		mov	r0, r7
 6699 0058 FFF7FEFF 		bl	dir_find
 6700              	.LVL772:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6701              		.loc 1 2341 4 is_stmt 1 view .LVU2255
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6702              		.loc 1 2341 7 is_stmt 0 view .LVU2256
 6703 005c 8146     		mov	r9, r0
 6704 005e 08B9     		cbnz	r0, .L528
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6705              		.loc 1 2338 24 is_stmt 1 discriminator 2 view .LVU2257
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6706              		.loc 1 2338 25 is_stmt 0 discriminator 2 view .LVU2258
 6707 0060 0135     		adds	r5, r5, #1
 6708              	.LVL773:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 6709              		.loc 1 2338 25 discriminator 2 view .LVU2259
 6710 0062 F0E7     		b	.L527
 6711              	.LVL774:
 6712              	.L528:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6713              		.loc 1 2343 3 is_stmt 1 view .LVU2260
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6714              		.loc 1 2343 6 is_stmt 0 view .LVU2261
 6715 0064 642D     		cmp	r5, #100
 6716 0066 65D0     		beq	.L534
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 6717              		.loc 1 2344 3 is_stmt 1 view .LVU2262
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 6718              		.loc 1 2344 6 is_stmt 0 view .LVU2263
 6719 0068 B9F1040F 		cmp	r9, #4
 6720 006c 19D1     		bne	.L523
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc9mPikx.s 			page 255


 6721              		.loc 1 2345 3 is_stmt 1 view .LVU2264
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6722              		.loc 1 2345 22 is_stmt 0 view .LVU2265
 6723 006e 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6724              		.loc 1 2345 18 view .LVU2266
 6725 0072 87F82F30 		strb	r3, [r7, #47]
 6726              	.LVL775:
 6727              	.L526:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6728              		.loc 1 2349 2 is_stmt 1 view .LVU2267
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6729              		.loc 1 2349 12 is_stmt 0 view .LVU2268
 6730 0076 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6731              		.loc 1 2349 54 view .LVU2269
 6732 007a 13F0020F 		tst	r3, #2
 6733 007e 14D0     		beq	.L535
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6734              		.loc 1 2349 39 discriminator 1 view .LVU2270
 6735 0080 0C34     		adds	r4, r4, #12
 6736              	.LVL776:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6737              		.loc 1 2349 45 discriminator 1 view .LVU2271
 6738 0082 2E4B     		ldr	r3, .L539
 6739 0084 A3FB0434 		umull	r3, r4, r3, r4
 6740              	.LVL777:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6741              		.loc 1 2349 45 discriminator 1 view .LVU2272
 6742 0088 A408     		lsrs	r4, r4, #2
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6743              		.loc 1 2349 54 discriminator 1 view .LVU2273
 6744 008a 0134     		adds	r4, r4, #1
 6745              	.L530:
 6746              	.LVL778:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 6747              		.loc 1 2350 2 is_stmt 1 discriminator 4 view .LVU2274
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 6748              		.loc 1 2350 8 is_stmt 0 discriminator 4 view .LVU2275
 6749 008c 2146     		mov	r1, r4
 6750 008e 3846     		mov	r0, r7
 6751 0090 FFF7FEFF 		bl	dir_alloc
 6752              	.LVL779:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6753              		.loc 1 2351 2 is_stmt 1 discriminator 4 view .LVU2276
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6754              		.loc 1 2351 5 is_stmt 0 discriminator 4 view .LVU2277
 6755 0094 8146     		mov	r9, r0
 6756 0096 08B9     		cbnz	r0, .L531
 6757              	.LVL780:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6758              		.loc 1 2351 19 discriminator 1 view .LVU2278
 6759 0098 013C     		subs	r4, r4, #1
 6760              	.LVL781:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 6761              		.loc 1 2351 19 discriminator 1 view .LVU2279
 6762 009a 08D1     		bne	.L537
ARM GAS  /tmp/cc9mPikx.s 			page 256


 6763              	.L531:
 6764              	.LVL782:
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6765              		.loc 1 2371 2 is_stmt 1 view .LVU2280
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 6766              		.loc 1 2371 5 is_stmt 0 view .LVU2281
 6767 009c B9F1000F 		cmp	r9, #0
 6768 00a0 2BD0     		beq	.L538
 6769              	.LVL783:
 6770              	.L523:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6771              		.loc 1 2384 1 view .LVU2282
 6772 00a2 4846     		mov	r0, r9
 6773 00a4 05B0     		add	sp, sp, #20
 6774              	.LCFI54:
 6775              		.cfi_remember_state
 6776              		.cfi_def_cfa_offset 28
 6777              		@ sp needed
 6778 00a6 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6779              	.LVL784:
 6780              	.L535:
 6781              	.LCFI55:
 6782              		.cfi_restore_state
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6783              		.loc 1 2349 54 view .LVU2283
 6784 00aa 0124     		movs	r4, #1
 6785              	.LVL785:
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 6786              		.loc 1 2349 54 view .LVU2284
 6787 00ac EEE7     		b	.L530
 6788              	.LVL786:
 6789              	.L537:
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6790              		.loc 1 2352 3 is_stmt 1 view .LVU2285
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6791              		.loc 1 2352 23 is_stmt 0 view .LVU2286
 6792 00ae 7969     		ldr	r1, [r7, #20]
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6793              		.loc 1 2352 9 view .LVU2287
 6794 00b0 A1EB4411 		sub	r1, r1, r4, lsl #5
 6795 00b4 3846     		mov	r0, r7
 6796              	.LVL787:
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6797              		.loc 1 2352 9 view .LVU2288
 6798 00b6 FFF7FEFF 		bl	dir_sdi
 6799              	.LVL788:
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 6800              		.loc 1 2353 3 is_stmt 1 view .LVU2289
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 6801              		.loc 1 2353 6 is_stmt 0 view .LVU2290
 6802 00ba 8146     		mov	r9, r0
 6803 00bc 0028     		cmp	r0, #0
 6804 00be EDD1     		bne	.L531
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6805              		.loc 1 2354 4 is_stmt 1 view .LVU2291
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6806              		.loc 1 2354 10 is_stmt 0 view .LVU2292
ARM GAS  /tmp/cc9mPikx.s 			page 257


 6807 00c0 4046     		mov	r0, r8
 6808              	.LVL789:
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
 6809              		.loc 1 2354 10 view .LVU2293
 6810 00c2 FFF7FEFF 		bl	sum_sfn
 6811              	.LVL790:
 6812 00c6 0546     		mov	r5, r0
 6813              	.LVL791:
 6814              	.L532:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
 6815              		.loc 1 2355 4 is_stmt 1 view .LVU2294
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 6816              		.loc 1 2356 5 view .LVU2295
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 6817              		.loc 1 2356 11 is_stmt 0 view .LVU2296
 6818 00c8 F969     		ldr	r1, [r7, #28]
 6819 00ca 3046     		mov	r0, r6
 6820 00cc FFF7FEFF 		bl	move_window
 6821              	.LVL792:
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 6822              		.loc 1 2357 5 is_stmt 1 view .LVU2297
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 6823              		.loc 1 2357 8 is_stmt 0 view .LVU2298
 6824 00d0 8146     		mov	r9, r0
 6825 00d2 0028     		cmp	r0, #0
 6826 00d4 E2D1     		bne	.L531
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 6827              		.loc 1 2358 5 is_stmt 1 view .LVU2299
 6828 00d6 2B46     		mov	r3, r5
 6829 00d8 E2B2     		uxtb	r2, r4
 6830 00da 396A     		ldr	r1, [r7, #32]
 6831 00dc 3069     		ldr	r0, [r6, #16]
 6832              	.LVL793:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 6833              		.loc 1 2358 5 is_stmt 0 view .LVU2300
 6834 00de FFF7FEFF 		bl	put_lfn
 6835              	.LVL794:
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 6836              		.loc 1 2359 5 is_stmt 1 view .LVU2301
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 6837              		.loc 1 2359 15 is_stmt 0 view .LVU2302
 6838 00e2 0123     		movs	r3, #1
 6839 00e4 F370     		strb	r3, [r6, #3]
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 6840              		.loc 1 2360 5 is_stmt 1 view .LVU2303
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 6841              		.loc 1 2360 11 is_stmt 0 view .LVU2304
 6842 00e6 0021     		movs	r1, #0
 6843 00e8 3846     		mov	r0, r7
 6844 00ea FFF7FEFF 		bl	dir_next
 6845              	.LVL795:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6846              		.loc 1 2361 12 is_stmt 1 view .LVU2305
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6847              		.loc 1 2361 4 is_stmt 0 view .LVU2306
 6848 00ee 8146     		mov	r9, r0
 6849 00f0 0028     		cmp	r0, #0
ARM GAS  /tmp/cc9mPikx.s 			page 258


 6850 00f2 D3D1     		bne	.L531
 6851              	.LVL796:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6852              		.loc 1 2361 26 discriminator 1 view .LVU2307
 6853 00f4 013C     		subs	r4, r4, #1
 6854              	.LVL797:
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6855              		.loc 1 2361 26 discriminator 1 view .LVU2308
 6856 00f6 E7D1     		bne	.L532
 6857 00f8 D0E7     		b	.L531
 6858              	.LVL798:
 6859              	.L538:
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6860              		.loc 1 2372 3 is_stmt 1 view .LVU2309
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6861              		.loc 1 2372 9 is_stmt 0 view .LVU2310
 6862 00fa F969     		ldr	r1, [r7, #28]
 6863 00fc 3046     		mov	r0, r6
 6864 00fe FFF7FEFF 		bl	move_window
 6865              	.LVL799:
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 6866              		.loc 1 2373 3 is_stmt 1 view .LVU2311
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 6867              		.loc 1 2373 6 is_stmt 0 view .LVU2312
 6868 0102 8146     		mov	r9, r0
 6869 0104 0028     		cmp	r0, #0
 6870 0106 CCD1     		bne	.L523
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 6871              		.loc 1 2374 4 is_stmt 1 view .LVU2313
 6872 0108 2022     		movs	r2, #32
 6873 010a 0021     		movs	r1, #0
 6874 010c 386A     		ldr	r0, [r7, #32]
 6875              	.LVL800:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 6876              		.loc 1 2374 4 is_stmt 0 view .LVU2314
 6877 010e FFF7FEFF 		bl	mem_set
 6878              	.LVL801:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 6879              		.loc 1 2375 4 is_stmt 1 view .LVU2315
 6880 0112 0B22     		movs	r2, #11
 6881 0114 4146     		mov	r1, r8
 6882 0116 386A     		ldr	r0, [r7, #32]
 6883 0118 FFF7FEFF 		bl	mem_cpy
 6884              	.LVL802:
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6885              		.loc 1 2377 4 view .LVU2316
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6886              		.loc 1 2377 31 is_stmt 0 view .LVU2317
 6887 011c 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6888              		.loc 1 2377 6 view .LVU2318
 6889 0120 3A6A     		ldr	r2, [r7, #32]
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6890              		.loc 1 2377 40 view .LVU2319
 6891 0122 03F01803 		and	r3, r3, #24
2377:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6892              		.loc 1 2377 23 view .LVU2320
ARM GAS  /tmp/cc9mPikx.s 			page 259


 6893 0126 1373     		strb	r3, [r2, #12]
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6894              		.loc 1 2379 4 is_stmt 1 view .LVU2321
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6895              		.loc 1 2379 14 is_stmt 0 view .LVU2322
 6896 0128 0123     		movs	r3, #1
 6897 012a F370     		strb	r3, [r6, #3]
 6898 012c B9E7     		b	.L523
 6899              	.LVL803:
 6900              	.L533:
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 6901              		.loc 1 2303 52 view .LVU2323
 6902 012e 4FF00609 		mov	r9, #6
 6903 0132 B6E7     		b	.L523
 6904              	.LVL804:
 6905              	.L534:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6906              		.loc 1 2343 24 view .LVU2324
 6907 0134 4FF00709 		mov	r9, #7
 6908              	.LVL805:
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 6909              		.loc 1 2343 24 view .LVU2325
 6910 0138 B3E7     		b	.L523
 6911              	.L540:
 6912 013a 00BF     		.align	2
 6913              	.L539:
 6914 013c 4FECC44E 		.word	1321528399
 6915              		.cfi_endproc
 6916              	.LFE384:
 6918              		.section	.text.f_mount,"ax",%progbits
 6919              		.align	1
 6920              		.global	f_mount
 6921              		.syntax unified
 6922              		.thumb
 6923              		.thumb_func
 6924              		.fpu fpv5-d16
 6926              	f_mount:
 6927              	.LVL806:
 6928              	.LFB393:
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 6929              		.loc 1 3265 1 is_stmt 1 view -0
 6930              		.cfi_startproc
 6931              		@ args = 0, pretend = 0, frame = 16
 6932              		@ frame_needed = 0, uses_anonymous_args = 0
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 6933              		.loc 1 3265 1 is_stmt 0 view .LVU2327
 6934 0000 70B5     		push	{r4, r5, r6, lr}
 6935              	.LCFI56:
 6936              		.cfi_def_cfa_offset 16
 6937              		.cfi_offset 4, -16
 6938              		.cfi_offset 5, -12
 6939              		.cfi_offset 6, -8
 6940              		.cfi_offset 14, -4
 6941 0002 84B0     		sub	sp, sp, #16
 6942              	.LCFI57:
 6943              		.cfi_def_cfa_offset 32
 6944 0004 0190     		str	r0, [sp, #4]
ARM GAS  /tmp/cc9mPikx.s 			page 260


 6945 0006 0091     		str	r1, [sp]
 6946 0008 1646     		mov	r6, r2
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 6947              		.loc 1 3266 2 is_stmt 1 view .LVU2328
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6948              		.loc 1 3267 2 view .LVU2329
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 6949              		.loc 1 3268 2 view .LVU2330
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6950              		.loc 1 3269 2 view .LVU2331
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6951              		.loc 1 3269 15 is_stmt 0 view .LVU2332
 6952 000a 0391     		str	r1, [sp, #12]
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6953              		.loc 1 3273 2 is_stmt 1 view .LVU2333
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6954              		.loc 1 3273 8 is_stmt 0 view .LVU2334
 6955 000c 03A8     		add	r0, sp, #12
 6956              	.LVL807:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6957              		.loc 1 3273 8 view .LVU2335
 6958 000e FFF7FEFF 		bl	get_ldnumber
 6959              	.LVL808:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6960              		.loc 1 3274 2 is_stmt 1 view .LVU2336
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6961              		.loc 1 3274 5 is_stmt 0 view .LVU2337
 6962 0012 041E     		subs	r4, r0, #0
 6963 0014 1FDB     		blt	.L545
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6964              		.loc 1 3275 2 is_stmt 1 view .LVU2338
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6965              		.loc 1 3275 6 is_stmt 0 view .LVU2339
 6966 0016 114B     		ldr	r3, .L549
 6967 0018 53F82450 		ldr	r5, [r3, r4, lsl #2]
 6968              	.LVL809:
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6969              		.loc 1 3277 2 is_stmt 1 view .LVU2340
3277:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 6970              		.loc 1 3277 5 is_stmt 0 view .LVU2341
 6971 001c 25B1     		cbz	r5, .L543
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6972              		.loc 1 3279 3 is_stmt 1 view .LVU2342
 6973 001e 2846     		mov	r0, r5
 6974              	.LVL810:
3279:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6975              		.loc 1 3279 3 is_stmt 0 view .LVU2343
 6976 0020 FFF7FEFF 		bl	clear_lock
 6977              	.LVL811:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6978              		.loc 1 3284 3 is_stmt 1 view .LVU2344
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6979              		.loc 1 3284 16 is_stmt 0 view .LVU2345
 6980 0024 0023     		movs	r3, #0
 6981 0026 2B70     		strb	r3, [r5]
 6982              	.L543:
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
ARM GAS  /tmp/cc9mPikx.s 			page 261


 6983              		.loc 1 3287 2 is_stmt 1 view .LVU2346
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6984              		.loc 1 3287 6 is_stmt 0 view .LVU2347
 6985 0028 019B     		ldr	r3, [sp, #4]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6986              		.loc 1 3287 5 view .LVU2348
 6987 002a 0BB1     		cbz	r3, .L544
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 6988              		.loc 1 3288 3 is_stmt 1 view .LVU2349
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
 6989              		.loc 1 3288 15 is_stmt 0 view .LVU2350
 6990 002c 0022     		movs	r2, #0
 6991 002e 1A70     		strb	r2, [r3]
 6992              	.L544:
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6993              		.loc 1 3293 2 is_stmt 1 view .LVU2351
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6994              		.loc 1 3293 13 is_stmt 0 view .LVU2352
 6995 0030 019B     		ldr	r3, [sp, #4]
 6996 0032 0A4A     		ldr	r2, .L549
 6997 0034 42F82430 		str	r3, [r2, r4, lsl #2]
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6998              		.loc 1 3295 2 is_stmt 1 view .LVU2353
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6999              		.loc 1 3295 17 is_stmt 0 view .LVU2354
 7000 0038 721E     		subs	r2, r6, #1
 7001 003a 18BF     		it	ne
 7002 003c 0122     		movne	r2, #1
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7003              		.loc 1 3295 10 view .LVU2355
 7004 003e 002B     		cmp	r3, #0
 7005 0040 08BF     		it	eq
 7006 0042 0122     		moveq	r2, #1
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7007              		.loc 1 3295 5 view .LVU2356
 7008 0044 12B1     		cbz	r2, .L548
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7009              		.loc 1 3295 30 view .LVU2357
 7010 0046 0020     		movs	r0, #0
 7011              	.LVL812:
 7012              	.L542:
3299:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7013              		.loc 1 3299 1 view .LVU2358
 7014 0048 04B0     		add	sp, sp, #16
 7015              	.LCFI58:
 7016              		.cfi_remember_state
 7017              		.cfi_def_cfa_offset 16
 7018              		@ sp needed
 7019 004a 70BD     		pop	{r4, r5, r6, pc}
 7020              	.LVL813:
 7021              	.L548:
 7022              	.LCFI59:
 7023              		.cfi_restore_state
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 7024              		.loc 1 3297 2 is_stmt 1 view .LVU2359
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 7025              		.loc 1 3297 8 is_stmt 0 view .LVU2360
ARM GAS  /tmp/cc9mPikx.s 			page 262


 7026 004c 01A9     		add	r1, sp, #4
 7027 004e 6846     		mov	r0, sp
 7028 0050 FFF7FEFF 		bl	find_volume
 7029              	.LVL814:
3298:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7030              		.loc 1 3298 2 is_stmt 1 view .LVU2361
 7031 0054 F8E7     		b	.L542
 7032              	.LVL815:
 7033              	.L545:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 7034              		.loc 1 3274 22 is_stmt 0 view .LVU2362
 7035 0056 0B20     		movs	r0, #11
 7036              	.LVL816:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 7037              		.loc 1 3274 22 view .LVU2363
 7038 0058 F6E7     		b	.L542
 7039              	.L550:
 7040 005a 00BF     		.align	2
 7041              	.L549:
 7042 005c 00000000 		.word	.LANCHOR2
 7043              		.cfi_endproc
 7044              	.LFE393:
 7046              		.section	.text.f_open,"ax",%progbits
 7047              		.align	1
 7048              		.global	f_open
 7049              		.syntax unified
 7050              		.thumb
 7051              		.thumb_func
 7052              		.fpu fpv5-d16
 7054              	f_open:
 7055              	.LVL817:
 7056              	.LFB394:
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7057              		.loc 1 3313 1 is_stmt 1 view -0
 7058              		.cfi_startproc
 7059              		@ args = 0, pretend = 0, frame = 64
 7060              		@ frame_needed = 0, uses_anonymous_args = 0
3313:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7061              		.loc 1 3313 1 is_stmt 0 view .LVU2365
 7062 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 7063              	.LCFI60:
 7064              		.cfi_def_cfa_offset 28
 7065              		.cfi_offset 4, -28
 7066              		.cfi_offset 5, -24
 7067              		.cfi_offset 6, -20
 7068              		.cfi_offset 7, -16
 7069              		.cfi_offset 8, -12
 7070              		.cfi_offset 9, -8
 7071              		.cfi_offset 14, -4
 7072 0004 91B0     		sub	sp, sp, #68
 7073              	.LCFI61:
 7074              		.cfi_def_cfa_offset 96
 7075 0006 0191     		str	r1, [sp, #4]
3314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 7076              		.loc 1 3314 2 is_stmt 1 view .LVU2366
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7077              		.loc 1 3315 2 view .LVU2367
ARM GAS  /tmp/cc9mPikx.s 			page 263


3316:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7078              		.loc 1 3316 2 view .LVU2368
3318:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
 7079              		.loc 1 3318 2 view .LVU2369
3319:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7080              		.loc 1 3319 2 view .LVU2370
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7081              		.loc 1 3324 2 view .LVU2371
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7082              		.loc 1 3324 5 is_stmt 0 view .LVU2372
 7083 0008 0028     		cmp	r0, #0
 7084 000a 00F01681 		beq	.L567
 7085 000e 1546     		mov	r5, r2
 7086 0010 0646     		mov	r6, r0
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 7087              		.loc 1 3327 2 is_stmt 1 view .LVU2373
3327:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 7088              		.loc 1 3327 7 is_stmt 0 view .LVU2374
 7089 0012 02F03F07 		and	r7, r2, #63
 7090              	.LVL818:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7091              		.loc 1 3328 2 is_stmt 1 view .LVU2375
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7092              		.loc 1 3328 8 is_stmt 0 view .LVU2376
 7093 0016 3A46     		mov	r2, r7
 7094 0018 02A9     		add	r1, sp, #8
 7095              	.LVL819:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7096              		.loc 1 3328 8 view .LVU2377
 7097 001a 01A8     		add	r0, sp, #4
 7098              	.LVL820:
3328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7099              		.loc 1 3328 8 view .LVU2378
 7100 001c FFF7FEFF 		bl	find_volume
 7101              	.LVL821:
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7102              		.loc 1 3329 2 is_stmt 1 view .LVU2379
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 7103              		.loc 1 3329 5 is_stmt 0 view .LVU2380
 7104 0020 0446     		mov	r4, r0
 7105 0022 30B1     		cbz	r0, .L580
 7106              	.LVL822:
 7107              	.L553:
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 7108              		.loc 1 3496 16 is_stmt 1 view .LVU2381
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7109              		.loc 1 3499 2 view .LVU2382
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7110              		.loc 1 3499 5 is_stmt 0 view .LVU2383
 7111 0024 0CB1     		cbz	r4, .L552
 7112              	.LVL823:
 7113              	.L566:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7114              		.loc 1 3499 20 is_stmt 1 discriminator 1 view .LVU2384
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7115              		.loc 1 3499 31 is_stmt 0 discriminator 1 view .LVU2385
 7116 0026 0023     		movs	r3, #0
ARM GAS  /tmp/cc9mPikx.s 			page 264


 7117 0028 3360     		str	r3, [r6]
 7118              	.LVL824:
 7119              	.L552:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7120              		.loc 1 3502 1 view .LVU2386
 7121 002a 2046     		mov	r0, r4
 7122 002c 11B0     		add	sp, sp, #68
 7123              	.LCFI62:
 7124              		.cfi_remember_state
 7125              		.cfi_def_cfa_offset 28
 7126              		@ sp needed
 7127 002e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 7128              	.LVL825:
 7129              	.L580:
 7130              	.LCFI63:
 7131              		.cfi_restore_state
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7132              		.loc 1 3330 3 is_stmt 1 view .LVU2387
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 7133              		.loc 1 3330 13 is_stmt 0 view .LVU2388
 7134 0032 029B     		ldr	r3, [sp, #8]
 7135 0034 0393     		str	r3, [sp, #12]
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 7136              		.loc 1 3331 18 is_stmt 1 view .LVU2389
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 7137              		.loc 1 3332 3 view .LVU2390
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 7138              		.loc 1 3332 9 is_stmt 0 view .LVU2391
 7139 0036 0199     		ldr	r1, [sp, #4]
 7140 0038 03A8     		add	r0, sp, #12
 7141              	.LVL826:
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 7142              		.loc 1 3332 9 view .LVU2392
 7143 003a FFF7FEFF 		bl	follow_path
 7144              	.LVL827:
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 7145              		.loc 1 3334 3 is_stmt 1 view .LVU2393
3334:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 7146              		.loc 1 3334 6 is_stmt 0 view .LVU2394
 7147 003e 0446     		mov	r4, r0
 7148 0040 60B9     		cbnz	r0, .L554
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7149              		.loc 1 3335 4 is_stmt 1 view .LVU2395
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7150              		.loc 1 3335 8 is_stmt 0 view .LVU2396
 7151 0042 9DF93B30 		ldrsb	r3, [sp, #59]
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7152              		.loc 1 3335 7 view .LVU2397
 7153 0046 002B     		cmp	r3, #0
 7154 0048 50DB     		blt	.L568
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7155              		.loc 1 3340 5 is_stmt 1 view .LVU2398
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7156              		.loc 1 3340 11 is_stmt 0 view .LVU2399
 7157 004a 37F00103 		bics	r3, r7, #1
 7158 004e 14BF     		ite	ne
 7159 0050 0121     		movne	r1, #1
ARM GAS  /tmp/cc9mPikx.s 			page 265


 7160 0052 0021     		moveq	r1, #0
 7161 0054 03A8     		add	r0, sp, #12
 7162              	.LVL828:
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7163              		.loc 1 3340 11 view .LVU2400
 7164 0056 FFF7FEFF 		bl	chk_lock
 7165              	.LVL829:
 7166 005a 0446     		mov	r4, r0
 7167              	.LVL830:
 7168              	.L554:
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 7169              		.loc 1 3345 3 is_stmt 1 view .LVU2401
3345:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 7170              		.loc 1 3345 6 is_stmt 0 view .LVU2402
 7171 005c 15F01C0F 		tst	r5, #28
 7172 0060 5AD0     		beq	.L555
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 7173              		.loc 1 3346 4 is_stmt 1 view .LVU2403
3346:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 7174              		.loc 1 3346 7 is_stmt 0 view .LVU2404
 7175 0062 002C     		cmp	r4, #0
 7176 0064 4ED0     		beq	.L556
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7177              		.loc 1 3347 5 is_stmt 1 view .LVU2405
3347:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7178              		.loc 1 3347 8 is_stmt 0 view .LVU2406
 7179 0066 042C     		cmp	r4, #4
 7180 0068 42D0     		beq	.L581
 7181              	.LVL831:
 7182              	.L557:
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7183              		.loc 1 3354 5 is_stmt 1 view .LVU2407
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7184              		.loc 1 3354 10 is_stmt 0 view .LVU2408
 7185 006a 47F00807 		orr	r7, r7, #8
 7186              	.LVL832:
 7187              	.L558:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7188              		.loc 1 3363 4 is_stmt 1 view .LVU2409
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7189              		.loc 1 3363 7 is_stmt 0 view .LVU2410
 7190 006e 002C     		cmp	r4, #0
 7191 0070 61D1     		bne	.L559
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7192              		.loc 1 3363 21 discriminator 1 view .LVU2411
 7193 0072 17F0080F 		tst	r7, #8
 7194 0076 5ED0     		beq	.L559
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7195              		.loc 1 3364 5 is_stmt 1 view .LVU2412
3364:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7196              		.loc 1 3364 10 is_stmt 0 view .LVU2413
 7197 0078 FFF7FEFF 		bl	get_fattime
 7198              	.LVL833:
 7199 007c 0546     		mov	r5, r0
 7200              	.LVL834:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7201              		.loc 1 3392 6 is_stmt 1 view .LVU2414
ARM GAS  /tmp/cc9mPikx.s 			page 266


 7202 007e 0146     		mov	r1, r0
 7203 0080 0B98     		ldr	r0, [sp, #44]
 7204              	.LVL835:
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7205              		.loc 1 3392 6 is_stmt 0 view .LVU2415
 7206 0082 0E30     		adds	r0, r0, #14
 7207 0084 FFF7FEFF 		bl	st_dword
 7208              	.LVL836:
3393:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
 7209              		.loc 1 3393 6 is_stmt 1 view .LVU2416
 7210 0088 2946     		mov	r1, r5
 7211 008a 0B98     		ldr	r0, [sp, #44]
 7212 008c 1630     		adds	r0, r0, #22
 7213 008e FFF7FEFF 		bl	st_dword
 7214              	.LVL837:
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7215              		.loc 1 3394 6 view .LVU2417
3394:Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7216              		.loc 1 3394 23 is_stmt 0 view .LVU2418
 7217 0092 0B9B     		ldr	r3, [sp, #44]
 7218 0094 2022     		movs	r2, #32
 7219 0096 DA72     		strb	r2, [r3, #11]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7220              		.loc 1 3395 6 is_stmt 1 view .LVU2419
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7221              		.loc 1 3395 11 is_stmt 0 view .LVU2420
 7222 0098 DDF80880 		ldr	r8, [sp, #8]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7223              		.loc 1 3395 26 view .LVU2421
 7224 009c DDF82C90 		ldr	r9, [sp, #44]
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7225              		.loc 1 3395 11 view .LVU2422
 7226 00a0 4946     		mov	r1, r9
 7227 00a2 4046     		mov	r0, r8
 7228 00a4 FFF7FEFF 		bl	ld_clust
 7229              	.LVL838:
 7230 00a8 0546     		mov	r5, r0
 7231              	.LVL839:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7232              		.loc 1 3396 6 is_stmt 1 view .LVU2423
 7233 00aa 0022     		movs	r2, #0
 7234 00ac 4946     		mov	r1, r9
 7235 00ae 4046     		mov	r0, r8
 7236              	.LVL840:
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7237              		.loc 1 3396 6 is_stmt 0 view .LVU2424
 7238 00b0 FFF7FEFF 		bl	st_clust
 7239              	.LVL841:
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7240              		.loc 1 3397 6 is_stmt 1 view .LVU2425
 7241 00b4 0021     		movs	r1, #0
 7242 00b6 0B98     		ldr	r0, [sp, #44]
 7243 00b8 1C30     		adds	r0, r0, #28
 7244 00ba FFF7FEFF 		bl	st_dword
 7245              	.LVL842:
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7246              		.loc 1 3398 6 view .LVU2426
ARM GAS  /tmp/cc9mPikx.s 			page 267


3398:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7247              		.loc 1 3398 16 is_stmt 0 view .LVU2427
 7248 00be 029B     		ldr	r3, [sp, #8]
 7249 00c0 0122     		movs	r2, #1
 7250 00c2 DA70     		strb	r2, [r3, #3]
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7251              		.loc 1 3400 6 is_stmt 1 view .LVU2428
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7252              		.loc 1 3400 9 is_stmt 0 view .LVU2429
 7253 00c4 BDB3     		cbz	r5, .L559
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7254              		.loc 1 3401 7 is_stmt 1 view .LVU2430
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7255              		.loc 1 3401 14 is_stmt 0 view .LVU2431
 7256 00c6 029B     		ldr	r3, [sp, #8]
3401:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7257              		.loc 1 3401 10 view .LVU2432
 7258 00c8 D3F83480 		ldr	r8, [r3, #52]
 7259              	.LVL843:
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7260              		.loc 1 3402 7 is_stmt 1 view .LVU2433
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7261              		.loc 1 3402 13 is_stmt 0 view .LVU2434
 7262 00cc 0022     		movs	r2, #0
 7263 00ce 2946     		mov	r1, r5
 7264 00d0 03A8     		add	r0, sp, #12
 7265 00d2 FFF7FEFF 		bl	remove_chain
 7266              	.LVL844:
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7267              		.loc 1 3403 7 is_stmt 1 view .LVU2435
3403:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7268              		.loc 1 3403 10 is_stmt 0 view .LVU2436
 7269 00d6 0446     		mov	r4, r0
 7270 00d8 68BB     		cbnz	r0, .L559
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7271              		.loc 1 3404 8 is_stmt 1 view .LVU2437
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7272              		.loc 1 3404 14 is_stmt 0 view .LVU2438
 7273 00da 4146     		mov	r1, r8
 7274 00dc 0298     		ldr	r0, [sp, #8]
 7275              	.LVL845:
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7276              		.loc 1 3404 14 view .LVU2439
 7277 00de FFF7FEFF 		bl	move_window
 7278              	.LVL846:
 7279 00e2 0446     		mov	r4, r0
 7280              	.LVL847:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7281              		.loc 1 3405 8 is_stmt 1 view .LVU2440
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7282              		.loc 1 3405 27 is_stmt 0 view .LVU2441
 7283 00e4 013D     		subs	r5, r5, #1
 7284              	.LVL848:
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7285              		.loc 1 3405 22 view .LVU2442
 7286 00e6 029B     		ldr	r3, [sp, #8]
 7287 00e8 5D61     		str	r5, [r3, #20]
ARM GAS  /tmp/cc9mPikx.s 			page 268


 7288 00ea 24E0     		b	.L559
 7289              	.LVL849:
 7290              	.L568:
3336:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7291              		.loc 1 3336 9 view .LVU2443
 7292 00ec 0624     		movs	r4, #6
 7293 00ee B5E7     		b	.L554
 7294              	.LVL850:
 7295              	.L581:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7296              		.loc 1 3349 6 is_stmt 1 view .LVU2444
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7297              		.loc 1 3349 12 is_stmt 0 view .LVU2445
 7298 00f0 FFF7FEFF 		bl	enq_lock
 7299              	.LVL851:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7300              		.loc 1 3349 43 view .LVU2446
 7301 00f4 08B9     		cbnz	r0, .L582
 7302 00f6 1224     		movs	r4, #18
 7303              	.LVL852:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7304              		.loc 1 3349 43 view .LVU2447
 7305 00f8 B7E7     		b	.L557
 7306              	.LVL853:
 7307              	.L582:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7308              		.loc 1 3349 25 discriminator 1 view .LVU2448
 7309 00fa 03A8     		add	r0, sp, #12
 7310 00fc FFF7FEFF 		bl	dir_register
 7311              	.LVL854:
 7312 0100 0446     		mov	r4, r0
 7313              	.LVL855:
3349:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 7314              		.loc 1 3349 25 discriminator 1 view .LVU2449
 7315 0102 B2E7     		b	.L557
 7316              	.LVL856:
 7317              	.L556:
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7318              		.loc 1 3357 5 is_stmt 1 view .LVU2450
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7319              		.loc 1 3357 15 is_stmt 0 view .LVU2451
 7320 0104 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7321              		.loc 1 3357 8 view .LVU2452
 7322 0108 13F0110F 		tst	r3, #17
 7323 010c 12D1     		bne	.L570
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7324              		.loc 1 3360 6 is_stmt 1 view .LVU2453
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7325              		.loc 1 3360 9 is_stmt 0 view .LVU2454
 7326 010e 15F0040F 		tst	r5, #4
 7327 0112 ACD0     		beq	.L558
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7328              		.loc 1 3360 36 view .LVU2455
 7329 0114 0824     		movs	r4, #8
 7330              	.LVL857:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/cc9mPikx.s 			page 269


 7331              		.loc 1 3360 36 view .LVU2456
 7332 0116 0EE0     		b	.L559
 7333              	.LVL858:
 7334              	.L555:
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7335              		.loc 1 3412 4 is_stmt 1 view .LVU2457
3412:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7336              		.loc 1 3412 7 is_stmt 0 view .LVU2458
 7337 0118 6CB9     		cbnz	r4, .L559
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7338              		.loc 1 3413 5 is_stmt 1 view .LVU2459
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7339              		.loc 1 3413 15 is_stmt 0 view .LVU2460
 7340 011a 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
3413:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7341              		.loc 1 3413 8 view .LVU2461
 7342 011e 13F0100F 		tst	r3, #16
 7343 0122 4ED1     		bne	.L572
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7344              		.loc 1 3416 6 is_stmt 1 view .LVU2462
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7345              		.loc 1 3416 9 is_stmt 0 view .LVU2463
 7346 0124 15F0020F 		tst	r5, #2
 7347 0128 05D0     		beq	.L559
3416:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7348              		.loc 1 3416 28 discriminator 1 view .LVU2464
 7349 012a 13F0010F 		tst	r3, #1
 7350 012e 02D0     		beq	.L559
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7351              		.loc 1 3417 11 view .LVU2465
 7352 0130 0724     		movs	r4, #7
 7353              	.LVL859:
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7354              		.loc 1 3417 11 view .LVU2466
 7355 0132 16E0     		b	.L560
 7356              	.LVL860:
 7357              	.L570:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7358              		.loc 1 3358 10 view .LVU2467
 7359 0134 0724     		movs	r4, #7
 7360              	.LVL861:
 7361              	.L559:
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 7362              		.loc 1 3422 3 is_stmt 1 view .LVU2468
3422:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 7363              		.loc 1 3422 6 is_stmt 0 view .LVU2469
 7364 0136 A4B9     		cbnz	r4, .L560
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 7365              		.loc 1 3423 4 is_stmt 1 view .LVU2470
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 7366              		.loc 1 3423 7 is_stmt 0 view .LVU2471
 7367 0138 17F0080F 		tst	r7, #8
 7368 013c 01D0     		beq	.L561
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 7369              		.loc 1 3424 5 is_stmt 1 view .LVU2472
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 7370              		.loc 1 3424 10 is_stmt 0 view .LVU2473
ARM GAS  /tmp/cc9mPikx.s 			page 270


 7371 013e 47F04007 		orr	r7, r7, #64
 7372              	.LVL862:
 7373              	.L561:
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 7374              		.loc 1 3425 4 is_stmt 1 view .LVU2474
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 7375              		.loc 1 3425 21 is_stmt 0 view .LVU2475
 7376 0142 029B     		ldr	r3, [sp, #8]
 7377 0144 5B6B     		ldr	r3, [r3, #52]
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 7378              		.loc 1 3425 17 view .LVU2476
 7379 0146 7362     		str	r3, [r6, #36]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7380              		.loc 1 3426 4 is_stmt 1 view .LVU2477
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7381              		.loc 1 3426 20 is_stmt 0 view .LVU2478
 7382 0148 0B9B     		ldr	r3, [sp, #44]
3426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 7383              		.loc 1 3426 16 view .LVU2479
 7384 014a B362     		str	r3, [r6, #40]
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 7385              		.loc 1 3428 4 is_stmt 1 view .LVU2480
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 7386              		.loc 1 3428 21 is_stmt 0 view .LVU2481
 7387 014c 37F00103 		bics	r3, r7, #1
 7388 0150 14BF     		ite	ne
 7389 0152 0121     		movne	r1, #1
 7390 0154 0021     		moveq	r1, #0
 7391 0156 03A8     		add	r0, sp, #12
 7392 0158 FFF7FEFF 		bl	inc_lock
 7393              	.LVL863:
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
 7394              		.loc 1 3428 19 view .LVU2482
 7395 015c 3061     		str	r0, [r6, #16]
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7396              		.loc 1 3429 4 is_stmt 1 view .LVU2483
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7397              		.loc 1 3429 7 is_stmt 0 view .LVU2484
 7398 015e 0028     		cmp	r0, #0
 7399 0160 69D0     		beq	.L574
 7400              	.LVL864:
 7401              	.L560:
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7402              		.loc 1 3444 3 is_stmt 1 view .LVU2485
3444:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 7403              		.loc 1 3444 6 is_stmt 0 view .LVU2486
 7404 0162 002C     		cmp	r4, #0
 7405 0164 7FF45EAF 		bne	.L553
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7406              		.loc 1 3456 5 is_stmt 1 view .LVU2487
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7407              		.loc 1 3456 22 is_stmt 0 view .LVU2488
 7408 0168 029D     		ldr	r5, [sp, #8]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7409              		.loc 1 3456 37 view .LVU2489
 7410 016a DDF82C80 		ldr	r8, [sp, #44]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
ARM GAS  /tmp/cc9mPikx.s 			page 271


 7411              		.loc 1 3456 22 view .LVU2490
 7412 016e 4146     		mov	r1, r8
 7413 0170 2846     		mov	r0, r5
 7414 0172 FFF7FEFF 		bl	ld_clust
 7415              	.LVL865:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7416              		.loc 1 3456 20 view .LVU2491
 7417 0176 B060     		str	r0, [r6, #8]
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7418              		.loc 1 3457 5 is_stmt 1 view .LVU2492
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7419              		.loc 1 3457 23 is_stmt 0 view .LVU2493
 7420 0178 08F11C00 		add	r0, r8, #28
 7421 017c FFF7FEFF 		bl	ld_dword
 7422              	.LVL866:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7423              		.loc 1 3457 21 view .LVU2494
 7424 0180 F060     		str	r0, [r6, #12]
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7425              		.loc 1 3460 4 is_stmt 1 view .LVU2495
3460:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7426              		.loc 1 3460 14 is_stmt 0 view .LVU2496
 7427 0182 0021     		movs	r1, #0
 7428 0184 F162     		str	r1, [r6, #44]
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7429              		.loc 1 3462 4 is_stmt 1 view .LVU2497
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7430              		.loc 1 3462 15 is_stmt 0 view .LVU2498
 7431 0186 3560     		str	r5, [r6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7432              		.loc 1 3463 4 is_stmt 1 view .LVU2499
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7433              		.loc 1 3463 19 is_stmt 0 view .LVU2500
 7434 0188 EB88     		ldrh	r3, [r5, #6]
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7435              		.loc 1 3463 15 view .LVU2501
 7436 018a B380     		strh	r3, [r6, #4]	@ movhi
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7437              		.loc 1 3464 4 is_stmt 1 view .LVU2502
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7438              		.loc 1 3464 13 is_stmt 0 view .LVU2503
 7439 018c 3775     		strb	r7, [r6, #20]
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7440              		.loc 1 3465 4 is_stmt 1 view .LVU2504
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7441              		.loc 1 3465 12 is_stmt 0 view .LVU2505
 7442 018e 7175     		strb	r1, [r6, #21]
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 7443              		.loc 1 3466 4 is_stmt 1 view .LVU2506
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 7444              		.loc 1 3466 13 is_stmt 0 view .LVU2507
 7445 0190 3162     		str	r1, [r6, #32]
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7446              		.loc 1 3467 4 is_stmt 1 view .LVU2508
3467:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7447              		.loc 1 3467 13 is_stmt 0 view .LVU2509
 7448 0192 B161     		str	r1, [r6, #24]
ARM GAS  /tmp/cc9mPikx.s 			page 272


3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7449              		.loc 1 3470 4 is_stmt 1 view .LVU2510
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7450              		.loc 1 3470 14 is_stmt 0 view .LVU2511
 7451 0194 06F13008 		add	r8, r6, #48
3470:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7452              		.loc 1 3470 4 view .LVU2512
 7453 0198 4FF48052 		mov	r2, #4096
 7454 019c 4046     		mov	r0, r8
 7455 019e FFF7FEFF 		bl	mem_set
 7456              	.LVL867:
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7457              		.loc 1 3472 4 is_stmt 1 view .LVU2513
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7458              		.loc 1 3472 7 is_stmt 0 view .LVU2514
 7459 01a2 17F0200F 		tst	r7, #32
 7460 01a6 3FF43DAF 		beq	.L553
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7461              		.loc 1 3472 38 discriminator 1 view .LVU2515
 7462 01aa F568     		ldr	r5, [r6, #12]
3472:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7463              		.loc 1 3472 28 discriminator 1 view .LVU2516
 7464 01ac 002D     		cmp	r5, #0
 7465 01ae 3FF439AF 		beq	.L553
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7466              		.loc 1 3473 5 is_stmt 1 view .LVU2517
3473:Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7467              		.loc 1 3473 14 is_stmt 0 view .LVU2518
 7468 01b2 B561     		str	r5, [r6, #24]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7469              		.loc 1 3474 5 is_stmt 1 view .LVU2519
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7470              		.loc 1 3474 20 is_stmt 0 view .LVU2520
 7471 01b4 029B     		ldr	r3, [sp, #8]
 7472 01b6 5A89     		ldrh	r2, [r3, #10]
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7473              		.loc 1 3474 30 view .LVU2521
 7474 01b8 9F89     		ldrh	r7, [r3, #12]
 7475              	.LVL868:
3474:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7476              		.loc 1 3474 9 view .LVU2522
 7477 01ba 07FB02F7 		mul	r7, r7, r2
 7478              	.LVL869:
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7479              		.loc 1 3475 5 is_stmt 1 view .LVU2523
3475:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7480              		.loc 1 3475 10 is_stmt 0 view .LVU2524
 7481 01be B168     		ldr	r1, [r6, #8]
 7482              	.LVL870:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7483              		.loc 1 3476 5 is_stmt 1 view .LVU2525
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7484              		.loc 1 3476 5 is_stmt 0 view .LVU2526
 7485 01c0 05E0     		b	.L562
 7486              	.LVL871:
 7487              	.L572:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
ARM GAS  /tmp/cc9mPikx.s 			page 273


 7488              		.loc 1 3414 10 view .LVU2527
 7489 01c2 0424     		movs	r4, #4
 7490              	.LVL872:
3414:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 7491              		.loc 1 3414 10 view .LVU2528
 7492 01c4 CDE7     		b	.L560
 7493              	.LVL873:
 7494              	.L563:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7495              		.loc 1 3479 6 is_stmt 1 view .LVU2529
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7496              		.loc 1 3479 9 is_stmt 0 view .LVU2530
 7497 01c6 B1F1FF3F 		cmp	r1, #-1
 7498 01ca 10D0     		beq	.L583
 7499              	.LVL874:
 7500              	.L564:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7501              		.loc 1 3476 60 is_stmt 1 discriminator 2 view .LVU2531
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7502              		.loc 1 3476 64 is_stmt 0 discriminator 2 view .LVU2532
 7503 01cc ED1B     		subs	r5, r5, r7
 7504              	.LVL875:
 7505              	.L562:
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7506              		.loc 1 3476 33 is_stmt 1 discriminator 1 view .LVU2533
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7507              		.loc 1 3476 53 is_stmt 0 discriminator 1 view .LVU2534
 7508 01ce BD42     		cmp	r5, r7
 7509 01d0 94BF     		ite	ls
 7510 01d2 0023     		movls	r3, #0
 7511 01d4 0123     		movhi	r3, #1
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7512              		.loc 1 3476 46 discriminator 1 view .LVU2535
 7513 01d6 002C     		cmp	r4, #0
 7514 01d8 18BF     		it	ne
 7515 01da 0023     		movne	r3, #0
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7516              		.loc 1 3476 5 discriminator 1 view .LVU2536
 7517 01dc 4BB1     		cbz	r3, .L584
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7518              		.loc 1 3477 6 is_stmt 1 view .LVU2537
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7519              		.loc 1 3477 13 is_stmt 0 view .LVU2538
 7520 01de 3046     		mov	r0, r6
 7521 01e0 FFF7FEFF 		bl	get_fat
 7522              	.LVL876:
3477:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7523              		.loc 1 3477 13 view .LVU2539
 7524 01e4 0146     		mov	r1, r0
 7525              	.LVL877:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7526              		.loc 1 3478 6 is_stmt 1 view .LVU2540
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7527              		.loc 1 3478 9 is_stmt 0 view .LVU2541
 7528 01e6 0128     		cmp	r0, #1
 7529 01e8 EDD8     		bhi	.L563
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
ARM GAS  /tmp/cc9mPikx.s 			page 274


 7530              		.loc 1 3478 25 view .LVU2542
 7531 01ea 0224     		movs	r4, #2
 7532              	.LVL878:
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7533              		.loc 1 3478 25 view .LVU2543
 7534 01ec EBE7     		b	.L563
 7535              	.LVL879:
 7536              	.L583:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7537              		.loc 1 3479 34 view .LVU2544
 7538 01ee 0124     		movs	r4, #1
 7539              	.LVL880:
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7540              		.loc 1 3479 34 view .LVU2545
 7541 01f0 ECE7     		b	.L564
 7542              	.LVL881:
 7543              	.L584:
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7544              		.loc 1 3481 5 is_stmt 1 view .LVU2546
3481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7545              		.loc 1 3481 15 is_stmt 0 view .LVU2547
 7546 01f2 F161     		str	r1, [r6, #28]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7547              		.loc 1 3482 5 is_stmt 1 view .LVU2548
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7548              		.loc 1 3482 8 is_stmt 0 view .LVU2549
 7549 01f4 002C     		cmp	r4, #0
 7550 01f6 7FF415AF 		bne	.L553
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7551              		.loc 1 3482 31 discriminator 1 view .LVU2550
 7552 01fa 029F     		ldr	r7, [sp, #8]
 7553              	.LVL882:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7554              		.loc 1 3482 31 discriminator 1 view .LVU2551
 7555 01fc B7F80C90 		ldrh	r9, [r7, #12]
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7556              		.loc 1 3482 29 discriminator 1 view .LVU2552
 7557 0200 B5FBF9F3 		udiv	r3, r5, r9
 7558 0204 09FB1353 		mls	r3, r9, r3, r5
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7559              		.loc 1 3482 22 discriminator 1 view .LVU2553
 7560 0208 002B     		cmp	r3, #0
 7561 020a 3FF40BAF 		beq	.L553
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7562              		.loc 1 3483 6 is_stmt 1 view .LVU2554
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7563              		.loc 1 3483 16 is_stmt 0 view .LVU2555
 7564 020e 3846     		mov	r0, r7
 7565 0210 FFF7FEFF 		bl	clust2sect
 7566              	.LVL883:
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7567              		.loc 1 3483 9 view .LVU2556
 7568 0214 08B9     		cbnz	r0, .L585
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7569              		.loc 1 3484 11 view .LVU2557
 7570 0216 0224     		movs	r4, #2
 7571              	.LVL884:
ARM GAS  /tmp/cc9mPikx.s 			page 275


3484:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 7572              		.loc 1 3484 11 view .LVU2558
 7573 0218 05E7     		b	.L566
 7574              	.LVL885:
 7575              	.L585:
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7576              		.loc 1 3486 7 is_stmt 1 view .LVU2559
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7577              		.loc 1 3486 23 is_stmt 0 view .LVU2560
 7578 021a B5FBF9F2 		udiv	r2, r5, r9
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7579              		.loc 1 3486 21 view .LVU2561
 7580 021e 0244     		add	r2, r2, r0
3486:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7581              		.loc 1 3486 16 view .LVU2562
 7582 0220 3262     		str	r2, [r6, #32]
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7583              		.loc 1 3488 7 is_stmt 1 view .LVU2563
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7584              		.loc 1 3488 11 is_stmt 0 view .LVU2564
 7585 0222 0123     		movs	r3, #1
 7586 0224 4146     		mov	r1, r8
 7587 0226 7878     		ldrb	r0, [r7, #1]	@ zero_extendqisi2
 7588              	.LVL886:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7589              		.loc 1 3488 11 view .LVU2565
 7590 0228 FFF7FEFF 		bl	disk_read
 7591              	.LVL887:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7592              		.loc 1 3488 10 view .LVU2566
 7593 022c 0028     		cmp	r0, #0
 7594 022e 3FF4F9AE 		beq	.L553
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7595              		.loc 1 3488 67 view .LVU2567
 7596 0232 0124     		movs	r4, #1
 7597              	.LVL888:
3488:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7598              		.loc 1 3488 67 view .LVU2568
 7599 0234 F7E6     		b	.L566
 7600              	.LVL889:
 7601              	.L574:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7602              		.loc 1 3429 29 view .LVU2569
 7603 0236 0224     		movs	r4, #2
 7604              	.LVL890:
3429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7605              		.loc 1 3429 29 view .LVU2570
 7606 0238 F4E6     		b	.L553
 7607              	.LVL891:
 7608              	.L567:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7609              		.loc 1 3324 18 view .LVU2571
 7610 023a 0924     		movs	r4, #9
 7611 023c F5E6     		b	.L552
 7612              		.cfi_endproc
 7613              	.LFE394:
 7615              		.section	.text.f_read,"ax",%progbits
ARM GAS  /tmp/cc9mPikx.s 			page 276


 7616              		.align	1
 7617              		.global	f_read
 7618              		.syntax unified
 7619              		.thumb
 7620              		.thumb_func
 7621              		.fpu fpv5-d16
 7623              	f_read:
 7624              	.LVL892:
 7625              	.LFB395:
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7626              		.loc 1 3517 1 is_stmt 1 view -0
 7627              		.cfi_startproc
 7628              		@ args = 0, pretend = 0, frame = 16
 7629              		@ frame_needed = 0, uses_anonymous_args = 0
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7630              		.loc 1 3517 1 is_stmt 0 view .LVU2573
 7631 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7632              	.LCFI64:
 7633              		.cfi_def_cfa_offset 36
 7634              		.cfi_offset 4, -36
 7635              		.cfi_offset 5, -32
 7636              		.cfi_offset 6, -28
 7637              		.cfi_offset 7, -24
 7638              		.cfi_offset 8, -20
 7639              		.cfi_offset 9, -16
 7640              		.cfi_offset 10, -12
 7641              		.cfi_offset 11, -8
 7642              		.cfi_offset 14, -4
 7643 0004 85B0     		sub	sp, sp, #20
 7644              	.LCFI65:
 7645              		.cfi_def_cfa_offset 56
 7646 0006 0446     		mov	r4, r0
 7647 0008 0F46     		mov	r7, r1
 7648 000a 1546     		mov	r5, r2
 7649 000c 9846     		mov	r8, r3
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 7650              		.loc 1 3518 2 is_stmt 1 view .LVU2574
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 7651              		.loc 1 3519 2 view .LVU2575
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
 7652              		.loc 1 3520 2 view .LVU2576
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
 7653              		.loc 1 3521 2 view .LVU2577
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 7654              		.loc 1 3522 2 view .LVU2578
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7655              		.loc 1 3523 2 view .LVU2579
 7656              	.LVL893:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7657              		.loc 1 3526 2 view .LVU2580
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7658              		.loc 1 3526 6 is_stmt 0 view .LVU2581
 7659 000e 0023     		movs	r3, #0
 7660              	.LVL894:
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7661              		.loc 1 3526 6 view .LVU2582
 7662 0010 C8F80030 		str	r3, [r8]
ARM GAS  /tmp/cc9mPikx.s 			page 277


3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7663              		.loc 1 3527 2 is_stmt 1 view .LVU2583
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7664              		.loc 1 3527 8 is_stmt 0 view .LVU2584
 7665 0014 0190     		str	r0, [sp, #4]
 7666 0016 03A9     		add	r1, sp, #12
 7667              	.LVL895:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7668              		.loc 1 3527 8 view .LVU2585
 7669 0018 FFF7FEFF 		bl	validate
 7670              	.LVL896:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7671              		.loc 1 3528 2 is_stmt 1 view .LVU2586
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7672              		.loc 1 3528 5 is_stmt 0 view .LVU2587
 7673 001c 0090     		str	r0, [sp]
 7674 001e 0028     		cmp	r0, #0
 7675 0020 40F0B980 		bne	.L589
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7676              		.loc 1 3528 27 discriminator 2 view .LVU2588
 7677 0024 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 7678 0026 0093     		str	r3, [sp]
 7679              	.LVL897:
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7680              		.loc 1 3528 19 discriminator 2 view .LVU2589
 7681 0028 002B     		cmp	r3, #0
 7682 002a 40F0B480 		bne	.L589
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7683              		.loc 1 3529 2 is_stmt 1 view .LVU2590
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7684              		.loc 1 3529 10 is_stmt 0 view .LVU2591
 7685 002e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 7686              	.LVL898:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7687              		.loc 1 3529 5 view .LVU2592
 7688 0030 13F0010F 		tst	r3, #1
 7689 0034 00F0CE80 		beq	.L611
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7690              		.loc 1 3530 2 is_stmt 1 view .LVU2593
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7691              		.loc 1 3530 18 is_stmt 0 view .LVU2594
 7692 0038 E668     		ldr	r6, [r4, #12]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7693              		.loc 1 3530 31 view .LVU2595
 7694 003a A369     		ldr	r3, [r4, #24]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7695              		.loc 1 3530 9 view .LVU2596
 7696 003c F61A     		subs	r6, r6, r3
 7697              	.LVL899:
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7698              		.loc 1 3531 2 is_stmt 1 view .LVU2597
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7699              		.loc 1 3531 5 is_stmt 0 view .LVU2598
 7700 003e AE42     		cmp	r6, r5
 7701 0040 67D3     		bcc	.L609
 7702 0042 2E46     		mov	r6, r5
 7703              	.LVL900:
ARM GAS  /tmp/cc9mPikx.s 			page 278


3531:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7704              		.loc 1 3531 5 view .LVU2599
 7705 0044 65E0     		b	.L609
 7706              	.LVL901:
 7707              	.L594:
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7708              		.loc 1 3542 6 is_stmt 1 view .LVU2600
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7709              		.loc 1 3542 12 is_stmt 0 view .LVU2601
 7710 0046 E36A     		ldr	r3, [r4, #44]
3542:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7711              		.loc 1 3542 9 view .LVU2602
 7712 0048 1BB1     		cbz	r3, .L596
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7713              		.loc 1 3543 7 is_stmt 1 view .LVU2603
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7714              		.loc 1 3543 14 is_stmt 0 view .LVU2604
 7715 004a 2046     		mov	r0, r4
 7716 004c FFF7FEFF 		bl	clmt_clust
 7717              	.LVL902:
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 7718              		.loc 1 3543 14 view .LVU2605
 7719 0050 73E0     		b	.L595
 7720              	.LVL903:
 7721              	.L596:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7722              		.loc 1 3547 7 is_stmt 1 view .LVU2606
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7723              		.loc 1 3547 14 is_stmt 0 view .LVU2607
 7724 0052 E169     		ldr	r1, [r4, #28]
 7725 0054 0198     		ldr	r0, [sp, #4]
 7726 0056 FFF7FEFF 		bl	get_fat
 7727              	.LVL904:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7728              		.loc 1 3547 14 view .LVU2608
 7729 005a 6EE0     		b	.L595
 7730              	.L618:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7731              		.loc 1 3550 19 is_stmt 1 discriminator 1 view .LVU2609
 7732 005c 4FF0020A 		mov	r10, #2
 7733 0060 84F815A0 		strb	r10, [r4, #21]
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7734              		.loc 1 3550 19 discriminator 1 view .LVU2610
 7735 0064 CDF800A0 		str	r10, [sp]
 7736              	.LVL905:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7737              		.loc 1 3550 19 is_stmt 0 discriminator 1 view .LVU2611
 7738 0068 95E0     		b	.L589
 7739              	.LVL906:
 7740              	.L619:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7741              		.loc 1 3551 29 is_stmt 1 discriminator 1 view .LVU2612
 7742 006a 4FF0010A 		mov	r10, #1
 7743 006e 84F815A0 		strb	r10, [r4, #21]
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7744              		.loc 1 3551 29 discriminator 1 view .LVU2613
 7745 0072 CDF800A0 		str	r10, [sp]
ARM GAS  /tmp/cc9mPikx.s 			page 279


 7746              	.LVL907:
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7747              		.loc 1 3551 29 is_stmt 0 discriminator 1 view .LVU2614
 7748 0076 8EE0     		b	.L589
 7749              	.LVL908:
 7750              	.L620:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7751              		.loc 1 3555 15 is_stmt 1 discriminator 1 view .LVU2615
 7752 0078 4FF0020A 		mov	r10, #2
 7753 007c 84F815A0 		strb	r10, [r4, #21]
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7754              		.loc 1 3555 15 discriminator 1 view .LVU2616
 7755 0080 CDF800A0 		str	r10, [sp]
 7756              	.LVL909:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7757              		.loc 1 3555 15 is_stmt 0 discriminator 1 view .LVU2617
 7758 0084 87E0     		b	.L589
 7759              	.LVL910:
 7760              	.L602:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7761              		.loc 1 3562 78 is_stmt 1 discriminator 2 view .LVU2618
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7762              		.loc 1 3569 5 discriminator 2 view .LVU2619
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7763              		.loc 1 3569 9 is_stmt 0 discriminator 2 view .LVU2620
 7764 0086 94F91430 		ldrsb	r3, [r4, #20]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7765              		.loc 1 3569 8 discriminator 2 view .LVU2621
 7766 008a 002B     		cmp	r3, #0
 7767 008c 04DB     		blt	.L615
 7768              	.L603:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7769              		.loc 1 3574 5 is_stmt 1 view .LVU2622
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7770              		.loc 1 3574 12 is_stmt 0 view .LVU2623
 7771 008e 039B     		ldr	r3, [sp, #12]
 7772 0090 9D89     		ldrh	r5, [r3, #12]
 7773              	.LVL911:
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7774              		.loc 1 3574 10 view .LVU2624
 7775 0092 0AFB05F5 		mul	r5, r10, r5
 7776              	.LVL912:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7777              		.loc 1 3575 5 is_stmt 1 view .LVU2625
 7778 0096 32E0     		b	.L604
 7779              	.LVL913:
 7780              	.L615:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7781              		.loc 1 3569 36 is_stmt 0 discriminator 1 view .LVU2626
 7782 0098 206A     		ldr	r0, [r4, #32]
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7783              		.loc 1 3569 43 discriminator 1 view .LVU2627
 7784 009a A0EB0900 		sub	r0, r0, r9
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7785              		.loc 1 3569 31 discriminator 1 view .LVU2628
 7786 009e 5045     		cmp	r0, r10
 7787 00a0 F5D2     		bcs	.L603
ARM GAS  /tmp/cc9mPikx.s 			page 280


3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7788              		.loc 1 3570 6 is_stmt 1 view .LVU2629
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7789              		.loc 1 3570 43 is_stmt 0 view .LVU2630
 7790 00a2 039B     		ldr	r3, [sp, #12]
 7791 00a4 9A89     		ldrh	r2, [r3, #12]
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7792              		.loc 1 3570 6 view .LVU2631
 7793 00a6 04F13001 		add	r1, r4, #48
 7794 00aa 02FB0070 		mla	r0, r2, r0, r7
 7795 00ae FFF7FEFF 		bl	mem_cpy
 7796              	.LVL914:
 7797 00b2 ECE7     		b	.L603
 7798              	.L600:
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7799              		.loc 1 3578 4 is_stmt 1 view .LVU2632
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7800              		.loc 1 3578 10 is_stmt 0 view .LVU2633
 7801 00b4 226A     		ldr	r2, [r4, #32]
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7802              		.loc 1 3578 7 view .LVU2634
 7803 00b6 4A45     		cmp	r2, r9
 7804 00b8 0DD0     		beq	.L605
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7805              		.loc 1 3580 5 is_stmt 1 view .LVU2635
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7806              		.loc 1 3580 9 is_stmt 0 view .LVU2636
 7807 00ba 94F91430 		ldrsb	r3, [r4, #20]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7808              		.loc 1 3580 8 view .LVU2637
 7809 00be 002B     		cmp	r3, #0
 7810 00c0 6DDB     		blt	.L616
 7811              	.L606:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7812              		.loc 1 3585 5 is_stmt 1 view .LVU2638
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7813              		.loc 1 3585 9 is_stmt 0 view .LVU2639
 7814 00c2 0123     		movs	r3, #1
 7815 00c4 4A46     		mov	r2, r9
 7816 00c6 04F13001 		add	r1, r4, #48
 7817 00ca 0398     		ldr	r0, [sp, #12]
 7818 00cc 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7819 00ce FFF7FEFF 		bl	disk_read
 7820              	.LVL915:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7821              		.loc 1 3585 8 view .LVU2640
 7822 00d2 0028     		cmp	r0, #0
 7823 00d4 77D1     		bne	.L617
 7824              	.L605:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7825              		.loc 1 3585 79 is_stmt 1 discriminator 2 view .LVU2641
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7826              		.loc 1 3588 4 discriminator 2 view .LVU2642
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7827              		.loc 1 3588 13 is_stmt 0 discriminator 2 view .LVU2643
 7828 00d6 C4F82090 		str	r9, [r4, #32]
 7829              	.LVL916:
ARM GAS  /tmp/cc9mPikx.s 			page 281


 7830              	.L592:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7831              		.loc 1 3590 3 is_stmt 1 view .LVU2644
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7832              		.loc 1 3590 10 is_stmt 0 view .LVU2645
 7833 00da 039B     		ldr	r3, [sp, #12]
 7834 00dc 9D89     		ldrh	r5, [r3, #12]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7835              		.loc 1 3590 27 view .LVU2646
 7836 00de A169     		ldr	r1, [r4, #24]
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7837              		.loc 1 3590 34 view .LVU2647
 7838 00e0 B1FBF5F3 		udiv	r3, r1, r5
 7839 00e4 05FB1313 		mls	r3, r5, r3, r1
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7840              		.loc 1 3590 8 view .LVU2648
 7841 00e8 ED1A     		subs	r5, r5, r3
 7842              	.LVL917:
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7843              		.loc 1 3591 3 is_stmt 1 view .LVU2649
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7844              		.loc 1 3591 6 is_stmt 0 view .LVU2650
 7845 00ea AE42     		cmp	r6, r5
 7846 00ec 00D2     		bcs	.L608
3591:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 7847              		.loc 1 3591 24 view .LVU2651
 7848 00ee 3546     		mov	r5, r6
 7849              	.LVL918:
 7850              	.L608:
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7851              		.loc 1 3596 3 is_stmt 1 view .LVU2652
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7852              		.loc 1 3596 18 is_stmt 0 view .LVU2653
 7853 00f0 04F13001 		add	r1, r4, #48
3596:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7854              		.loc 1 3596 3 view .LVU2654
 7855 00f4 2A46     		mov	r2, r5
 7856 00f6 1944     		add	r1, r1, r3
 7857 00f8 3846     		mov	r0, r7
 7858 00fa FFF7FEFF 		bl	mem_cpy
 7859              	.LVL919:
 7860              	.L604:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7861              		.loc 1 3534 3 is_stmt 1 view .LVU2655
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7862              		.loc 1 3534 9 is_stmt 0 view .LVU2656
 7863 00fe 2F44     		add	r7, r7, r5
 7864              	.LVL920:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7865              		.loc 1 3534 27 view .LVU2657
 7866 0100 A369     		ldr	r3, [r4, #24]
 7867 0102 2B44     		add	r3, r3, r5
 7868 0104 A361     		str	r3, [r4, #24]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7869              		.loc 1 3534 40 view .LVU2658
 7870 0106 D8F80030 		ldr	r3, [r8]
 7871 010a 2B44     		add	r3, r3, r5
ARM GAS  /tmp/cc9mPikx.s 			page 282


 7872 010c C8F80030 		str	r3, [r8]
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7873              		.loc 1 3534 53 view .LVU2659
 7874 0110 761B     		subs	r6, r6, r5
 7875              	.LVL921:
 7876              	.L609:
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 7877              		.loc 1 3533 11 is_stmt 1 view .LVU2660
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 7878              		.loc 1 3533 2 is_stmt 0 view .LVU2661
 7879 0112 002E     		cmp	r6, #0
 7880 0114 3FD0     		beq	.L589
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7881              		.loc 1 3535 3 is_stmt 1 view .LVU2662
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7882              		.loc 1 3535 9 is_stmt 0 view .LVU2663
 7883 0116 A169     		ldr	r1, [r4, #24]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7884              		.loc 1 3535 18 view .LVU2664
 7885 0118 039A     		ldr	r2, [sp, #12]
 7886 011a 9589     		ldrh	r5, [r2, #12]
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7887              		.loc 1 3535 16 view .LVU2665
 7888 011c B1FBF5F3 		udiv	r3, r1, r5
 7889 0120 05FB1313 		mls	r3, r5, r3, r1
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7890              		.loc 1 3535 6 view .LVU2666
 7891 0124 002B     		cmp	r3, #0
 7892 0126 D8D1     		bne	.L592
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7893              		.loc 1 3536 4 is_stmt 1 view .LVU2667
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7894              		.loc 1 3536 28 is_stmt 0 view .LVU2668
 7895 0128 B1FBF5F5 		udiv	r5, r1, r5
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7896              		.loc 1 3536 42 view .LVU2669
 7897 012c 5389     		ldrh	r3, [r2, #10]
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7898              		.loc 1 3536 50 view .LVU2670
 7899 012e 013B     		subs	r3, r3, #1
 7900              	.LVL922:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7901              		.loc 1 3537 4 is_stmt 1 view .LVU2671
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7902              		.loc 1 3537 7 is_stmt 0 view .LVU2672
 7903 0130 1D40     		ands	r5, r5, r3
 7904              	.LVL923:
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7905              		.loc 1 3537 7 view .LVU2673
 7906 0132 08D1     		bne	.L593
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7907              		.loc 1 3538 5 is_stmt 1 view .LVU2674
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7908              		.loc 1 3538 8 is_stmt 0 view .LVU2675
 7909 0134 0029     		cmp	r1, #0
 7910 0136 86D1     		bne	.L594
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
ARM GAS  /tmp/cc9mPikx.s 			page 283


 7911              		.loc 1 3539 6 is_stmt 1 view .LVU2676
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 7912              		.loc 1 3539 11 is_stmt 0 view .LVU2677
 7913 0138 A068     		ldr	r0, [r4, #8]
 7914              	.LVL924:
 7915              	.L595:
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7916              		.loc 1 3550 5 is_stmt 1 view .LVU2678
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7917              		.loc 1 3550 8 is_stmt 0 view .LVU2679
 7918 013a 0128     		cmp	r0, #1
 7919 013c 8ED9     		bls	.L618
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7920              		.loc 1 3550 40 is_stmt 1 discriminator 2 view .LVU2680
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7921              		.loc 1 3551 5 discriminator 2 view .LVU2681
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7922              		.loc 1 3551 8 is_stmt 0 discriminator 2 view .LVU2682
 7923 013e B0F1FF3F 		cmp	r0, #-1
 7924 0142 92D0     		beq	.L619
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7925              		.loc 1 3551 51 is_stmt 1 discriminator 2 view .LVU2683
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7926              		.loc 1 3552 5 discriminator 2 view .LVU2684
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7927              		.loc 1 3552 15 is_stmt 0 discriminator 2 view .LVU2685
 7928 0144 E061     		str	r0, [r4, #28]
 7929              	.LVL925:
 7930              	.L593:
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7931              		.loc 1 3554 4 is_stmt 1 view .LVU2686
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7932              		.loc 1 3554 11 is_stmt 0 view .LVU2687
 7933 0146 DDF80CB0 		ldr	fp, [sp, #12]
 7934 014a E169     		ldr	r1, [r4, #28]
 7935 014c 5846     		mov	r0, fp
 7936 014e FFF7FEFF 		bl	clust2sect
 7937              	.LVL926:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7938              		.loc 1 3555 4 is_stmt 1 view .LVU2688
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7939              		.loc 1 3555 7 is_stmt 0 view .LVU2689
 7940 0152 8146     		mov	r9, r0
 7941 0154 0028     		cmp	r0, #0
 7942 0156 8FD0     		beq	.L620
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7943              		.loc 1 3555 36 is_stmt 1 discriminator 2 view .LVU2690
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7944              		.loc 1 3556 4 discriminator 2 view .LVU2691
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7945              		.loc 1 3556 9 is_stmt 0 discriminator 2 view .LVU2692
 7946 0158 A944     		add	r9, r9, r5
 7947              	.LVL927:
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7948              		.loc 1 3557 4 is_stmt 1 discriminator 2 view .LVU2693
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7949              		.loc 1 3557 15 is_stmt 0 discriminator 2 view .LVU2694
ARM GAS  /tmp/cc9mPikx.s 			page 284


 7950 015a BBF80C30 		ldrh	r3, [fp, #12]
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7951              		.loc 1 3557 7 discriminator 2 view .LVU2695
 7952 015e B6FBF3FA 		udiv	r10, r6, r3
 7953              	.LVL928:
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7954              		.loc 1 3558 4 is_stmt 1 discriminator 2 view .LVU2696
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7955              		.loc 1 3558 7 is_stmt 0 discriminator 2 view .LVU2697
 7956 0162 B342     		cmp	r3, r6
 7957 0164 A6D8     		bhi	.L600
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7958              		.loc 1 3559 5 is_stmt 1 view .LVU2698
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7959              		.loc 1 3559 15 is_stmt 0 view .LVU2699
 7960 0166 05EB0A03 		add	r3, r5, r10
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7961              		.loc 1 3559 24 view .LVU2700
 7962 016a BBF80A20 		ldrh	r2, [fp, #10]
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7963              		.loc 1 3559 8 view .LVU2701
 7964 016e 9342     		cmp	r3, r2
 7965 0170 01D9     		bls	.L601
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7966              		.loc 1 3560 6 is_stmt 1 view .LVU2702
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7967              		.loc 1 3560 9 is_stmt 0 view .LVU2703
 7968 0172 A2EB050A 		sub	r10, r2, r5
 7969              	.LVL929:
 7970              	.L601:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7971              		.loc 1 3562 5 is_stmt 1 view .LVU2704
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7972              		.loc 1 3562 9 is_stmt 0 view .LVU2705
 7973 0176 5346     		mov	r3, r10
 7974 0178 4A46     		mov	r2, r9
 7975 017a 3946     		mov	r1, r7
 7976 017c 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 7977 0180 FFF7FEFF 		bl	disk_read
 7978              	.LVL930:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7979              		.loc 1 3562 8 view .LVU2706
 7980 0184 0028     		cmp	r0, #0
 7981 0186 3FF47EAF 		beq	.L602
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7982              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2707
 7983 018a 4FF0010A 		mov	r10, #1
 7984              	.LVL931:
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7985              		.loc 1 3562 56 is_stmt 0 discriminator 1 view .LVU2708
 7986 018e 84F815A0 		strb	r10, [r4, #21]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 7987              		.loc 1 3562 56 is_stmt 1 discriminator 1 view .LVU2709
 7988 0192 CDF800A0 		str	r10, [sp]
 7989              	.LVL932:
 7990              	.L589:
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 285


 7991              		.loc 1 3601 1 is_stmt 0 view .LVU2710
 7992 0196 0098     		ldr	r0, [sp]
 7993 0198 05B0     		add	sp, sp, #20
 7994              	.LCFI66:
 7995              		.cfi_remember_state
 7996              		.cfi_def_cfa_offset 36
 7997              		@ sp needed
 7998 019a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7999              	.LVL933:
 8000              	.L616:
 8001              	.LCFI67:
 8002              		.cfi_restore_state
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8003              		.loc 1 3581 6 is_stmt 1 view .LVU2711
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8004              		.loc 1 3581 10 is_stmt 0 view .LVU2712
 8005 019e 0123     		movs	r3, #1
 8006 01a0 04F13001 		add	r1, r4, #48
 8007 01a4 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 8008 01a8 FFF7FEFF 		bl	disk_write
 8009              	.LVL934:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8010              		.loc 1 3581 9 view .LVU2713
 8011 01ac 20B9     		cbnz	r0, .L621
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8012              		.loc 1 3581 85 is_stmt 1 discriminator 2 view .LVU2714
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8013              		.loc 1 3582 6 discriminator 2 view .LVU2715
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8014              		.loc 1 3582 15 is_stmt 0 discriminator 2 view .LVU2716
 8015 01ae 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8016 01b0 03F07F03 		and	r3, r3, #127
 8017 01b4 2375     		strb	r3, [r4, #20]
 8018 01b6 84E7     		b	.L606
 8019              	.L621:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8020              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2717
 8021 01b8 4FF0010A 		mov	r10, #1
 8022              	.LVL935:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8023              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2718
 8024 01bc 84F815A0 		strb	r10, [r4, #21]
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8025              		.loc 1 3581 63 is_stmt 1 discriminator 1 view .LVU2719
 8026 01c0 CDF800A0 		str	r10, [sp]
 8027              	.LVL936:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8028              		.loc 1 3581 63 is_stmt 0 discriminator 1 view .LVU2720
 8029 01c4 E7E7     		b	.L589
 8030              	.LVL937:
 8031              	.L617:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8032              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2721
 8033 01c6 4FF0010A 		mov	r10, #1
 8034              	.LVL938:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8035              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2722
ARM GAS  /tmp/cc9mPikx.s 			page 286


 8036 01ca 84F815A0 		strb	r10, [r4, #21]
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8037              		.loc 1 3585 57 is_stmt 1 discriminator 1 view .LVU2723
 8038 01ce CDF800A0 		str	r10, [sp]
 8039              	.LVL939:
3585:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8040              		.loc 1 3585 57 is_stmt 0 discriminator 1 view .LVU2724
 8041 01d2 E0E7     		b	.L589
 8042              	.LVL940:
 8043              	.L611:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 8044              		.loc 1 3529 29 view .LVU2725
 8045 01d4 0723     		movs	r3, #7
 8046 01d6 0093     		str	r3, [sp]
 8047              	.LVL941:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 8048              		.loc 1 3529 29 view .LVU2726
 8049 01d8 DDE7     		b	.L589
 8050              		.cfi_endproc
 8051              	.LFE395:
 8053              		.section	.text.f_write,"ax",%progbits
 8054              		.align	1
 8055              		.global	f_write
 8056              		.syntax unified
 8057              		.thumb
 8058              		.thumb_func
 8059              		.fpu fpv5-d16
 8061              	f_write:
 8062              	.LVL942:
 8063              	.LFB396:
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8064              		.loc 1 3617 1 is_stmt 1 view -0
 8065              		.cfi_startproc
 8066              		@ args = 0, pretend = 0, frame = 16
 8067              		@ frame_needed = 0, uses_anonymous_args = 0
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8068              		.loc 1 3617 1 is_stmt 0 view .LVU2728
 8069 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8070              	.LCFI68:
 8071              		.cfi_def_cfa_offset 36
 8072              		.cfi_offset 4, -36
 8073              		.cfi_offset 5, -32
 8074              		.cfi_offset 6, -28
 8075              		.cfi_offset 7, -24
 8076              		.cfi_offset 8, -20
 8077              		.cfi_offset 9, -16
 8078              		.cfi_offset 10, -12
 8079              		.cfi_offset 11, -8
 8080              		.cfi_offset 14, -4
 8081 0004 85B0     		sub	sp, sp, #20
 8082              	.LCFI69:
 8083              		.cfi_def_cfa_offset 56
 8084 0006 0446     		mov	r4, r0
 8085 0008 0F46     		mov	r7, r1
 8086 000a 1546     		mov	r5, r2
 8087 000c 9846     		mov	r8, r3
3618:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
ARM GAS  /tmp/cc9mPikx.s 			page 287


 8088              		.loc 1 3618 2 is_stmt 1 view .LVU2729
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 8089              		.loc 1 3619 2 view .LVU2730
3620:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
 8090              		.loc 1 3620 2 view .LVU2731
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 8091              		.loc 1 3621 2 view .LVU2732
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8092              		.loc 1 3622 2 view .LVU2733
 8093              	.LVL943:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 8094              		.loc 1 3625 2 view .LVU2734
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 8095              		.loc 1 3625 6 is_stmt 0 view .LVU2735
 8096 000e 0023     		movs	r3, #0
 8097              	.LVL944:
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 8098              		.loc 1 3625 6 view .LVU2736
 8099 0010 C8F80030 		str	r3, [r8]
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 8100              		.loc 1 3626 2 is_stmt 1 view .LVU2737
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 8101              		.loc 1 3626 8 is_stmt 0 view .LVU2738
 8102 0014 0190     		str	r0, [sp, #4]
 8103 0016 03A9     		add	r1, sp, #12
 8104              	.LVL945:
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 8105              		.loc 1 3626 8 view .LVU2739
 8106 0018 FFF7FEFF 		bl	validate
 8107              	.LVL946:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8108              		.loc 1 3627 2 is_stmt 1 view .LVU2740
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8109              		.loc 1 3627 5 is_stmt 0 view .LVU2741
 8110 001c 0090     		str	r0, [sp]
 8111 001e 0028     		cmp	r0, #0
 8112 0020 4BD1     		bne	.L625
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8113              		.loc 1 3627 27 discriminator 2 view .LVU2742
 8114 0022 637D     		ldrb	r3, [r4, #21]	@ zero_extendqisi2
 8115 0024 0093     		str	r3, [sp]
 8116              	.LVL947:
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 8117              		.loc 1 3627 19 discriminator 2 view .LVU2743
 8118 0026 002B     		cmp	r3, #0
 8119 0028 47D1     		bne	.L625
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8120              		.loc 1 3628 2 is_stmt 1 view .LVU2744
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8121              		.loc 1 3628 10 is_stmt 0 view .LVU2745
 8122 002a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8123              	.LVL948:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8124              		.loc 1 3628 5 view .LVU2746
 8125 002c 13F0020F 		tst	r3, #2
 8126 0030 00F0ED80 		beq	.L647
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
ARM GAS  /tmp/cc9mPikx.s 			page 288


 8127              		.loc 1 3631 2 is_stmt 1 view .LVU2747
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 8128              		.loc 1 3631 59 is_stmt 0 view .LVU2748
 8129 0034 A369     		ldr	r3, [r4, #24]
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 8130              		.loc 1 3631 5 view .LVU2749
 8131 0036 EB42     		cmn	r3, r5
 8132 0038 C0F0B780 		bcc	.L645
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8133              		.loc 1 3632 3 is_stmt 1 view .LVU2750
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8134              		.loc 1 3632 7 is_stmt 0 view .LVU2751
 8135 003c DD43     		mvns	r5, r3
 8136              	.LVL949:
3632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8137              		.loc 1 3632 7 view .LVU2752
 8138 003e B4E0     		b	.L645
 8139              	.LVL950:
 8140              	.L629:
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8141              		.loc 1 3647 6 is_stmt 1 view .LVU2753
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8142              		.loc 1 3647 12 is_stmt 0 view .LVU2754
 8143 0040 E36A     		ldr	r3, [r4, #44]
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8144              		.loc 1 3647 9 view .LVU2755
 8145 0042 002B     		cmp	r3, #0
 8146 0044 3DD0     		beq	.L631
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 8147              		.loc 1 3648 7 is_stmt 1 view .LVU2756
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
 8148              		.loc 1 3648 14 is_stmt 0 view .LVU2757
 8149 0046 2046     		mov	r0, r4
 8150 0048 FFF7FEFF 		bl	clmt_clust
 8151              	.LVL951:
 8152              	.L630:
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 8153              		.loc 1 3655 5 is_stmt 1 view .LVU2758
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 8154              		.loc 1 3655 8 is_stmt 0 view .LVU2759
 8155 004c 0028     		cmp	r0, #0
 8156 004e 00F0D980 		beq	.L632
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8157              		.loc 1 3656 5 is_stmt 1 view .LVU2760
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8158              		.loc 1 3656 8 is_stmt 0 view .LVU2761
 8159 0052 0128     		cmp	r0, #1
 8160 0054 3AD0     		beq	.L650
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8161              		.loc 1 3656 41 is_stmt 1 discriminator 2 view .LVU2762
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8162              		.loc 1 3657 5 discriminator 2 view .LVU2763
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8163              		.loc 1 3657 8 is_stmt 0 discriminator 2 view .LVU2764
 8164 0056 B0F1FF3F 		cmp	r0, #-1
 8165 005a 3ED0     		beq	.L651
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
ARM GAS  /tmp/cc9mPikx.s 			page 289


 8166              		.loc 1 3657 51 is_stmt 1 discriminator 2 view .LVU2765
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 8167              		.loc 1 3658 5 discriminator 2 view .LVU2766
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 8168              		.loc 1 3658 15 is_stmt 0 discriminator 2 view .LVU2767
 8169 005c E061     		str	r0, [r4, #28]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8170              		.loc 1 3659 5 is_stmt 1 discriminator 2 view .LVU2768
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8171              		.loc 1 3659 16 is_stmt 0 discriminator 2 view .LVU2769
 8172 005e A368     		ldr	r3, [r4, #8]
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8173              		.loc 1 3659 8 discriminator 2 view .LVU2770
 8174 0060 03B9     		cbnz	r3, .L628
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8175              		.loc 1 3659 30 is_stmt 1 discriminator 1 view .LVU2771
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8176              		.loc 1 3659 45 is_stmt 0 discriminator 1 view .LVU2772
 8177 0062 A060     		str	r0, [r4, #8]
 8178              	.LVL952:
 8179              	.L628:
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8180              		.loc 1 3664 4 is_stmt 1 view .LVU2773
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8181              		.loc 1 3664 8 is_stmt 0 view .LVU2774
 8182 0064 94F91430 		ldrsb	r3, [r4, #20]
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8183              		.loc 1 3664 7 view .LVU2775
 8184 0068 002B     		cmp	r3, #0
 8185 006a 3DDB     		blt	.L652
 8186              	.L635:
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 8187              		.loc 1 3669 4 is_stmt 1 view .LVU2776
3669:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 8188              		.loc 1 3669 11 is_stmt 0 view .LVU2777
 8189 006c DDF80CB0 		ldr	fp, [sp, #12]
 8190 0070 E169     		ldr	r1, [r4, #28]
 8191 0072 5846     		mov	r0, fp
 8192 0074 FFF7FEFF 		bl	clust2sect
 8193              	.LVL953:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8194              		.loc 1 3670 4 is_stmt 1 view .LVU2778
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8195              		.loc 1 3670 7 is_stmt 0 view .LVU2779
 8196 0078 8146     		mov	r9, r0
 8197 007a 0028     		cmp	r0, #0
 8198 007c 49D0     		beq	.L653
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8199              		.loc 1 3670 36 is_stmt 1 discriminator 2 view .LVU2780
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 8200              		.loc 1 3671 4 discriminator 2 view .LVU2781
3671:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 8201              		.loc 1 3671 9 is_stmt 0 discriminator 2 view .LVU2782
 8202 007e B144     		add	r9, r9, r6
 8203              	.LVL954:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8204              		.loc 1 3672 4 is_stmt 1 discriminator 2 view .LVU2783
ARM GAS  /tmp/cc9mPikx.s 			page 290


3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8205              		.loc 1 3672 15 is_stmt 0 discriminator 2 view .LVU2784
 8206 0080 BBF80C30 		ldrh	r3, [fp, #12]
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8207              		.loc 1 3672 7 discriminator 2 view .LVU2785
 8208 0084 B5FBF3FA 		udiv	r10, r5, r3
 8209              	.LVL955:
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 8210              		.loc 1 3673 4 is_stmt 1 discriminator 2 view .LVU2786
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 8211              		.loc 1 3673 7 is_stmt 0 discriminator 2 view .LVU2787
 8212 0088 AB42     		cmp	r3, r5
 8213 008a 60D8     		bhi	.L638
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8214              		.loc 1 3674 5 is_stmt 1 view .LVU2788
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8215              		.loc 1 3674 15 is_stmt 0 view .LVU2789
 8216 008c 06EB0A03 		add	r3, r6, r10
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8217              		.loc 1 3674 24 view .LVU2790
 8218 0090 BBF80A20 		ldrh	r2, [fp, #10]
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8219              		.loc 1 3674 8 view .LVU2791
 8220 0094 9342     		cmp	r3, r2
 8221 0096 01D9     		bls	.L639
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8222              		.loc 1 3675 6 is_stmt 1 view .LVU2792
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8223              		.loc 1 3675 9 is_stmt 0 view .LVU2793
 8224 0098 A2EB060A 		sub	r10, r2, r6
 8225              	.LVL956:
 8226              	.L639:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8227              		.loc 1 3677 5 is_stmt 1 view .LVU2794
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8228              		.loc 1 3677 9 is_stmt 0 view .LVU2795
 8229 009c 5346     		mov	r3, r10
 8230 009e 4A46     		mov	r2, r9
 8231 00a0 3946     		mov	r1, r7
 8232 00a2 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 8233 00a6 FFF7FEFF 		bl	disk_write
 8234              	.LVL957:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8235              		.loc 1 3677 8 view .LVU2796
 8236 00aa 0028     		cmp	r0, #0
 8237 00ac 38D0     		beq	.L640
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8238              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2797
 8239 00ae 4FF0010A 		mov	r10, #1
 8240              	.LVL958:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8241              		.loc 1 3677 57 is_stmt 0 discriminator 1 view .LVU2798
 8242 00b2 84F815A0 		strb	r10, [r4, #21]
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8243              		.loc 1 3677 57 is_stmt 1 discriminator 1 view .LVU2799
 8244 00b6 CDF800A0 		str	r10, [sp]
 8245              	.LVL959:
ARM GAS  /tmp/cc9mPikx.s 			page 291


 8246              	.L625:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8247              		.loc 1 3723 1 is_stmt 0 view .LVU2800
 8248 00ba 0098     		ldr	r0, [sp]
 8249 00bc 05B0     		add	sp, sp, #20
 8250              	.LCFI70:
 8251              		.cfi_remember_state
 8252              		.cfi_def_cfa_offset 36
 8253              		@ sp needed
 8254 00be BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 8255              	.LVL960:
 8256              	.L631:
 8257              	.LCFI71:
 8258              		.cfi_restore_state
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8259              		.loc 1 3652 7 is_stmt 1 view .LVU2801
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8260              		.loc 1 3652 14 is_stmt 0 view .LVU2802
 8261 00c2 E169     		ldr	r1, [r4, #28]
 8262 00c4 0198     		ldr	r0, [sp, #4]
 8263 00c6 FFF7FEFF 		bl	create_chain
 8264              	.LVL961:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8265              		.loc 1 3652 14 view .LVU2803
 8266 00ca BFE7     		b	.L630
 8267              	.L650:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8268              		.loc 1 3656 20 is_stmt 1 discriminator 1 view .LVU2804
 8269 00cc 4FF0020A 		mov	r10, #2
 8270 00d0 84F815A0 		strb	r10, [r4, #21]
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8271              		.loc 1 3656 20 discriminator 1 view .LVU2805
 8272 00d4 CDF800A0 		str	r10, [sp]
 8273              	.LVL962:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8274              		.loc 1 3656 20 is_stmt 0 discriminator 1 view .LVU2806
 8275 00d8 EFE7     		b	.L625
 8276              	.LVL963:
 8277              	.L651:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8278              		.loc 1 3657 29 is_stmt 1 discriminator 1 view .LVU2807
 8279 00da 4FF0010A 		mov	r10, #1
 8280 00de 84F815A0 		strb	r10, [r4, #21]
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8281              		.loc 1 3657 29 discriminator 1 view .LVU2808
 8282 00e2 CDF800A0 		str	r10, [sp]
 8283              	.LVL964:
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8284              		.loc 1 3657 29 is_stmt 0 discriminator 1 view .LVU2809
 8285 00e6 E8E7     		b	.L625
 8286              	.LVL965:
 8287              	.L652:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8288              		.loc 1 3665 5 is_stmt 1 view .LVU2810
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8289              		.loc 1 3665 9 is_stmt 0 view .LVU2811
 8290 00e8 0123     		movs	r3, #1
ARM GAS  /tmp/cc9mPikx.s 			page 292


 8291 00ea 226A     		ldr	r2, [r4, #32]
 8292 00ec 04F13001 		add	r1, r4, #48
 8293 00f0 0398     		ldr	r0, [sp, #12]
 8294 00f2 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8295 00f4 FFF7FEFF 		bl	disk_write
 8296              	.LVL966:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8297              		.loc 1 3665 8 view .LVU2812
 8298 00f8 20B9     		cbnz	r0, .L654
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8299              		.loc 1 3665 84 is_stmt 1 discriminator 2 view .LVU2813
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8300              		.loc 1 3666 5 discriminator 2 view .LVU2814
3666:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8301              		.loc 1 3666 14 is_stmt 0 discriminator 2 view .LVU2815
 8302 00fa 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8303 00fc 03F07F03 		and	r3, r3, #127
 8304 0100 2375     		strb	r3, [r4, #20]
 8305 0102 B3E7     		b	.L635
 8306              	.L654:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8307              		.loc 1 3665 62 is_stmt 1 discriminator 1 view .LVU2816
 8308 0104 4FF0010A 		mov	r10, #1
 8309 0108 84F815A0 		strb	r10, [r4, #21]
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8310              		.loc 1 3665 62 discriminator 1 view .LVU2817
 8311 010c CDF800A0 		str	r10, [sp]
 8312              	.LVL967:
3665:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8313              		.loc 1 3665 62 is_stmt 0 discriminator 1 view .LVU2818
 8314 0110 D3E7     		b	.L625
 8315              	.LVL968:
 8316              	.L653:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8317              		.loc 1 3670 15 is_stmt 1 discriminator 1 view .LVU2819
 8318 0112 4FF0020A 		mov	r10, #2
 8319 0116 84F815A0 		strb	r10, [r4, #21]
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8320              		.loc 1 3670 15 discriminator 1 view .LVU2820
 8321 011a CDF800A0 		str	r10, [sp]
 8322              	.LVL969:
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8323              		.loc 1 3670 15 is_stmt 0 discriminator 1 view .LVU2821
 8324 011e CCE7     		b	.L625
 8325              	.LVL970:
 8326              	.L640:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 8327              		.loc 1 3677 79 is_stmt 1 discriminator 2 view .LVU2822
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8328              		.loc 1 3685 5 discriminator 2 view .LVU2823
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8329              		.loc 1 3685 11 is_stmt 0 discriminator 2 view .LVU2824
 8330 0120 216A     		ldr	r1, [r4, #32]
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8331              		.loc 1 3685 18 discriminator 2 view .LVU2825
 8332 0122 A1EB0901 		sub	r1, r1, r9
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
ARM GAS  /tmp/cc9mPikx.s 			page 293


 8333              		.loc 1 3685 8 discriminator 2 view .LVU2826
 8334 0126 5145     		cmp	r1, r10
 8335 0128 04D3     		bcc	.L655
 8336              	.L641:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8337              		.loc 1 3691 5 is_stmt 1 view .LVU2827
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8338              		.loc 1 3691 12 is_stmt 0 view .LVU2828
 8339 012a 039B     		ldr	r3, [sp, #12]
 8340 012c 9E89     		ldrh	r6, [r3, #12]
 8341              	.LVL971:
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8342              		.loc 1 3691 10 view .LVU2829
 8343 012e 0AFB06F6 		mul	r6, r10, r6
 8344              	.LVL972:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8345              		.loc 1 3692 5 is_stmt 1 view .LVU2830
 8346 0132 2BE0     		b	.L642
 8347              	.LVL973:
 8348              	.L655:
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8349              		.loc 1 3686 6 view .LVU2831
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8350              		.loc 1 3686 52 is_stmt 0 view .LVU2832
 8351 0134 039B     		ldr	r3, [sp, #12]
 8352 0136 9A89     		ldrh	r2, [r3, #12]
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8353              		.loc 1 3686 6 view .LVU2833
 8354 0138 02FB0171 		mla	r1, r2, r1, r7
 8355 013c 04F13000 		add	r0, r4, #48
 8356 0140 FFF7FEFF 		bl	mem_cpy
 8357              	.LVL974:
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8358              		.loc 1 3687 6 is_stmt 1 view .LVU2834
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8359              		.loc 1 3687 15 is_stmt 0 view .LVU2835
 8360 0144 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8361 0146 03F07F03 		and	r3, r3, #127
 8362 014a 2375     		strb	r3, [r4, #20]
 8363 014c EDE7     		b	.L641
 8364              	.L638:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8365              		.loc 1 3700 4 is_stmt 1 view .LVU2836
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8366              		.loc 1 3700 10 is_stmt 0 view .LVU2837
 8367 014e 236A     		ldr	r3, [r4, #32]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8368              		.loc 1 3700 7 view .LVU2838
 8369 0150 4B45     		cmp	r3, r9
 8370 0152 03D0     		beq	.L643
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8371              		.loc 1 3701 7 discriminator 1 view .LVU2839
 8372 0154 A269     		ldr	r2, [r4, #24]
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8373              		.loc 1 3701 23 discriminator 1 view .LVU2840
 8374 0156 E368     		ldr	r3, [r4, #12]
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
ARM GAS  /tmp/cc9mPikx.s 			page 294


 8375              		.loc 1 3700 25 discriminator 1 view .LVU2841
 8376 0158 9A42     		cmp	r2, r3
 8377 015a 42D3     		bcc	.L656
 8378              	.L643:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8379              		.loc 1 3703 28 is_stmt 1 view .LVU2842
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8380              		.loc 1 3706 4 view .LVU2843
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8381              		.loc 1 3706 13 is_stmt 0 view .LVU2844
 8382 015c C4F82090 		str	r9, [r4, #32]
 8383              	.LVL975:
 8384              	.L627:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8385              		.loc 1 3708 3 is_stmt 1 view .LVU2845
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8386              		.loc 1 3708 10 is_stmt 0 view .LVU2846
 8387 0160 039B     		ldr	r3, [sp, #12]
 8388 0162 9E89     		ldrh	r6, [r3, #12]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8389              		.loc 1 3708 27 view .LVU2847
 8390 0164 A069     		ldr	r0, [r4, #24]
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8391              		.loc 1 3708 34 view .LVU2848
 8392 0166 B0FBF6F3 		udiv	r3, r0, r6
 8393 016a 06FB1303 		mls	r3, r6, r3, r0
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8394              		.loc 1 3708 8 view .LVU2849
 8395 016e F61A     		subs	r6, r6, r3
 8396              	.LVL976:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8397              		.loc 1 3709 3 is_stmt 1 view .LVU2850
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8398              		.loc 1 3709 6 is_stmt 0 view .LVU2851
 8399 0170 B542     		cmp	r5, r6
 8400 0172 00D2     		bcs	.L644
3709:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 8401              		.loc 1 3709 24 view .LVU2852
 8402 0174 2E46     		mov	r6, r5
 8403              	.LVL977:
 8404              	.L644:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8405              		.loc 1 3715 3 is_stmt 1 view .LVU2853
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8406              		.loc 1 3715 11 is_stmt 0 view .LVU2854
 8407 0176 04F13000 		add	r0, r4, #48
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8408              		.loc 1 3715 3 view .LVU2855
 8409 017a 3246     		mov	r2, r6
 8410 017c 3946     		mov	r1, r7
 8411 017e 1844     		add	r0, r0, r3
 8412 0180 FFF7FEFF 		bl	mem_cpy
 8413              	.LVL978:
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8414              		.loc 1 3716 3 is_stmt 1 view .LVU2856
3716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8415              		.loc 1 3716 12 is_stmt 0 view .LVU2857
ARM GAS  /tmp/cc9mPikx.s 			page 295


 8416 0184 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8417 0186 63F07F03 		orn	r3, r3, #127
 8418 018a 2375     		strb	r3, [r4, #20]
 8419              	.L642:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8420              		.loc 1 3636 3 is_stmt 1 view .LVU2858
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8421              		.loc 1 3636 9 is_stmt 0 view .LVU2859
 8422 018c 3744     		add	r7, r7, r6
 8423              	.LVL979:
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8424              		.loc 1 3636 27 view .LVU2860
 8425 018e A369     		ldr	r3, [r4, #24]
 8426 0190 3344     		add	r3, r3, r6
 8427 0192 A361     		str	r3, [r4, #24]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8428              		.loc 1 3636 73 view .LVU2861
 8429 0194 E268     		ldr	r2, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8430              		.loc 1 3636 94 view .LVU2862
 8431 0196 9342     		cmp	r3, r2
 8432 0198 38BF     		it	cc
 8433 019a 1346     		movcc	r3, r2
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8434              		.loc 1 3636 52 view .LVU2863
 8435 019c E360     		str	r3, [r4, #12]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8436              		.loc 1 3636 117 view .LVU2864
 8437 019e D8F80030 		ldr	r3, [r8]
 8438 01a2 3344     		add	r3, r3, r6
 8439 01a4 C8F80030 		str	r3, [r8]
3636:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8440              		.loc 1 3636 130 view .LVU2865
 8441 01a8 AD1B     		subs	r5, r5, r6
 8442              	.LVL980:
 8443              	.L645:
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 8444              		.loc 1 3635 11 is_stmt 1 view .LVU2866
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 8445              		.loc 1 3635 2 is_stmt 0 view .LVU2867
 8446 01aa 5DB3     		cbz	r5, .L632
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8447              		.loc 1 3637 3 is_stmt 1 view .LVU2868
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8448              		.loc 1 3637 9 is_stmt 0 view .LVU2869
 8449 01ac A169     		ldr	r1, [r4, #24]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8450              		.loc 1 3637 18 view .LVU2870
 8451 01ae 039A     		ldr	r2, [sp, #12]
 8452 01b0 9689     		ldrh	r6, [r2, #12]
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8453              		.loc 1 3637 16 view .LVU2871
 8454 01b2 B1FBF6F3 		udiv	r3, r1, r6
 8455 01b6 06FB1313 		mls	r3, r6, r3, r1
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 8456              		.loc 1 3637 6 view .LVU2872
 8457 01ba 002B     		cmp	r3, #0
ARM GAS  /tmp/cc9mPikx.s 			page 296


 8458 01bc D0D1     		bne	.L627
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8459              		.loc 1 3638 4 is_stmt 1 view .LVU2873
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8460              		.loc 1 3638 28 is_stmt 0 view .LVU2874
 8461 01be B1FBF6F6 		udiv	r6, r1, r6
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8462              		.loc 1 3638 43 view .LVU2875
 8463 01c2 5389     		ldrh	r3, [r2, #10]
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 8464              		.loc 1 3638 51 view .LVU2876
 8465 01c4 013B     		subs	r3, r3, #1
 8466              	.LVL981:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8467              		.loc 1 3639 4 is_stmt 1 view .LVU2877
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8468              		.loc 1 3639 7 is_stmt 0 view .LVU2878
 8469 01c6 1E40     		ands	r6, r6, r3
 8470              	.LVL982:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 8471              		.loc 1 3639 7 view .LVU2879
 8472 01c8 7FF44CAF 		bne	.L628
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8473              		.loc 1 3640 5 is_stmt 1 view .LVU2880
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8474              		.loc 1 3640 8 is_stmt 0 view .LVU2881
 8475 01cc 0029     		cmp	r1, #0
 8476 01ce 7FF437AF 		bne	.L629
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8477              		.loc 1 3641 6 is_stmt 1 view .LVU2882
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8478              		.loc 1 3641 11 is_stmt 0 view .LVU2883
 8479 01d2 A068     		ldr	r0, [r4, #8]
 8480              	.LVL983:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 8481              		.loc 1 3642 6 is_stmt 1 view .LVU2884
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 8482              		.loc 1 3642 9 is_stmt 0 view .LVU2885
 8483 01d4 0028     		cmp	r0, #0
 8484 01d6 7FF439AF 		bne	.L630
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8485              		.loc 1 3643 7 is_stmt 1 view .LVU2886
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8486              		.loc 1 3643 14 is_stmt 0 view .LVU2887
 8487 01da 0198     		ldr	r0, [sp, #4]
 8488              	.LVL984:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8489              		.loc 1 3643 14 view .LVU2888
 8490 01dc FFF7FEFF 		bl	create_chain
 8491              	.LVL985:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8492              		.loc 1 3643 14 view .LVU2889
 8493 01e0 34E7     		b	.L630
 8494              	.LVL986:
 8495              	.L656:
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 8496              		.loc 1 3702 5 view .LVU2890
ARM GAS  /tmp/cc9mPikx.s 			page 297


 8497 01e2 0123     		movs	r3, #1
 8498 01e4 4A46     		mov	r2, r9
 8499 01e6 04F13001 		add	r1, r4, #48
 8500 01ea 9BF80100 		ldrb	r0, [fp, #1]	@ zero_extendqisi2
 8501 01ee FFF7FEFF 		bl	disk_read
 8502              	.LVL987:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8503              		.loc 1 3701 32 view .LVU2891
 8504 01f2 0028     		cmp	r0, #0
 8505 01f4 B2D0     		beq	.L643
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8506              		.loc 1 3703 6 is_stmt 1 view .LVU2892
 8507 01f6 4FF0010A 		mov	r10, #1
 8508              	.LVL988:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8509              		.loc 1 3703 6 is_stmt 0 view .LVU2893
 8510 01fa 84F815A0 		strb	r10, [r4, #21]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8511              		.loc 1 3703 6 is_stmt 1 view .LVU2894
 8512 01fe CDF800A0 		str	r10, [sp]
 8513              	.LVL989:
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8514              		.loc 1 3703 6 is_stmt 0 view .LVU2895
 8515 0202 5AE7     		b	.L625
 8516              	.LVL990:
 8517              	.L632:
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8518              		.loc 1 3720 2 is_stmt 1 view .LVU2896
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8519              		.loc 1 3720 11 is_stmt 0 view .LVU2897
 8520 0204 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8521 0206 43F04003 		orr	r3, r3, #64
 8522 020a 2375     		strb	r3, [r4, #20]
3722:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8523              		.loc 1 3722 2 is_stmt 1 view .LVU2898
 8524 020c 55E7     		b	.L625
 8525              	.LVL991:
 8526              	.L647:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8527              		.loc 1 3628 30 is_stmt 0 view .LVU2899
 8528 020e 0723     		movs	r3, #7
 8529 0210 0093     		str	r3, [sp]
 8530              	.LVL992:
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8531              		.loc 1 3628 30 view .LVU2900
 8532 0212 52E7     		b	.L625
 8533              		.cfi_endproc
 8534              	.LFE396:
 8536              		.section	.text.putc_bfd,"ax",%progbits
 8537              		.align	1
 8538              		.syntax unified
 8539              		.thumb
 8540              		.thumb_func
 8541              		.fpu fpv5-d16
 8543              	putc_bfd:
 8544              	.LVL993:
 8545              	.LFB411:
ARM GAS  /tmp/cc9mPikx.s 			page 298


5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 8546              		.loc 1 5921 1 is_stmt 1 view -0
 8547              		.cfi_startproc
 8548              		@ args = 0, pretend = 0, frame = 8
 8549              		@ frame_needed = 0, uses_anonymous_args = 0
5921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 8550              		.loc 1 5921 1 is_stmt 0 view .LVU2902
 8551 0000 70B5     		push	{r4, r5, r6, lr}
 8552              	.LCFI72:
 8553              		.cfi_def_cfa_offset 16
 8554              		.cfi_offset 4, -16
 8555              		.cfi_offset 5, -12
 8556              		.cfi_offset 6, -8
 8557              		.cfi_offset 14, -4
 8558 0002 82B0     		sub	sp, sp, #8
 8559              	.LCFI73:
 8560              		.cfi_def_cfa_offset 24
 8561 0004 0446     		mov	r4, r0
 8562 0006 0D46     		mov	r5, r1
5922:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 8563              		.loc 1 5922 2 is_stmt 1 view .LVU2903
5923:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8564              		.loc 1 5923 2 view .LVU2904
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 8565              		.loc 1 5926 2 view .LVU2905
5926:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 8566              		.loc 1 5926 5 is_stmt 0 view .LVU2906
 8567 0008 0A29     		cmp	r1, #10
 8568 000a 0DD0     		beq	.L664
 8569              	.LVL994:
 8570              	.L658:
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 8571              		.loc 1 5930 2 is_stmt 1 view .LVU2907
5930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 8572              		.loc 1 5930 4 is_stmt 0 view .LVU2908
 8573 000c 6368     		ldr	r3, [r4, #4]
 8574              	.LVL995:
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8575              		.loc 1 5931 2 is_stmt 1 view .LVU2909
5931:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8576              		.loc 1 5931 5 is_stmt 0 view .LVU2910
 8577 000e 002B     		cmp	r3, #0
 8578 0010 08DB     		blt	.L657
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8579              		.loc 1 5960 2 is_stmt 1 view .LVU2911
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8580              		.loc 1 5960 11 is_stmt 0 view .LVU2912
 8581 0012 5E1C     		adds	r6, r3, #1
 8582              	.LVL996:
5960:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8583              		.loc 1 5960 15 view .LVU2913
 8584 0014 2344     		add	r3, r3, r4
 8585 0016 1D73     		strb	r5, [r3, #12]
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 8586              		.loc 1 5963 2 is_stmt 1 view .LVU2914
5963:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 8587              		.loc 1 5963 5 is_stmt 0 view .LVU2915
ARM GAS  /tmp/cc9mPikx.s 			page 299


 8588 0018 3C2E     		cmp	r6, #60
 8589 001a 09DC     		bgt	.L665
 8590              	.LVL997:
 8591              	.L661:
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 8592              		.loc 1 5967 2 is_stmt 1 view .LVU2916
5967:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 8593              		.loc 1 5967 10 is_stmt 0 view .LVU2917
 8594 001c 6660     		str	r6, [r4, #4]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8595              		.loc 1 5968 2 is_stmt 1 view .LVU2918
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8596              		.loc 1 5968 4 is_stmt 0 view .LVU2919
 8597 001e A368     		ldr	r3, [r4, #8]
5968:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8598              		.loc 1 5968 10 view .LVU2920
 8599 0020 0133     		adds	r3, r3, #1
 8600 0022 A360     		str	r3, [r4, #8]
 8601              	.LVL998:
 8602              	.L657:
5969:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8603              		.loc 1 5969 1 view .LVU2921
 8604 0024 02B0     		add	sp, sp, #8
 8605              	.LCFI74:
 8606              		.cfi_remember_state
 8607              		.cfi_def_cfa_offset 16
 8608              		@ sp needed
 8609 0026 70BD     		pop	{r4, r5, r6, pc}
 8610              	.LVL999:
 8611              	.L664:
 8612              	.LCFI75:
 8613              		.cfi_restore_state
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8614              		.loc 1 5927 3 is_stmt 1 view .LVU2922
 8615 0028 0D21     		movs	r1, #13
 8616              	.LVL1000:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8617              		.loc 1 5927 3 is_stmt 0 view .LVU2923
 8618 002a FFF7E9FF 		bl	putc_bfd
 8619              	.LVL1001:
5927:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8620              		.loc 1 5927 3 view .LVU2924
 8621 002e EDE7     		b	.L658
 8622              	.LVL1002:
 8623              	.L665:
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8624              		.loc 1 5964 3 is_stmt 1 view .LVU2925
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8625              		.loc 1 5964 21 is_stmt 0 view .LVU2926
 8626 0030 2146     		mov	r1, r4
5964:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 8627              		.loc 1 5964 3 view .LVU2927
 8628 0032 51F80C0B 		ldr	r0, [r1], #12
 8629 0036 01AB     		add	r3, sp, #4
 8630 0038 3246     		mov	r2, r6
 8631 003a FFF7FEFF 		bl	f_write
 8632              	.LVL1003:
ARM GAS  /tmp/cc9mPikx.s 			page 300


5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8633              		.loc 1 5965 3 is_stmt 1 view .LVU2928
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8634              		.loc 1 5965 11 is_stmt 0 view .LVU2929
 8635 003e 019B     		ldr	r3, [sp, #4]
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8636              		.loc 1 5965 27 view .LVU2930
 8637 0040 9E42     		cmp	r6, r3
 8638 0042 02D0     		beq	.L666
 8639 0044 4FF0FF36 		mov	r6, #-1
 8640              	.LVL1004:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8641              		.loc 1 5965 27 view .LVU2931
 8642 0048 E8E7     		b	.L661
 8643              	.LVL1005:
 8644              	.L666:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8645              		.loc 1 5965 27 view .LVU2932
 8646 004a 0026     		movs	r6, #0
 8647              	.LVL1006:
5965:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8648              		.loc 1 5965 27 view .LVU2933
 8649 004c E6E7     		b	.L661
 8650              		.cfi_endproc
 8651              	.LFE411:
 8653              		.section	.text.putc_flush,"ax",%progbits
 8654              		.align	1
 8655              		.syntax unified
 8656              		.thumb
 8657              		.thumb_func
 8658              		.fpu fpv5-d16
 8660              	putc_flush:
 8661              	.LVL1007:
 8662              	.LFB412:
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 8663              		.loc 1 5976 1 is_stmt 1 view -0
 8664              		.cfi_startproc
 8665              		@ args = 0, pretend = 0, frame = 8
 8666              		@ frame_needed = 0, uses_anonymous_args = 0
5977:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8667              		.loc 1 5977 2 view .LVU2935
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8668              		.loc 1 5979 2 view .LVU2936
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8669              		.loc 1 5979 11 is_stmt 0 view .LVU2937
 8670 0000 4268     		ldr	r2, [r0, #4]
5979:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 8671              		.loc 1 5979 5 view .LVU2938
 8672 0002 002A     		cmp	r2, #0
 8673 0004 10DB     		blt	.L669
5976:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 8674              		.loc 1 5976 1 view .LVU2939
 8675 0006 10B5     		push	{r4, lr}
 8676              	.LCFI76:
 8677              		.cfi_def_cfa_offset 8
 8678              		.cfi_offset 4, -8
 8679              		.cfi_offset 14, -4
ARM GAS  /tmp/cc9mPikx.s 			page 301


 8680 0008 82B0     		sub	sp, sp, #8
 8681              	.LCFI77:
 8682              		.cfi_def_cfa_offset 16
 8683 000a 0446     		mov	r4, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8684              		.loc 1 5980 24 view .LVU2940
 8685 000c 0146     		mov	r1, r0
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8686              		.loc 1 5980 6 view .LVU2941
 8687 000e 51F80C0B 		ldr	r0, [r1], #12
 8688              	.LVL1008:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8689              		.loc 1 5980 6 view .LVU2942
 8690 0012 01AB     		add	r3, sp, #4
 8691 0014 FFF7FEFF 		bl	f_write
 8692              	.LVL1009:
5980:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 8693              		.loc 1 5980 3 view .LVU2943
 8694 0018 48B9     		cbnz	r0, .L670
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8695              		.loc 1 5981 14 view .LVU2944
 8696 001a 6268     		ldr	r2, [r4, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8697              		.loc 1 5981 20 view .LVU2945
 8698 001c 019B     		ldr	r3, [sp, #4]
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8699              		.loc 1 5981 3 view .LVU2946
 8700 001e 9A42     		cmp	r2, r3
 8701 0020 08D1     		bne	.L671
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8702              		.loc 1 5981 27 is_stmt 1 discriminator 1 view .LVU2947
5981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 8703              		.loc 1 5981 36 is_stmt 0 discriminator 1 view .LVU2948
 8704 0022 A068     		ldr	r0, [r4, #8]
 8705              	.L667:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8706              		.loc 1 5983 1 view .LVU2949
 8707 0024 02B0     		add	sp, sp, #8
 8708              	.LCFI78:
 8709              		.cfi_def_cfa_offset 8
 8710              		@ sp needed
 8711 0026 10BD     		pop	{r4, pc}
 8712              	.LVL1010:
 8713              	.L669:
 8714              	.LCFI79:
 8715              		.cfi_def_cfa_offset 0
 8716              		.cfi_restore 4
 8717              		.cfi_restore 14
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8718              		.loc 1 5982 9 view .LVU2950
 8719 0028 4FF0FF30 		mov	r0, #-1
 8720              	.LVL1011:
5983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8721              		.loc 1 5983 1 view .LVU2951
 8722 002c 7047     		bx	lr
 8723              	.LVL1012:
 8724              	.L670:
ARM GAS  /tmp/cc9mPikx.s 			page 302


 8725              	.LCFI80:
 8726              		.cfi_def_cfa_offset 16
 8727              		.cfi_offset 4, -8
 8728              		.cfi_offset 14, -4
5982:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8729              		.loc 1 5982 9 view .LVU2952
 8730 002e 4FF0FF30 		mov	r0, #-1
 8731 0032 F7E7     		b	.L667
 8732              	.L671:
 8733 0034 4FF0FF30 		mov	r0, #-1
 8734 0038 F4E7     		b	.L667
 8735              		.cfi_endproc
 8736              	.LFE412:
 8738              		.section	.text.f_sync,"ax",%progbits
 8739              		.align	1
 8740              		.global	f_sync
 8741              		.syntax unified
 8742              		.thumb
 8743              		.thumb_func
 8744              		.fpu fpv5-d16
 8746              	f_sync:
 8747              	.LVL1013:
 8748              	.LFB397:
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8749              		.loc 1 3735 1 is_stmt 1 view -0
 8750              		.cfi_startproc
 8751              		@ args = 0, pretend = 0, frame = 8
 8752              		@ frame_needed = 0, uses_anonymous_args = 0
3735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8753              		.loc 1 3735 1 is_stmt 0 view .LVU2954
 8754 0000 70B5     		push	{r4, r5, r6, lr}
 8755              	.LCFI81:
 8756              		.cfi_def_cfa_offset 16
 8757              		.cfi_offset 4, -16
 8758              		.cfi_offset 5, -12
 8759              		.cfi_offset 6, -8
 8760              		.cfi_offset 14, -4
 8761 0002 82B0     		sub	sp, sp, #8
 8762              	.LCFI82:
 8763              		.cfi_def_cfa_offset 24
 8764 0004 0446     		mov	r4, r0
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8765              		.loc 1 3736 2 is_stmt 1 view .LVU2955
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 8766              		.loc 1 3737 2 view .LVU2956
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8767              		.loc 1 3738 2 view .LVU2957
3739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8768              		.loc 1 3739 2 view .LVU2958
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8769              		.loc 1 3745 2 view .LVU2959
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8770              		.loc 1 3745 8 is_stmt 0 view .LVU2960
 8771 0006 01A9     		add	r1, sp, #4
 8772 0008 FFF7FEFF 		bl	validate
 8773              	.LVL1014:
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
ARM GAS  /tmp/cc9mPikx.s 			page 303


 8774              		.loc 1 3746 2 is_stmt 1 view .LVU2961
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 8775              		.loc 1 3746 5 is_stmt 0 view .LVU2962
 8776 000c 70B9     		cbnz	r0, .L677
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8777              		.loc 1 3747 3 is_stmt 1 view .LVU2963
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8778              		.loc 1 3747 9 is_stmt 0 view .LVU2964
 8779 000e 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
3747:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 8780              		.loc 1 3747 6 view .LVU2965
 8781 0010 13F0400F 		tst	r3, #64
 8782 0014 0AD0     		beq	.L677
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8783              		.loc 1 3749 4 is_stmt 1 view .LVU2966
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8784              		.loc 1 3749 7 is_stmt 0 view .LVU2967
 8785 0016 13F0800F 		tst	r3, #128
 8786 001a 09D1     		bne	.L681
 8787              	.L678:
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8788              		.loc 1 3755 4 is_stmt 1 view .LVU2968
3755:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 8789              		.loc 1 3755 9 is_stmt 0 view .LVU2969
 8790 001c FFF7FEFF 		bl	get_fattime
 8791              	.LVL1015:
 8792 0020 0546     		mov	r5, r0
 8793              	.LVL1016:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8794              		.loc 1 3785 5 is_stmt 1 view .LVU2970
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8795              		.loc 1 3785 11 is_stmt 0 view .LVU2971
 8796 0022 616A     		ldr	r1, [r4, #36]
 8797 0024 0198     		ldr	r0, [sp, #4]
 8798              	.LVL1017:
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8799              		.loc 1 3785 11 view .LVU2972
 8800 0026 FFF7FEFF 		bl	move_window
 8801              	.LVL1018:
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8802              		.loc 1 3786 5 is_stmt 1 view .LVU2973
3786:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8803              		.loc 1 3786 8 is_stmt 0 view .LVU2974
 8804 002a 78B1     		cbz	r0, .L682
 8805              	.LVL1019:
 8806              	.L677:
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8807              		.loc 1 3802 1 view .LVU2975
 8808 002c 02B0     		add	sp, sp, #8
 8809              	.LCFI83:
 8810              		.cfi_remember_state
 8811              		.cfi_def_cfa_offset 16
 8812              		@ sp needed
 8813 002e 70BD     		pop	{r4, r5, r6, pc}
 8814              	.LVL1020:
 8815              	.L681:
 8816              	.LCFI84:
ARM GAS  /tmp/cc9mPikx.s 			page 304


 8817              		.cfi_restore_state
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8818              		.loc 1 3750 5 is_stmt 1 view .LVU2976
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8819              		.loc 1 3750 9 is_stmt 0 view .LVU2977
 8820 0030 0123     		movs	r3, #1
 8821 0032 226A     		ldr	r2, [r4, #32]
 8822 0034 04F13001 		add	r1, r4, #48
 8823 0038 0198     		ldr	r0, [sp, #4]
 8824 003a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8825 003c FFF7FEFF 		bl	disk_write
 8826              	.LVL1021:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8827              		.loc 1 3750 8 view .LVU2978
 8828 0040 40BB     		cbnz	r0, .L679
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8829              		.loc 1 3751 5 is_stmt 1 view .LVU2979
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8830              		.loc 1 3751 14 is_stmt 0 view .LVU2980
 8831 0042 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8832 0044 03F07F03 		and	r3, r3, #127
 8833 0048 2375     		strb	r3, [r4, #20]
 8834 004a E7E7     		b	.L678
 8835              	.LVL1022:
 8836              	.L682:
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8837              		.loc 1 3787 6 is_stmt 1 view .LVU2981
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8838              		.loc 1 3787 10 is_stmt 0 view .LVU2982
 8839 004c A66A     		ldr	r6, [r4, #40]
 8840              	.LVL1023:
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8841              		.loc 1 3788 6 is_stmt 1 view .LVU2983
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8842              		.loc 1 3788 20 is_stmt 0 view .LVU2984
 8843 004e F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
 8844 0050 43F02003 		orr	r3, r3, #32
 8845 0054 F372     		strb	r3, [r6, #11]
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 8846              		.loc 1 3789 6 is_stmt 1 view .LVU2985
 8847 0056 A268     		ldr	r2, [r4, #8]
 8848 0058 3146     		mov	r1, r6
 8849 005a 2068     		ldr	r0, [r4]
 8850              	.LVL1024:
3789:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 8851              		.loc 1 3789 6 is_stmt 0 view .LVU2986
 8852 005c FFF7FEFF 		bl	st_clust
 8853              	.LVL1025:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 8854              		.loc 1 3790 6 is_stmt 1 view .LVU2987
 8855 0060 E168     		ldr	r1, [r4, #12]
 8856 0062 06F11C00 		add	r0, r6, #28
 8857 0066 FFF7FEFF 		bl	st_dword
 8858              	.LVL1026:
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 8859              		.loc 1 3791 6 view .LVU2988
 8860 006a 2946     		mov	r1, r5
ARM GAS  /tmp/cc9mPikx.s 			page 305


 8861 006c 06F11600 		add	r0, r6, #22
 8862 0070 FFF7FEFF 		bl	st_dword
 8863              	.LVL1027:
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 8864              		.loc 1 3792 6 view .LVU2989
 8865 0074 0021     		movs	r1, #0
 8866 0076 06F11200 		add	r0, r6, #18
 8867 007a FFF7FEFF 		bl	st_word
 8868              	.LVL1028:
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8869              		.loc 1 3793 6 view .LVU2990
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8870              		.loc 1 3793 16 is_stmt 0 view .LVU2991
 8871 007e 019B     		ldr	r3, [sp, #4]
 8872 0080 0122     		movs	r2, #1
 8873 0082 DA70     		strb	r2, [r3, #3]
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 8874              		.loc 1 3794 6 is_stmt 1 view .LVU2992
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 8875              		.loc 1 3794 12 is_stmt 0 view .LVU2993
 8876 0084 0198     		ldr	r0, [sp, #4]
 8877 0086 FFF7FEFF 		bl	sync_fs
 8878              	.LVL1029:
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8879              		.loc 1 3795 6 is_stmt 1 view .LVU2994
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8880              		.loc 1 3795 15 is_stmt 0 view .LVU2995
 8881 008a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 8882 008c 23F04003 		bic	r3, r3, #64
 8883 0090 2375     		strb	r3, [r4, #20]
 8884 0092 CBE7     		b	.L677
 8885              	.LVL1030:
 8886              	.L679:
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8887              		.loc 1 3750 62 view .LVU2996
 8888 0094 0120     		movs	r0, #1
 8889 0096 C9E7     		b	.L677
 8890              		.cfi_endproc
 8891              	.LFE397:
 8893              		.section	.text.f_close,"ax",%progbits
 8894              		.align	1
 8895              		.global	f_close
 8896              		.syntax unified
 8897              		.thumb
 8898              		.thumb_func
 8899              		.fpu fpv5-d16
 8901              	f_close:
 8902              	.LVL1031:
 8903              	.LFB398:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8904              		.loc 1 3816 1 is_stmt 1 view -0
 8905              		.cfi_startproc
 8906              		@ args = 0, pretend = 0, frame = 8
 8907              		@ frame_needed = 0, uses_anonymous_args = 0
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8908              		.loc 1 3816 1 is_stmt 0 view .LVU2998
 8909 0000 10B5     		push	{r4, lr}
ARM GAS  /tmp/cc9mPikx.s 			page 306


 8910              	.LCFI85:
 8911              		.cfi_def_cfa_offset 8
 8912              		.cfi_offset 4, -8
 8913              		.cfi_offset 14, -4
 8914 0002 82B0     		sub	sp, sp, #8
 8915              	.LCFI86:
 8916              		.cfi_def_cfa_offset 16
 8917 0004 0446     		mov	r4, r0
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8918              		.loc 1 3817 2 is_stmt 1 view .LVU2999
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8919              		.loc 1 3818 2 view .LVU3000
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8920              		.loc 1 3821 2 view .LVU3001
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8921              		.loc 1 3821 8 is_stmt 0 view .LVU3002
 8922 0006 FFF7FEFF 		bl	f_sync
 8923              	.LVL1032:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8924              		.loc 1 3822 2 is_stmt 1 view .LVU3003
3822:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8925              		.loc 1 3822 5 is_stmt 0 view .LVU3004
 8926 000a 08B1     		cbz	r0, .L686
 8927              	.L684:
 8928              	.LVL1033:
3839:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8929              		.loc 1 3839 2 is_stmt 1 view .LVU3005
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8930              		.loc 1 3840 1 is_stmt 0 view .LVU3006
 8931 000c 02B0     		add	sp, sp, #8
 8932              	.LCFI87:
 8933              		.cfi_remember_state
 8934              		.cfi_def_cfa_offset 8
 8935              		@ sp needed
 8936 000e 10BD     		pop	{r4, pc}
 8937              	.LVL1034:
 8938              	.L686:
 8939              	.LCFI88:
 8940              		.cfi_restore_state
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8941              		.loc 1 3825 3 is_stmt 1 view .LVU3007
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8942              		.loc 1 3825 9 is_stmt 0 view .LVU3008
 8943 0010 01A9     		add	r1, sp, #4
 8944 0012 2046     		mov	r0, r4
 8945 0014 FFF7FEFF 		bl	validate
 8946              	.LVL1035:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8947              		.loc 1 3826 3 is_stmt 1 view .LVU3009
3826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 8948              		.loc 1 3826 6 is_stmt 0 view .LVU3010
 8949 0018 0028     		cmp	r0, #0
 8950 001a F7D1     		bne	.L684
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8951              		.loc 1 3828 4 is_stmt 1 view .LVU3011
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8952              		.loc 1 3828 10 is_stmt 0 view .LVU3012
ARM GAS  /tmp/cc9mPikx.s 			page 307


 8953 001c 2069     		ldr	r0, [r4, #16]
 8954              	.LVL1036:
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 8955              		.loc 1 3828 10 view .LVU3013
 8956 001e FFF7FEFF 		bl	dec_lock
 8957              	.LVL1037:
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8958              		.loc 1 3829 4 is_stmt 1 view .LVU3014
3829:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8959              		.loc 1 3829 7 is_stmt 0 view .LVU3015
 8960 0022 0028     		cmp	r0, #0
 8961 0024 F2D1     		bne	.L684
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8962              		.loc 1 3832 5 is_stmt 1 view .LVU3016
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8963              		.loc 1 3832 16 is_stmt 0 view .LVU3017
 8964 0026 2060     		str	r0, [r4]
 8965 0028 F0E7     		b	.L684
 8966              		.cfi_endproc
 8967              	.LFE398:
 8969              		.section	.text.f_lseek,"ax",%progbits
 8970              		.align	1
 8971              		.global	f_lseek
 8972              		.syntax unified
 8973              		.thumb
 8974              		.thumb_func
 8975              		.fpu fpv5-d16
 8977              	f_lseek:
 8978              	.LVL1038:
 8979              	.LFB399:
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8980              		.loc 1 4005 1 is_stmt 1 view -0
 8981              		.cfi_startproc
 8982              		@ args = 0, pretend = 0, frame = 16
 8983              		@ frame_needed = 0, uses_anonymous_args = 0
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8984              		.loc 1 4005 1 is_stmt 0 view .LVU3019
 8985 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 8986              	.LCFI89:
 8987              		.cfi_def_cfa_offset 36
 8988              		.cfi_offset 4, -36
 8989              		.cfi_offset 5, -32
 8990              		.cfi_offset 6, -28
 8991              		.cfi_offset 7, -24
 8992              		.cfi_offset 8, -20
 8993              		.cfi_offset 9, -16
 8994              		.cfi_offset 10, -12
 8995              		.cfi_offset 11, -8
 8996              		.cfi_offset 14, -4
 8997 0004 85B0     		sub	sp, sp, #20
 8998              	.LCFI90:
 8999              		.cfi_def_cfa_offset 56
 9000 0006 0446     		mov	r4, r0
 9001 0008 0E46     		mov	r6, r1
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9002              		.loc 1 4006 2 is_stmt 1 view .LVU3020
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
ARM GAS  /tmp/cc9mPikx.s 			page 308


 9003              		.loc 1 4007 2 view .LVU3021
4008:Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
 9004              		.loc 1 4008 2 view .LVU3022
4009:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 9005              		.loc 1 4009 2 view .LVU3023
4011:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9006              		.loc 1 4011 2 view .LVU3024
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 9007              		.loc 1 4014 2 view .LVU3025
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 9008              		.loc 1 4014 8 is_stmt 0 view .LVU3026
 9009 000a 0746     		mov	r7, r0
 9010 000c 03A9     		add	r1, sp, #12
 9011              	.LVL1039:
4014:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 9012              		.loc 1 4014 8 view .LVU3027
 9013 000e FFF7FEFF 		bl	validate
 9014              	.LVL1040:
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 9015              		.loc 1 4015 2 is_stmt 1 view .LVU3028
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 9016              		.loc 1 4015 5 is_stmt 0 view .LVU3029
 9017 0012 0546     		mov	r5, r0
 9018 0014 00B9     		cbnz	r0, .L688
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 9019              		.loc 1 4015 20 is_stmt 1 discriminator 1 view .LVU3030
4015:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
 9020              		.loc 1 4015 24 is_stmt 0 discriminator 1 view .LVU3031
 9021 0016 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 9022              	.LVL1041:
 9023              	.L688:
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9024              		.loc 1 4021 2 is_stmt 1 view .LVU3032
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9025              		.loc 1 4021 5 is_stmt 0 view .LVU3033
 9026 0018 6DB9     		cbnz	r5, .L689
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 9027              		.loc 1 4024 2 is_stmt 1 view .LVU3034
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 9028              		.loc 1 4024 8 is_stmt 0 view .LVU3035
 9029 001a E36A     		ldr	r3, [r4, #44]
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 9030              		.loc 1 4024 5 view .LVU3036
 9031 001c 002B     		cmp	r3, #0
 9032 001e 00F09380 		beq	.L690
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 9033              		.loc 1 4025 3 is_stmt 1 view .LVU3037
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 9034              		.loc 1 4025 6 is_stmt 0 view .LVU3038
 9035 0022 B6F1FF3F 		cmp	r6, #-1
 9036 0026 0AD0     		beq	.L730
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 9037              		.loc 1 4051 4 is_stmt 1 view .LVU3039
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 9038              		.loc 1 4051 21 is_stmt 0 view .LVU3040
 9039 0028 E768     		ldr	r7, [r4, #12]
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
ARM GAS  /tmp/cc9mPikx.s 			page 309


 9040              		.loc 1 4051 7 view .LVU3041
 9041 002a B742     		cmp	r7, r6
 9042 002c 00D3     		bcc	.L698
 9043 002e 3746     		mov	r7, r6
 9044              	.L698:
 9045              	.LVL1042:
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 9046              		.loc 1 4052 4 is_stmt 1 view .LVU3042
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 9047              		.loc 1 4052 13 is_stmt 0 view .LVU3043
 9048 0030 A761     		str	r7, [r4, #24]
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 9049              		.loc 1 4053 4 is_stmt 1 view .LVU3044
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 9050              		.loc 1 4053 7 is_stmt 0 view .LVU3045
 9051 0032 002F     		cmp	r7, #0
 9052 0034 44D1     		bne	.L731
 9053              	.LVL1043:
 9054              	.L689:
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9055              		.loc 1 4153 1 view .LVU3046
 9056 0036 2846     		mov	r0, r5
 9057 0038 05B0     		add	sp, sp, #20
 9058              	.LCFI91:
 9059              		.cfi_remember_state
 9060              		.cfi_def_cfa_offset 36
 9061              		@ sp needed
 9062 003a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 9063              	.LVL1044:
 9064              	.L730:
 9065              	.LCFI92:
 9066              		.cfi_restore_state
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 9067              		.loc 1 4026 4 is_stmt 1 view .LVU3047
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9068              		.loc 1 4027 4 view .LVU3048
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9069              		.loc 1 4027 15 is_stmt 0 view .LVU3049
 9070 003e 9946     		mov	r9, r3
 9071              	.LVL1045:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9072              		.loc 1 4027 9 view .LVU3050
 9073 0040 59F8043B 		ldr	r3, [r9], #4
 9074              	.LVL1046:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9075              		.loc 1 4027 9 view .LVU3051
 9076 0044 0193     		str	r3, [sp, #4]
 9077              	.LVL1047:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9078              		.loc 1 4027 19 is_stmt 1 view .LVU3052
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 9079              		.loc 1 4028 4 view .LVU3053
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 9080              		.loc 1 4028 7 is_stmt 0 view .LVU3054
 9081 0046 D4F808B0 		ldr	fp, [r4, #8]
 9082              	.LVL1048:
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
ARM GAS  /tmp/cc9mPikx.s 			page 310


 9083              		.loc 1 4029 4 is_stmt 1 view .LVU3055
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 9084              		.loc 1 4029 7 is_stmt 0 view .LVU3056
 9085 004a BBF1000F 		cmp	fp, #0
 9086 004e 2AD0     		beq	.L723
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9087              		.loc 1 4027 24 view .LVU3057
 9088 0050 4FF0020A 		mov	r10, #2
 9089              	.LVL1049:
 9090              	.L697:
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 9091              		.loc 1 4030 5 is_stmt 1 view .LVU3058
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9092              		.loc 1 4032 6 view .LVU3059
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9093              		.loc 1 4032 16 view .LVU3060
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9094              		.loc 1 4032 25 view .LVU3061
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9095              		.loc 1 4032 30 is_stmt 0 view .LVU3062
 9096 0054 0AF1020A 		add	r10, r10, #2
 9097              	.LVL1050:
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9098              		.loc 1 4032 30 view .LVU3063
 9099 0058 5946     		mov	r1, fp
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 9100              		.loc 1 4032 20 view .LVU3064
 9101 005a 4FF00008 		mov	r8, #0
 9102              	.LVL1051:
 9103              	.L695:
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 9104              		.loc 1 4033 6 is_stmt 1 view .LVU3065
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 9105              		.loc 1 4034 7 view .LVU3066
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 9106              		.loc 1 4034 17 view .LVU3067
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 9107              		.loc 1 4034 20 is_stmt 0 view .LVU3068
 9108 005e 08F10108 		add	r8, r8, #1
 9109              	.LVL1052:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9110              		.loc 1 4035 7 is_stmt 1 view .LVU3069
 9111 0062 0E46     		mov	r6, r1
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9112              		.loc 1 4035 12 is_stmt 0 view .LVU3070
 9113 0064 3846     		mov	r0, r7
 9114 0066 FFF7FEFF 		bl	get_fat
 9115              	.LVL1053:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9116              		.loc 1 4035 12 view .LVU3071
 9117 006a 0146     		mov	r1, r0
 9118              	.LVL1054:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9119              		.loc 1 4036 7 is_stmt 1 view .LVU3072
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9120              		.loc 1 4036 10 is_stmt 0 view .LVU3073
 9121 006c 0128     		cmp	r0, #1
ARM GAS  /tmp/cc9mPikx.s 			page 311


 9122 006e 14D9     		bls	.L732
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9123              		.loc 1 4036 41 is_stmt 1 discriminator 2 view .LVU3074
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9124              		.loc 1 4037 7 discriminator 2 view .LVU3075
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9125              		.loc 1 4037 10 is_stmt 0 discriminator 2 view .LVU3076
 9126 0070 B0F1FF3F 		cmp	r0, #-1
 9127 0074 14D0     		beq	.L733
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9128              		.loc 1 4037 51 is_stmt 1 discriminator 2 view .LVU3077
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 9129              		.loc 1 4038 14 discriminator 2 view .LVU3078
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 9130              		.loc 1 4038 25 is_stmt 0 discriminator 2 view .LVU3079
 9131 0076 0136     		adds	r6, r6, #1
 9132              	.LVL1055:
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 9133              		.loc 1 4038 6 discriminator 2 view .LVU3080
 9134 0078 8642     		cmp	r6, r0
 9135 007a F0D0     		beq	.L695
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 9136              		.loc 1 4039 6 is_stmt 1 view .LVU3081
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 9137              		.loc 1 4039 9 is_stmt 0 view .LVU3082
 9138 007c 019B     		ldr	r3, [sp, #4]
 9139 007e 5345     		cmp	r3, r10
 9140 0080 05D3     		bcc	.L696
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9141              		.loc 1 4040 7 is_stmt 1 view .LVU3083
 9142              	.LVL1056:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9143              		.loc 1 4040 14 is_stmt 0 view .LVU3084
 9144 0082 4B46     		mov	r3, r9
 9145 0084 43F8088B 		str	r8, [r3], #8
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9146              		.loc 1 4040 21 is_stmt 1 view .LVU3085
 9147              	.LVL1057:
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9148              		.loc 1 4040 28 is_stmt 0 view .LVU3086
 9149 0088 C9F804B0 		str	fp, [r9, #4]
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9150              		.loc 1 4040 25 view .LVU3087
 9151 008c 9946     		mov	r9, r3
 9152              	.LVL1058:
 9153              	.L696:
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9154              		.loc 1 4042 13 is_stmt 1 view .LVU3088
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9155              		.loc 1 4042 21 is_stmt 0 view .LVU3089
 9156 008e 039B     		ldr	r3, [sp, #12]
 9157 0090 DB69     		ldr	r3, [r3, #28]
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9158              		.loc 1 4042 5 view .LVU3090
 9159 0092 8B42     		cmp	r3, r1
 9160 0094 09D9     		bls	.L692
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
ARM GAS  /tmp/cc9mPikx.s 			page 312


 9161              		.loc 1 4035 12 view .LVU3091
 9162 0096 8B46     		mov	fp, r1
 9163              	.LVL1059:
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 9164              		.loc 1 4035 12 view .LVU3092
 9165 0098 DCE7     		b	.L697
 9166              	.LVL1060:
 9167              	.L732:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9168              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU3093
 9169 009a 0225     		movs	r5, #2
 9170              	.LVL1061:
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9171              		.loc 1 4036 20 is_stmt 0 discriminator 1 view .LVU3094
 9172 009c 6575     		strb	r5, [r4, #21]
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9173              		.loc 1 4036 20 is_stmt 1 discriminator 1 view .LVU3095
 9174 009e CAE7     		b	.L689
 9175              	.LVL1062:
 9176              	.L733:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9177              		.loc 1 4037 29 discriminator 1 view .LVU3096
 9178 00a0 0125     		movs	r5, #1
 9179              	.LVL1063:
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9180              		.loc 1 4037 29 is_stmt 0 discriminator 1 view .LVU3097
 9181 00a2 6575     		strb	r5, [r4, #21]
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 9182              		.loc 1 4037 29 is_stmt 1 discriminator 1 view .LVU3098
 9183 00a4 C7E7     		b	.L689
 9184              	.LVL1064:
 9185              	.L723:
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 9186              		.loc 1 4027 24 is_stmt 0 view .LVU3099
 9187 00a6 4FF0020A 		mov	r10, #2
 9188              	.LVL1065:
 9189              	.L692:
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 9190              		.loc 1 4044 4 is_stmt 1 view .LVU3100
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 9191              		.loc 1 4044 7 is_stmt 0 view .LVU3101
 9192 00aa E36A     		ldr	r3, [r4, #44]
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 9193              		.loc 1 4044 15 view .LVU3102
 9194 00ac C3F800A0 		str	r10, [r3]
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 9195              		.loc 1 4045 4 is_stmt 1 view .LVU3103
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 9196              		.loc 1 4045 7 is_stmt 0 view .LVU3104
 9197 00b0 019B     		ldr	r3, [sp, #4]
 9198 00b2 9A45     		cmp	r10, r3
 9199 00b4 00F2FC80 		bhi	.L725
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9200              		.loc 1 4046 5 is_stmt 1 view .LVU3105
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9201              		.loc 1 4046 10 is_stmt 0 view .LVU3106
 9202 00b8 0023     		movs	r3, #0
ARM GAS  /tmp/cc9mPikx.s 			page 313


 9203 00ba C9F80030 		str	r3, [r9]
 9204 00be BAE7     		b	.L689
 9205              	.LVL1066:
 9206              	.L731:
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 9207              		.loc 1 4054 5 is_stmt 1 view .LVU3107
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 9208              		.loc 1 4054 17 is_stmt 0 view .LVU3108
 9209 00c0 7E1E     		subs	r6, r7, #1
 9210 00c2 3146     		mov	r1, r6
 9211 00c4 2046     		mov	r0, r4
 9212 00c6 FFF7FEFF 		bl	clmt_clust
 9213              	.LVL1067:
 9214 00ca 0146     		mov	r1, r0
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 9215              		.loc 1 4054 15 view .LVU3109
 9216 00cc E061     		str	r0, [r4, #28]
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 9217              		.loc 1 4055 5 is_stmt 1 view .LVU3110
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 9218              		.loc 1 4055 11 is_stmt 0 view .LVU3111
 9219 00ce DDF80C80 		ldr	r8, [sp, #12]
 9220 00d2 4046     		mov	r0, r8
 9221 00d4 FFF7FEFF 		bl	clust2sect
 9222              	.LVL1068:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9223              		.loc 1 4056 5 is_stmt 1 view .LVU3112
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9224              		.loc 1 4056 8 is_stmt 0 view .LVU3113
 9225 00d8 00B3     		cbz	r0, .L734
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9226              		.loc 1 4056 36 is_stmt 1 discriminator 2 view .LVU3114
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9227              		.loc 1 4057 5 discriminator 2 view .LVU3115
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9228              		.loc 1 4057 32 is_stmt 0 discriminator 2 view .LVU3116
 9229 00da B8F80C20 		ldrh	r2, [r8, #12]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9230              		.loc 1 4057 12 discriminator 2 view .LVU3117
 9231 00de B6FBF2F6 		udiv	r6, r6, r2
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9232              		.loc 1 4057 45 discriminator 2 view .LVU3118
 9233 00e2 B8F80A30 		ldrh	r3, [r8, #10]
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9234              		.loc 1 4057 53 discriminator 2 view .LVU3119
 9235 00e6 013B     		subs	r3, r3, #1
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9236              		.loc 1 4057 40 discriminator 2 view .LVU3120
 9237 00e8 1E40     		ands	r6, r6, r3
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 9238              		.loc 1 4057 9 discriminator 2 view .LVU3121
 9239 00ea 0644     		add	r6, r6, r0
 9240              	.LVL1069:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9241              		.loc 1 4058 5 is_stmt 1 discriminator 2 view .LVU3122
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9242              		.loc 1 4058 18 is_stmt 0 discriminator 2 view .LVU3123
ARM GAS  /tmp/cc9mPikx.s 			page 314


 9243 00ec B7FBF2F3 		udiv	r3, r7, r2
 9244 00f0 02FB1377 		mls	r7, r2, r3, r7
 9245              	.LVL1070:
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9246              		.loc 1 4058 8 discriminator 2 view .LVU3124
 9247 00f4 002F     		cmp	r7, #0
 9248 00f6 9ED0     		beq	.L689
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9249              		.loc 1 4058 39 discriminator 1 view .LVU3125
 9250 00f8 226A     		ldr	r2, [r4, #32]
4058:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9251              		.loc 1 4058 27 discriminator 1 view .LVU3126
 9252 00fa B242     		cmp	r2, r6
 9253 00fc 9BD0     		beq	.L689
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9254              		.loc 1 4061 6 is_stmt 1 view .LVU3127
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9255              		.loc 1 4061 10 is_stmt 0 view .LVU3128
 9256 00fe 94F91430 		ldrsb	r3, [r4, #20]
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9257              		.loc 1 4061 9 view .LVU3129
 9258 0102 002B     		cmp	r3, #0
 9259 0104 0DDB     		blt	.L735
 9260              	.L700:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9261              		.loc 1 4066 6 is_stmt 1 view .LVU3130
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9262              		.loc 1 4066 10 is_stmt 0 view .LVU3131
 9263 0106 0123     		movs	r3, #1
 9264 0108 3246     		mov	r2, r6
 9265 010a 04F13001 		add	r1, r4, #48
 9266 010e 0398     		ldr	r0, [sp, #12]
 9267 0110 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9268 0112 FFF7FEFF 		bl	disk_read
 9269              	.LVL1071:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9270              		.loc 1 4066 9 view .LVU3132
 9271 0116 A0B9     		cbnz	r0, .L736
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9272              		.loc 1 4066 79 is_stmt 1 discriminator 2 view .LVU3133
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9273              		.loc 1 4068 6 discriminator 2 view .LVU3134
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9274              		.loc 1 4068 15 is_stmt 0 discriminator 2 view .LVU3135
 9275 0118 2662     		str	r6, [r4, #32]
 9276 011a 8CE7     		b	.L689
 9277              	.LVL1072:
 9278              	.L734:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9279              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU3136
 9280 011c 0225     		movs	r5, #2
 9281              	.LVL1073:
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9282              		.loc 1 4056 15 is_stmt 0 discriminator 1 view .LVU3137
 9283 011e 6575     		strb	r5, [r4, #21]
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 9284              		.loc 1 4056 15 is_stmt 1 discriminator 1 view .LVU3138
ARM GAS  /tmp/cc9mPikx.s 			page 315


 9285 0120 89E7     		b	.L689
 9286              	.LVL1074:
 9287              	.L735:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9288              		.loc 1 4062 7 view .LVU3139
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9289              		.loc 1 4062 11 is_stmt 0 view .LVU3140
 9290 0122 0123     		movs	r3, #1
 9291 0124 04F13001 		add	r1, r4, #48
 9292 0128 98F80100 		ldrb	r0, [r8, #1]	@ zero_extendqisi2
 9293 012c FFF7FEFF 		bl	disk_write
 9294              	.LVL1075:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9295              		.loc 1 4062 10 view .LVU3141
 9296 0130 20B9     		cbnz	r0, .L737
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9297              		.loc 1 4062 86 is_stmt 1 discriminator 2 view .LVU3142
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9298              		.loc 1 4063 7 discriminator 2 view .LVU3143
4063:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9299              		.loc 1 4063 16 is_stmt 0 discriminator 2 view .LVU3144
 9300 0132 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 9301 0134 03F07F03 		and	r3, r3, #127
 9302 0138 2375     		strb	r3, [r4, #20]
 9303 013a E4E7     		b	.L700
 9304              	.L737:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9305              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU3145
 9306 013c 0125     		movs	r5, #1
 9307              	.LVL1076:
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9308              		.loc 1 4062 64 is_stmt 0 discriminator 1 view .LVU3146
 9309 013e 6575     		strb	r5, [r4, #21]
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 9310              		.loc 1 4062 64 is_stmt 1 discriminator 1 view .LVU3147
 9311 0140 79E7     		b	.L689
 9312              	.LVL1077:
 9313              	.L736:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9314              		.loc 1 4066 57 discriminator 1 view .LVU3148
 9315 0142 0125     		movs	r5, #1
 9316              	.LVL1078:
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9317              		.loc 1 4066 57 is_stmt 0 discriminator 1 view .LVU3149
 9318 0144 6575     		strb	r5, [r4, #21]
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9319              		.loc 1 4066 57 is_stmt 1 discriminator 1 view .LVU3150
 9320 0146 76E7     		b	.L689
 9321              	.LVL1079:
 9322              	.L690:
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9323              		.loc 1 4080 3 view .LVU3151
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9324              		.loc 1 4080 20 is_stmt 0 view .LVU3152
 9325 0148 E368     		ldr	r3, [r4, #12]
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9326              		.loc 1 4080 6 view .LVU3153
ARM GAS  /tmp/cc9mPikx.s 			page 316


 9327 014a B342     		cmp	r3, r6
 9328 014c 04D2     		bcs	.L703
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9329              		.loc 1 4080 53 discriminator 1 view .LVU3154
 9330 014e 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
4080:Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 9331              		.loc 1 4080 29 discriminator 1 view .LVU3155
 9332 0150 12F0020F 		tst	r2, #2
 9333 0154 00D1     		bne	.L703
4081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9334              		.loc 1 4081 8 view .LVU3156
 9335 0156 1E46     		mov	r6, r3
 9336              	.LVL1080:
 9337              	.L703:
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 9338              		.loc 1 4083 3 is_stmt 1 view .LVU3157
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 9339              		.loc 1 4083 9 is_stmt 0 view .LVU3158
 9340 0158 A369     		ldr	r3, [r4, #24]
 9341              	.LVL1081:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9342              		.loc 1 4084 3 is_stmt 1 view .LVU3159
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9343              		.loc 1 4084 12 is_stmt 0 view .LVU3160
 9344 015a 0022     		movs	r2, #0
 9345 015c A261     		str	r2, [r4, #24]
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 9346              		.loc 1 4085 3 is_stmt 1 view .LVU3161
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 9347              		.loc 1 4085 6 is_stmt 0 view .LVU3162
 9348 015e F6B1     		cbz	r6, .L704
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9349              		.loc 1 4086 4 is_stmt 1 view .LVU3163
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9350              		.loc 1 4086 19 is_stmt 0 view .LVU3164
 9351 0160 039A     		ldr	r2, [sp, #12]
 9352 0162 5189     		ldrh	r1, [r2, #10]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9353              		.loc 1 4086 29 view .LVU3165
 9354 0164 B2F80C90 		ldrh	r9, [r2, #12]
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 9355              		.loc 1 4086 8 view .LVU3166
 9356 0168 09FB01F9 		mul	r9, r9, r1
 9357              	.LVL1082:
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9358              		.loc 1 4087 4 is_stmt 1 view .LVU3167
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9359              		.loc 1 4087 7 is_stmt 0 view .LVU3168
 9360 016c 83B1     		cbz	r3, .L705
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9361              		.loc 1 4088 10 discriminator 1 view .LVU3169
 9362 016e 721E     		subs	r2, r6, #1
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9363              		.loc 1 4088 15 discriminator 1 view .LVU3170
 9364 0170 B2FBF9F2 		udiv	r2, r2, r9
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9365              		.loc 1 4088 31 discriminator 1 view .LVU3171
ARM GAS  /tmp/cc9mPikx.s 			page 317


 9366 0174 013B     		subs	r3, r3, #1
 9367              	.LVL1083:
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9368              		.loc 1 4088 36 discriminator 1 view .LVU3172
 9369 0176 B3FBF9F1 		udiv	r1, r3, r9
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 9370              		.loc 1 4087 18 discriminator 1 view .LVU3173
 9371 017a 8A42     		cmp	r2, r1
 9372 017c 08D3     		bcc	.L705
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9373              		.loc 1 4089 5 is_stmt 1 view .LVU3174
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9374              		.loc 1 4089 30 is_stmt 0 view .LVU3175
 9375 017e C9F10008 		rsb	r8, r9, #0
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9376              		.loc 1 4089 28 view .LVU3176
 9377 0182 03EA0803 		and	r3, r3, r8
 9378              	.LVL1084:
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9379              		.loc 1 4089 14 view .LVU3177
 9380 0186 A361     		str	r3, [r4, #24]
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9381              		.loc 1 4090 5 is_stmt 1 view .LVU3178
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9382              		.loc 1 4090 9 is_stmt 0 view .LVU3179
 9383 0188 A6EB0308 		sub	r8, r6, r3
 9384              	.LVL1085:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9385              		.loc 1 4091 5 is_stmt 1 view .LVU3180
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9386              		.loc 1 4091 10 is_stmt 0 view .LVU3181
 9387 018c E669     		ldr	r6, [r4, #28]
 9388              	.LVL1086:
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 9389              		.loc 1 4091 10 view .LVU3182
 9390 018e 04E0     		b	.L706
 9391              	.LVL1087:
 9392              	.L705:
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9393              		.loc 1 4093 5 is_stmt 1 view .LVU3183
4093:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9394              		.loc 1 4093 10 is_stmt 0 view .LVU3184
 9395 0190 A068     		ldr	r0, [r4, #8]
 9396              	.LVL1088:
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9397              		.loc 1 4095 5 is_stmt 1 view .LVU3185
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9398              		.loc 1 4095 8 is_stmt 0 view .LVU3186
 9399 0192 50B3     		cbz	r0, .L738
 9400              	.L707:
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9401              		.loc 1 4102 5 is_stmt 1 view .LVU3187
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9402              		.loc 1 4102 15 is_stmt 0 view .LVU3188
 9403 0194 E061     		str	r0, [r4, #28]
 9404 0196 B046     		mov	r8, r6
 9405 0198 0646     		mov	r6, r0
ARM GAS  /tmp/cc9mPikx.s 			page 318


 9406              	.LVL1089:
 9407              	.L706:
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9408              		.loc 1 4104 4 is_stmt 1 view .LVU3189
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9409              		.loc 1 4104 7 is_stmt 0 view .LVU3190
 9410 019a 002E     		cmp	r6, #0
 9411 019c 45D1     		bne	.L710
 9412              	.LVL1090:
 9413              	.L704:
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9414              		.loc 1 4134 3 is_stmt 1 view .LVU3191
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9415              		.loc 1 4134 26 is_stmt 0 view .LVU3192
 9416 019e A369     		ldr	r3, [r4, #24]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9417              		.loc 1 4134 42 view .LVU3193
 9418 01a0 E268     		ldr	r2, [r4, #12]
4134:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9419              		.loc 1 4134 6 view .LVU3194
 9420 01a2 9342     		cmp	r3, r2
 9421 01a4 04D9     		bls	.L719
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 9422              		.loc 1 4135 4 is_stmt 1 view .LVU3195
4135:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 9423              		.loc 1 4135 20 is_stmt 0 view .LVU3196
 9424 01a6 E360     		str	r3, [r4, #12]
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9425              		.loc 1 4136 4 is_stmt 1 view .LVU3197
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9426              		.loc 1 4136 13 is_stmt 0 view .LVU3198
 9427 01a8 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 9428 01aa 42F04002 		orr	r2, r2, #64
 9429 01ae 2275     		strb	r2, [r4, #20]
 9430              	.L719:
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9431              		.loc 1 4138 3 is_stmt 1 view .LVU3199
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9432              		.loc 1 4138 18 is_stmt 0 view .LVU3200
 9433 01b0 0398     		ldr	r0, [sp, #12]
 9434 01b2 8189     		ldrh	r1, [r0, #12]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9435              		.loc 1 4138 16 view .LVU3201
 9436 01b4 B3FBF1F2 		udiv	r2, r3, r1
 9437 01b8 01FB1233 		mls	r3, r1, r2, r3
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9438              		.loc 1 4138 6 view .LVU3202
 9439 01bc 002B     		cmp	r3, #0
 9440 01be 3FF43AAF 		beq	.L689
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9441              		.loc 1 4138 39 discriminator 1 view .LVU3203
 9442 01c2 226A     		ldr	r2, [r4, #32]
4138:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 9443              		.loc 1 4138 25 discriminator 1 view .LVU3204
 9444 01c4 B242     		cmp	r2, r6
 9445 01c6 3FF436AF 		beq	.L689
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
ARM GAS  /tmp/cc9mPikx.s 			page 319


 9446              		.loc 1 4141 4 is_stmt 1 view .LVU3205
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9447              		.loc 1 4141 8 is_stmt 0 view .LVU3206
 9448 01ca 94F91430 		ldrsb	r3, [r4, #20]
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9449              		.loc 1 4141 7 view .LVU3207
 9450 01ce 002B     		cmp	r3, #0
 9451 01d0 5CDB     		blt	.L739
 9452              	.L720:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9453              		.loc 1 4146 4 is_stmt 1 view .LVU3208
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9454              		.loc 1 4146 8 is_stmt 0 view .LVU3209
 9455 01d2 0123     		movs	r3, #1
 9456 01d4 3246     		mov	r2, r6
 9457 01d6 04F13001 		add	r1, r4, #48
 9458 01da 0398     		ldr	r0, [sp, #12]
 9459 01dc 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9460 01de FFF7FEFF 		bl	disk_read
 9461              	.LVL1091:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9462              		.loc 1 4146 7 view .LVU3210
 9463 01e2 0028     		cmp	r0, #0
 9464 01e4 61D1     		bne	.L740
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9465              		.loc 1 4146 79 is_stmt 1 discriminator 2 view .LVU3211
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9466              		.loc 1 4148 4 discriminator 2 view .LVU3212
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9467              		.loc 1 4148 13 is_stmt 0 discriminator 2 view .LVU3213
 9468 01e6 2662     		str	r6, [r4, #32]
 9469 01e8 25E7     		b	.L689
 9470              	.LVL1092:
 9471              	.L738:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9472              		.loc 1 4096 6 is_stmt 1 view .LVU3214
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9473              		.loc 1 4096 13 is_stmt 0 view .LVU3215
 9474 01ea 0021     		movs	r1, #0
 9475 01ec 2046     		mov	r0, r4
 9476              	.LVL1093:
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9477              		.loc 1 4096 13 view .LVU3216
 9478 01ee FFF7FEFF 		bl	create_chain
 9479              	.LVL1094:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9480              		.loc 1 4097 6 is_stmt 1 view .LVU3217
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9481              		.loc 1 4097 9 is_stmt 0 view .LVU3218
 9482 01f2 0128     		cmp	r0, #1
 9483 01f4 04D0     		beq	.L741
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9484              		.loc 1 4097 42 is_stmt 1 discriminator 2 view .LVU3219
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9485              		.loc 1 4098 6 discriminator 2 view .LVU3220
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9486              		.loc 1 4098 9 is_stmt 0 discriminator 2 view .LVU3221
ARM GAS  /tmp/cc9mPikx.s 			page 320


 9487 01f6 B0F1FF3F 		cmp	r0, #-1
 9488 01fa 04D0     		beq	.L742
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9489              		.loc 1 4098 52 is_stmt 1 discriminator 2 view .LVU3222
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9490              		.loc 1 4099 6 discriminator 2 view .LVU3223
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9491              		.loc 1 4099 21 is_stmt 0 discriminator 2 view .LVU3224
 9492 01fc A060     		str	r0, [r4, #8]
 9493 01fe C9E7     		b	.L707
 9494              	.L741:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9495              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU3225
 9496 0200 0225     		movs	r5, #2
 9497              	.LVL1095:
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9498              		.loc 1 4097 21 is_stmt 0 discriminator 1 view .LVU3226
 9499 0202 6575     		strb	r5, [r4, #21]
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9500              		.loc 1 4097 21 is_stmt 1 discriminator 1 view .LVU3227
 9501 0204 17E7     		b	.L689
 9502              	.LVL1096:
 9503              	.L742:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9504              		.loc 1 4098 30 discriminator 1 view .LVU3228
 9505 0206 0125     		movs	r5, #1
 9506              	.LVL1097:
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9507              		.loc 1 4098 30 is_stmt 0 discriminator 1 view .LVU3229
 9508 0208 6575     		strb	r5, [r4, #21]
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9509              		.loc 1 4098 30 is_stmt 1 discriminator 1 view .LVU3230
 9510 020a 14E7     		b	.L689
 9511              	.LVL1098:
 9512              	.L711:
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9513              		.loc 1 4120 7 view .LVU3231
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9514              		.loc 1 4120 14 is_stmt 0 view .LVU3232
 9515 020c 3146     		mov	r1, r6
 9516 020e 3846     		mov	r0, r7
 9517 0210 FFF7FEFF 		bl	get_fat
 9518              	.LVL1099:
 9519 0214 0646     		mov	r6, r0
 9520              	.LVL1100:
 9521              	.L713:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9522              		.loc 1 4122 6 is_stmt 1 view .LVU3233
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9523              		.loc 1 4122 9 is_stmt 0 view .LVU3234
 9524 0216 B6F1FF3F 		cmp	r6, #-1
 9525 021a 2CD0     		beq	.L743
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9526              		.loc 1 4122 52 is_stmt 1 discriminator 2 view .LVU3235
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9527              		.loc 1 4123 6 discriminator 2 view .LVU3236
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
ARM GAS  /tmp/cc9mPikx.s 			page 321


 9528              		.loc 1 4123 9 is_stmt 0 discriminator 2 view .LVU3237
 9529 021c 012E     		cmp	r6, #1
 9530 021e 2DD9     		bls	.L715
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9531              		.loc 1 4123 33 discriminator 2 view .LVU3238
 9532 0220 039B     		ldr	r3, [sp, #12]
 9533 0222 DB69     		ldr	r3, [r3, #28]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9534              		.loc 1 4123 20 discriminator 2 view .LVU3239
 9535 0224 B342     		cmp	r3, r6
 9536 0226 29D9     		bls	.L715
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9537              		.loc 1 4123 66 is_stmt 1 discriminator 4 view .LVU3240
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9538              		.loc 1 4124 6 discriminator 4 view .LVU3241
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9539              		.loc 1 4124 16 is_stmt 0 discriminator 4 view .LVU3242
 9540 0228 E661     		str	r6, [r4, #28]
 9541              	.LVL1101:
 9542              	.L710:
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 9543              		.loc 1 4105 11 is_stmt 1 view .LVU3243
 9544 022a C845     		cmp	r8, r9
 9545 022c 10D9     		bls	.L712
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9546              		.loc 1 4106 6 view .LVU3244
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9547              		.loc 1 4106 10 is_stmt 0 view .LVU3245
 9548 022e A8EB0908 		sub	r8, r8, r9
 9549              	.LVL1102:
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9550              		.loc 1 4106 18 is_stmt 1 view .LVU3246
4106:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 9551              		.loc 1 4106 27 is_stmt 0 view .LVU3247
 9552 0232 A369     		ldr	r3, [r4, #24]
 9553 0234 4B44     		add	r3, r3, r9
 9554 0236 A361     		str	r3, [r4, #24]
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9555              		.loc 1 4108 6 is_stmt 1 view .LVU3248
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9556              		.loc 1 4108 12 is_stmt 0 view .LVU3249
 9557 0238 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
 9558              		.loc 1 4108 9 view .LVU3250
 9559 023a 13F0020F 		tst	r3, #2
 9560 023e E5D0     		beq	.L711
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
 9561              		.loc 1 4109 7 is_stmt 1 view .LVU3251
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9562              		.loc 1 4113 7 view .LVU3252
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9563              		.loc 1 4113 14 is_stmt 0 view .LVU3253
 9564 0240 3146     		mov	r1, r6
 9565 0242 3846     		mov	r0, r7
 9566 0244 FFF7FEFF 		bl	create_chain
 9567              	.LVL1103:
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
ARM GAS  /tmp/cc9mPikx.s 			page 322


 9568              		.loc 1 4114 7 is_stmt 1 view .LVU3254
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 9569              		.loc 1 4114 10 is_stmt 0 view .LVU3255
 9570 0248 0646     		mov	r6, r0
 9571 024a 0028     		cmp	r0, #0
 9572 024c E3D1     		bne	.L713
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9573              		.loc 1 4115 12 view .LVU3256
 9574 024e 8046     		mov	r8, r0
 9575              	.LVL1104:
 9576              	.L712:
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9577              		.loc 1 4126 5 is_stmt 1 view .LVU3257
4126:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9578              		.loc 1 4126 14 is_stmt 0 view .LVU3258
 9579 0250 A369     		ldr	r3, [r4, #24]
 9580 0252 4344     		add	r3, r3, r8
 9581 0254 A361     		str	r3, [r4, #24]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9582              		.loc 1 4127 5 is_stmt 1 view .LVU3259
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9583              		.loc 1 4127 15 is_stmt 0 view .LVU3260
 9584 0256 0398     		ldr	r0, [sp, #12]
 9585 0258 8789     		ldrh	r7, [r0, #12]
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9586              		.loc 1 4127 13 view .LVU3261
 9587 025a B8FBF7F3 		udiv	r3, r8, r7
 9588 025e 07FB1383 		mls	r3, r7, r3, r8
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9589              		.loc 1 4127 8 view .LVU3262
 9590 0262 8BB1     		cbz	r3, .L728
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9591              		.loc 1 4128 6 is_stmt 1 view .LVU3263
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9592              		.loc 1 4128 14 is_stmt 0 view .LVU3264
 9593 0264 3146     		mov	r1, r6
 9594 0266 FFF7FEFF 		bl	clust2sect
 9595              	.LVL1105:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9596              		.loc 1 4129 6 is_stmt 1 view .LVU3265
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9597              		.loc 1 4129 9 is_stmt 0 view .LVU3266
 9598 026a 0646     		mov	r6, r0
 9599              	.LVL1106:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9600              		.loc 1 4129 9 view .LVU3267
 9601 026c 48B1     		cbz	r0, .L744
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9602              		.loc 1 4129 39 is_stmt 1 discriminator 2 view .LVU3268
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9603              		.loc 1 4130 6 discriminator 2 view .LVU3269
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9604              		.loc 1 4130 15 is_stmt 0 discriminator 2 view .LVU3270
 9605 026e B8FBF7F8 		udiv	r8, r8, r7
 9606              	.LVL1107:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9607              		.loc 1 4130 12 discriminator 2 view .LVU3271
ARM GAS  /tmp/cc9mPikx.s 			page 323


 9608 0272 4644     		add	r6, r6, r8
 9609              	.LVL1108:
4130:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9610              		.loc 1 4130 12 discriminator 2 view .LVU3272
 9611 0274 93E7     		b	.L704
 9612              	.LVL1109:
 9613              	.L743:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9614              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU3273
 9615 0276 0125     		movs	r5, #1
 9616              	.LVL1110:
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9617              		.loc 1 4122 30 is_stmt 0 discriminator 1 view .LVU3274
 9618 0278 6575     		strb	r5, [r4, #21]
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9619              		.loc 1 4122 30 is_stmt 1 discriminator 1 view .LVU3275
 9620 027a DCE6     		b	.L689
 9621              	.LVL1111:
 9622              	.L715:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9623              		.loc 1 4123 45 discriminator 3 view .LVU3276
 9624 027c 0225     		movs	r5, #2
 9625              	.LVL1112:
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9626              		.loc 1 4123 45 is_stmt 0 discriminator 3 view .LVU3277
 9627 027e 6575     		strb	r5, [r4, #21]
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9628              		.loc 1 4123 45 is_stmt 1 discriminator 3 view .LVU3278
 9629 0280 D9E6     		b	.L689
 9630              	.LVL1113:
 9631              	.L744:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9632              		.loc 1 4129 18 discriminator 1 view .LVU3279
 9633 0282 0225     		movs	r5, #2
 9634              	.LVL1114:
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9635              		.loc 1 4129 18 is_stmt 0 discriminator 1 view .LVU3280
 9636 0284 6575     		strb	r5, [r4, #21]
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9637              		.loc 1 4129 18 is_stmt 1 discriminator 1 view .LVU3281
 9638 0286 D6E6     		b	.L689
 9639              	.LVL1115:
 9640              	.L728:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9641              		.loc 1 4084 20 is_stmt 0 view .LVU3282
 9642 0288 1E46     		mov	r6, r3
 9643              	.LVL1116:
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 9644              		.loc 1 4084 20 view .LVU3283
 9645 028a 88E7     		b	.L704
 9646              	.LVL1117:
 9647              	.L739:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9648              		.loc 1 4142 5 is_stmt 1 view .LVU3284
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9649              		.loc 1 4142 9 is_stmt 0 view .LVU3285
 9650 028c 0123     		movs	r3, #1
ARM GAS  /tmp/cc9mPikx.s 			page 324


 9651 028e 04F13001 		add	r1, r4, #48
 9652 0292 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 9653 0294 FFF7FEFF 		bl	disk_write
 9654              	.LVL1118:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9655              		.loc 1 4142 8 view .LVU3286
 9656 0298 20B9     		cbnz	r0, .L745
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9657              		.loc 1 4142 84 is_stmt 1 discriminator 2 view .LVU3287
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9658              		.loc 1 4143 5 discriminator 2 view .LVU3288
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9659              		.loc 1 4143 14 is_stmt 0 discriminator 2 view .LVU3289
 9660 029a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 9661 029c 03F07F03 		and	r3, r3, #127
 9662 02a0 2375     		strb	r3, [r4, #20]
 9663 02a2 96E7     		b	.L720
 9664              	.L745:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9665              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU3290
 9666 02a4 0125     		movs	r5, #1
 9667              	.LVL1119:
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9668              		.loc 1 4142 62 is_stmt 0 discriminator 1 view .LVU3291
 9669 02a6 6575     		strb	r5, [r4, #21]
4142:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9670              		.loc 1 4142 62 is_stmt 1 discriminator 1 view .LVU3292
 9671 02a8 C5E6     		b	.L689
 9672              	.LVL1120:
 9673              	.L740:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9674              		.loc 1 4146 57 discriminator 1 view .LVU3293
 9675 02aa 0125     		movs	r5, #1
 9676              	.LVL1121:
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9677              		.loc 1 4146 57 is_stmt 0 discriminator 1 view .LVU3294
 9678 02ac 6575     		strb	r5, [r4, #21]
4146:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9679              		.loc 1 4146 57 is_stmt 1 discriminator 1 view .LVU3295
 9680 02ae C2E6     		b	.L689
 9681              	.LVL1122:
 9682              	.L725:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9683              		.loc 1 4048 9 is_stmt 0 view .LVU3296
 9684 02b0 1125     		movs	r5, #17
 9685              	.LVL1123:
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9686              		.loc 1 4048 9 view .LVU3297
 9687 02b2 C0E6     		b	.L689
 9688              		.cfi_endproc
 9689              	.LFE399:
 9691              		.section	.text.f_opendir,"ax",%progbits
 9692              		.align	1
 9693              		.global	f_opendir
 9694              		.syntax unified
 9695              		.thumb
 9696              		.thumb_func
ARM GAS  /tmp/cc9mPikx.s 			page 325


 9697              		.fpu fpv5-d16
 9699              	f_opendir:
 9700              	.LVL1124:
 9701              	.LFB400:
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9702              		.loc 1 4166 1 is_stmt 1 view -0
 9703              		.cfi_startproc
 9704              		@ args = 0, pretend = 0, frame = 16
 9705              		@ frame_needed = 0, uses_anonymous_args = 0
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9706              		.loc 1 4166 1 is_stmt 0 view .LVU3299
 9707 0000 30B5     		push	{r4, r5, lr}
 9708              	.LCFI93:
 9709              		.cfi_def_cfa_offset 12
 9710              		.cfi_offset 4, -12
 9711              		.cfi_offset 5, -8
 9712              		.cfi_offset 14, -4
 9713 0002 85B0     		sub	sp, sp, #20
 9714              	.LCFI94:
 9715              		.cfi_def_cfa_offset 32
 9716 0004 0191     		str	r1, [sp, #4]
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9717              		.loc 1 4167 2 is_stmt 1 view .LVU3300
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
 9718              		.loc 1 4168 2 view .LVU3301
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9719              		.loc 1 4169 2 view .LVU3302
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9720              		.loc 1 4173 2 view .LVU3303
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9721              		.loc 1 4173 5 is_stmt 0 view .LVU3304
 9722 0006 0028     		cmp	r0, #0
 9723 0008 3DD0     		beq	.L753
 9724 000a 0546     		mov	r5, r0
4176:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 9725              		.loc 1 4176 2 is_stmt 1 view .LVU3305
 9726              	.LVL1125:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9727              		.loc 1 4177 2 view .LVU3306
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9728              		.loc 1 4177 8 is_stmt 0 view .LVU3307
 9729 000c 0022     		movs	r2, #0
 9730 000e 03A9     		add	r1, sp, #12
 9731              	.LVL1126:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9732              		.loc 1 4177 8 view .LVU3308
 9733 0010 01A8     		add	r0, sp, #4
 9734              	.LVL1127:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9735              		.loc 1 4177 8 view .LVU3309
 9736 0012 FFF7FEFF 		bl	find_volume
 9737              	.LVL1128:
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9738              		.loc 1 4178 2 is_stmt 1 view .LVU3310
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9739              		.loc 1 4178 5 is_stmt 0 view .LVU3311
 9740 0016 0446     		mov	r4, r0
ARM GAS  /tmp/cc9mPikx.s 			page 326


 9741 0018 28B1     		cbz	r0, .L758
 9742              	.L748:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9743              		.loc 1 4220 2 is_stmt 1 view .LVU3312
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9744              		.loc 1 4220 5 is_stmt 0 view .LVU3313
 9745 001a 0CB1     		cbz	r4, .L747
 9746              	.L752:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9747              		.loc 1 4220 20 is_stmt 1 discriminator 1 view .LVU3314
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9748              		.loc 1 4220 28 is_stmt 0 discriminator 1 view .LVU3315
 9749 001c 0023     		movs	r3, #0
 9750 001e 2B60     		str	r3, [r5]
 9751              	.LVL1129:
 9752              	.L747:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9753              		.loc 1 4223 1 view .LVU3316
 9754 0020 2046     		mov	r0, r4
 9755 0022 05B0     		add	sp, sp, #20
 9756              	.LCFI95:
 9757              		.cfi_remember_state
 9758              		.cfi_def_cfa_offset 12
 9759              		@ sp needed
 9760 0024 30BD     		pop	{r4, r5, pc}
 9761              	.LVL1130:
 9762              	.L758:
 9763              	.LCFI96:
 9764              		.cfi_restore_state
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9765              		.loc 1 4179 3 is_stmt 1 view .LVU3317
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 9766              		.loc 1 4179 11 is_stmt 0 view .LVU3318
 9767 0026 039B     		ldr	r3, [sp, #12]
 9768 0028 2B60     		str	r3, [r5]
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 9769              		.loc 1 4180 18 is_stmt 1 view .LVU3319
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9770              		.loc 1 4181 3 view .LVU3320
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9771              		.loc 1 4181 9 is_stmt 0 view .LVU3321
 9772 002a 0199     		ldr	r1, [sp, #4]
 9773 002c 2846     		mov	r0, r5
 9774 002e FFF7FEFF 		bl	follow_path
 9775              	.LVL1131:
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9776              		.loc 1 4182 3 is_stmt 1 view .LVU3322
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9777              		.loc 1 4182 6 is_stmt 0 view .LVU3323
 9778 0032 0446     		mov	r4, r0
 9779 0034 18BB     		cbnz	r0, .L749
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9780              		.loc 1 4183 4 is_stmt 1 view .LVU3324
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9781              		.loc 1 4183 8 is_stmt 0 view .LVU3325
 9782 0036 95F92F30 		ldrsb	r3, [r5, #47]
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
ARM GAS  /tmp/cc9mPikx.s 			page 327


 9783              		.loc 1 4183 7 view .LVU3326
 9784 003a 002B     		cmp	r3, #0
 9785 003c 08DB     		blt	.L750
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9786              		.loc 1 4184 5 is_stmt 1 view .LVU3327
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9787              		.loc 1 4184 12 is_stmt 0 view .LVU3328
 9788 003e AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
4184:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 9789              		.loc 1 4184 8 view .LVU3329
 9790 0040 13F0100F 		tst	r3, #16
 9791 0044 1AD0     		beq	.L754
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9792              		.loc 1 4196 7 is_stmt 1 view .LVU3330
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9793              		.loc 1 4196 21 is_stmt 0 view .LVU3331
 9794 0046 296A     		ldr	r1, [r5, #32]
 9795 0048 0398     		ldr	r0, [sp, #12]
 9796 004a FFF7FEFF 		bl	ld_clust
 9797              	.LVL1132:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9798              		.loc 1 4196 19 view .LVU3332
 9799 004e A860     		str	r0, [r5, #8]
 9800              	.L750:
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
 9801              		.loc 1 4202 4 is_stmt 1 view .LVU3333
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9802              		.loc 1 4203 5 view .LVU3334
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9803              		.loc 1 4203 17 is_stmt 0 view .LVU3335
 9804 0050 039B     		ldr	r3, [sp, #12]
 9805 0052 DB88     		ldrh	r3, [r3, #6]
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9806              		.loc 1 4203 13 view .LVU3336
 9807 0054 AB80     		strh	r3, [r5, #4]	@ movhi
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9808              		.loc 1 4204 5 is_stmt 1 view .LVU3337
4204:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9809              		.loc 1 4204 11 is_stmt 0 view .LVU3338
 9810 0056 0021     		movs	r1, #0
 9811 0058 2846     		mov	r0, r5
 9812 005a FFF7FEFF 		bl	dir_sdi
 9813              	.LVL1133:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 9814              		.loc 1 4206 5 is_stmt 1 view .LVU3339
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
 9815              		.loc 1 4206 8 is_stmt 0 view .LVU3340
 9816 005e 0446     		mov	r4, r0
 9817 0060 68B9     		cbnz	r0, .L749
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9818              		.loc 1 4207 6 is_stmt 1 view .LVU3341
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9819              		.loc 1 4207 13 is_stmt 0 view .LVU3342
 9820 0062 AB68     		ldr	r3, [r5, #8]
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 9821              		.loc 1 4207 9 view .LVU3343
 9822 0064 13B9     		cbnz	r3, .L759
ARM GAS  /tmp/cc9mPikx.s 			page 328


4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9823              		.loc 1 4211 7 is_stmt 1 view .LVU3344
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 9824              		.loc 1 4211 19 is_stmt 0 view .LVU3345
 9825 0066 0023     		movs	r3, #0
 9826 0068 2B61     		str	r3, [r5, #16]
 9827 006a 08E0     		b	.L749
 9828              	.L759:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9829              		.loc 1 4208 7 is_stmt 1 view .LVU3346
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9830              		.loc 1 4208 21 is_stmt 0 view .LVU3347
 9831 006c 0021     		movs	r1, #0
 9832 006e 2846     		mov	r0, r5
 9833 0070 FFF7FEFF 		bl	inc_lock
 9834              	.LVL1134:
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
 9835              		.loc 1 4208 19 view .LVU3348
 9836 0074 2861     		str	r0, [r5, #16]
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9837              		.loc 1 4209 7 is_stmt 1 view .LVU3349
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9838              		.loc 1 4209 10 is_stmt 0 view .LVU3350
 9839 0076 10B9     		cbnz	r0, .L749
 9840              	.LVL1135:
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 9841              		.loc 1 4209 29 view .LVU3351
 9842 0078 1224     		movs	r4, #18
 9843 007a CEE7     		b	.L748
 9844              	.LVL1136:
 9845              	.L754:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9846              		.loc 1 4199 10 view .LVU3352
 9847 007c 0524     		movs	r4, #5
 9848              	.LVL1137:
 9849              	.L749:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 9850              		.loc 1 4217 16 is_stmt 1 view .LVU3353
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9851              		.loc 1 4218 3 view .LVU3354
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9852              		.loc 1 4218 6 is_stmt 0 view .LVU3355
 9853 007e 042C     		cmp	r4, #4
 9854 0080 CBD1     		bne	.L748
 9855              	.LVL1138:
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9856              		.loc 1 4218 30 view .LVU3356
 9857 0082 0524     		movs	r4, #5
 9858 0084 CAE7     		b	.L752
 9859              	.LVL1139:
 9860              	.L753:
4173:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9861              		.loc 1 4173 18 view .LVU3357
 9862 0086 0924     		movs	r4, #9
 9863 0088 CAE7     		b	.L747
 9864              		.cfi_endproc
 9865              	.LFE400:
ARM GAS  /tmp/cc9mPikx.s 			page 329


 9867              		.section	.text.f_closedir,"ax",%progbits
 9868              		.align	1
 9869              		.global	f_closedir
 9870              		.syntax unified
 9871              		.thumb
 9872              		.thumb_func
 9873              		.fpu fpv5-d16
 9875              	f_closedir:
 9876              	.LVL1140:
 9877              	.LFB401:
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9878              		.loc 1 4235 1 is_stmt 1 view -0
 9879              		.cfi_startproc
 9880              		@ args = 0, pretend = 0, frame = 8
 9881              		@ frame_needed = 0, uses_anonymous_args = 0
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9882              		.loc 1 4235 1 is_stmt 0 view .LVU3359
 9883 0000 10B5     		push	{r4, lr}
 9884              	.LCFI97:
 9885              		.cfi_def_cfa_offset 8
 9886              		.cfi_offset 4, -8
 9887              		.cfi_offset 14, -4
 9888 0002 82B0     		sub	sp, sp, #8
 9889              	.LCFI98:
 9890              		.cfi_def_cfa_offset 16
 9891 0004 0446     		mov	r4, r0
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9892              		.loc 1 4236 2 is_stmt 1 view .LVU3360
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9893              		.loc 1 4237 2 view .LVU3361
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9894              		.loc 1 4240 2 view .LVU3362
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9895              		.loc 1 4240 8 is_stmt 0 view .LVU3363
 9896 0006 01A9     		add	r1, sp, #4
 9897 0008 FFF7FEFF 		bl	validate
 9898              	.LVL1141:
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9899              		.loc 1 4241 2 is_stmt 1 view .LVU3364
4241:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 9900              		.loc 1 4241 5 is_stmt 0 view .LVU3365
 9901 000c 20B9     		cbnz	r0, .L761
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9902              		.loc 1 4243 3 is_stmt 1 view .LVU3366
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9903              		.loc 1 4243 14 is_stmt 0 view .LVU3367
 9904 000e 2369     		ldr	r3, [r4, #16]
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
 9905              		.loc 1 4243 6 view .LVU3368
 9906 0010 23B9     		cbnz	r3, .L764
 9907              	.L762:
 9908              	.LVL1142:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9909              		.loc 1 4246 3 is_stmt 1 view .LVU3369
4246:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9910              		.loc 1 4246 6 is_stmt 0 view .LVU3370
 9911 0012 08B9     		cbnz	r0, .L761
ARM GAS  /tmp/cc9mPikx.s 			page 330


4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9912              		.loc 1 4249 4 is_stmt 1 view .LVU3371
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9913              		.loc 1 4249 15 is_stmt 0 view .LVU3372
 9914 0014 0023     		movs	r3, #0
 9915 0016 2360     		str	r3, [r4]
 9916              	.LVL1143:
 9917              	.L761:
4255:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9918              		.loc 1 4255 2 is_stmt 1 view .LVU3373
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9919              		.loc 1 4256 1 is_stmt 0 view .LVU3374
 9920 0018 02B0     		add	sp, sp, #8
 9921              	.LCFI99:
 9922              		.cfi_remember_state
 9923              		.cfi_def_cfa_offset 8
 9924              		@ sp needed
 9925 001a 10BD     		pop	{r4, pc}
 9926              	.LVL1144:
 9927              	.L764:
 9928              	.LCFI100:
 9929              		.cfi_restore_state
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9930              		.loc 1 4244 4 is_stmt 1 view .LVU3375
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9931              		.loc 1 4244 10 is_stmt 0 view .LVU3376
 9932 001c 1846     		mov	r0, r3
 9933 001e FFF7FEFF 		bl	dec_lock
 9934              	.LVL1145:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 9935              		.loc 1 4244 10 view .LVU3377
 9936 0022 F6E7     		b	.L762
 9937              		.cfi_endproc
 9938              	.LFE401:
 9940              		.section	.text.f_readdir,"ax",%progbits
 9941              		.align	1
 9942              		.global	f_readdir
 9943              		.syntax unified
 9944              		.thumb
 9945              		.thumb_func
 9946              		.fpu fpv5-d16
 9948              	f_readdir:
 9949              	.LVL1146:
 9950              	.LFB402:
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9951              		.loc 1 4269 1 is_stmt 1 view -0
 9952              		.cfi_startproc
 9953              		@ args = 0, pretend = 0, frame = 8
 9954              		@ frame_needed = 0, uses_anonymous_args = 0
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9955              		.loc 1 4269 1 is_stmt 0 view .LVU3379
 9956 0000 70B5     		push	{r4, r5, r6, lr}
 9957              	.LCFI101:
 9958              		.cfi_def_cfa_offset 16
 9959              		.cfi_offset 4, -16
 9960              		.cfi_offset 5, -12
 9961              		.cfi_offset 6, -8
ARM GAS  /tmp/cc9mPikx.s 			page 331


 9962              		.cfi_offset 14, -4
 9963 0002 82B0     		sub	sp, sp, #8
 9964              	.LCFI102:
 9965              		.cfi_def_cfa_offset 24
 9966 0004 0446     		mov	r4, r0
 9967 0006 0D46     		mov	r5, r1
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 9968              		.loc 1 4270 2 is_stmt 1 view .LVU3380
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 9969              		.loc 1 4271 2 view .LVU3381
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9970              		.loc 1 4275 2 view .LVU3382
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9971              		.loc 1 4275 8 is_stmt 0 view .LVU3383
 9972 0008 01A9     		add	r1, sp, #4
 9973              	.LVL1147:
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9974              		.loc 1 4275 8 view .LVU3384
 9975 000a FFF7FEFF 		bl	validate
 9976              	.LVL1148:
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9977              		.loc 1 4276 2 is_stmt 1 view .LVU3385
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9978              		.loc 1 4276 5 is_stmt 0 view .LVU3386
 9979 000e 0646     		mov	r6, r0
 9980 0010 C0B9     		cbnz	r0, .L766
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9981              		.loc 1 4277 3 is_stmt 1 view .LVU3387
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9982              		.loc 1 4277 6 is_stmt 0 view .LVU3388
 9983 0012 95B1     		cbz	r5, .L771
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 9984              		.loc 1 4280 19 is_stmt 1 view .LVU3389
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9985              		.loc 1 4281 4 view .LVU3390
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9986              		.loc 1 4281 10 is_stmt 0 view .LVU3391
 9987 0014 0021     		movs	r1, #0
 9988 0016 2046     		mov	r0, r4
 9989              	.LVL1149:
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9990              		.loc 1 4281 10 view .LVU3392
 9991 0018 FFF7FEFF 		bl	dir_read
 9992              	.LVL1150:
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9993              		.loc 1 4282 4 is_stmt 1 view .LVU3393
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9994              		.loc 1 4282 7 is_stmt 0 view .LVU3394
 9995 001c 0428     		cmp	r0, #4
 9996 001e 00D0     		beq	.L768
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9997              		.loc 1 4283 4 is_stmt 1 view .LVU3395
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9998              		.loc 1 4283 7 is_stmt 0 view .LVU3396
 9999 0020 98B9     		cbnz	r0, .L769
 10000              	.L768:
 10001              	.LVL1151:
ARM GAS  /tmp/cc9mPikx.s 			page 332


4284:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 10002              		.loc 1 4284 5 is_stmt 1 view .LVU3397
 10003 0022 2946     		mov	r1, r5
 10004 0024 2046     		mov	r0, r4
 10005 0026 FFF7FEFF 		bl	get_fileinfo
 10006              	.LVL1152:
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 10007              		.loc 1 4285 5 view .LVU3398
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 10008              		.loc 1 4285 11 is_stmt 0 view .LVU3399
 10009 002a 0021     		movs	r1, #0
 10010 002c 2046     		mov	r0, r4
 10011 002e FFF7FEFF 		bl	dir_next
 10012              	.LVL1153:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10013              		.loc 1 4286 5 is_stmt 1 view .LVU3400
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10014              		.loc 1 4286 8 is_stmt 0 view .LVU3401
 10015 0032 0428     		cmp	r0, #4
 10016 0034 06D0     		beq	.L766
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 10017              		.loc 1 4285 11 view .LVU3402
 10018 0036 0646     		mov	r6, r0
 10019 0038 04E0     		b	.L766
 10020              	.L771:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10021              		.loc 1 4278 4 is_stmt 1 view .LVU3403
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10022              		.loc 1 4278 10 is_stmt 0 view .LVU3404
 10023 003a 0021     		movs	r1, #0
 10024 003c 2046     		mov	r0, r4
 10025              	.LVL1154:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10026              		.loc 1 4278 10 view .LVU3405
 10027 003e FFF7FEFF 		bl	dir_sdi
 10028              	.LVL1155:
 10029 0042 0646     		mov	r6, r0
 10030              	.LVL1156:
 10031              	.L766:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10032              		.loc 1 4288 17 is_stmt 1 view .LVU3406
4291:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10033              		.loc 1 4291 2 view .LVU3407
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10034              		.loc 1 4292 1 is_stmt 0 view .LVU3408
 10035 0044 3046     		mov	r0, r6
 10036 0046 02B0     		add	sp, sp, #8
 10037              	.LCFI103:
 10038              		.cfi_remember_state
 10039              		.cfi_def_cfa_offset 16
 10040              		@ sp needed
 10041 0048 70BD     		pop	{r4, r5, r6, pc}
 10042              	.LVL1157:
 10043              	.L769:
 10044              	.LCFI104:
 10045              		.cfi_restore_state
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
ARM GAS  /tmp/cc9mPikx.s 			page 333


 10046              		.loc 1 4281 10 view .LVU3409
 10047 004a 0646     		mov	r6, r0
 10048 004c FAE7     		b	.L766
 10049              		.cfi_endproc
 10050              	.LFE402:
 10052              		.section	.text.f_stat,"ax",%progbits
 10053              		.align	1
 10054              		.global	f_stat
 10055              		.syntax unified
 10056              		.thumb
 10057              		.thumb_func
 10058              		.fpu fpv5-d16
 10060              	f_stat:
 10061              	.LVL1158:
 10062              	.LFB403:
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10063              		.loc 1 4357 1 is_stmt 1 view -0
 10064              		.cfi_startproc
 10065              		@ args = 0, pretend = 0, frame = 64
 10066              		@ frame_needed = 0, uses_anonymous_args = 0
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10067              		.loc 1 4357 1 is_stmt 0 view .LVU3411
 10068 0000 30B5     		push	{r4, r5, lr}
 10069              	.LCFI105:
 10070              		.cfi_def_cfa_offset 12
 10071              		.cfi_offset 4, -12
 10072              		.cfi_offset 5, -8
 10073              		.cfi_offset 14, -4
 10074 0002 91B0     		sub	sp, sp, #68
 10075              	.LCFI106:
 10076              		.cfi_def_cfa_offset 80
 10077 0004 0190     		str	r0, [sp, #4]
 10078 0006 0C46     		mov	r4, r1
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 10079              		.loc 1 4358 2 is_stmt 1 view .LVU3412
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10080              		.loc 1 4359 2 view .LVU3413
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10081              		.loc 1 4364 2 view .LVU3414
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10082              		.loc 1 4364 8 is_stmt 0 view .LVU3415
 10083 0008 0022     		movs	r2, #0
 10084 000a 03A9     		add	r1, sp, #12
 10085              	.LVL1159:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10086              		.loc 1 4364 8 view .LVU3416
 10087 000c 01A8     		add	r0, sp, #4
 10088              	.LVL1160:
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10089              		.loc 1 4364 8 view .LVU3417
 10090 000e FFF7FEFF 		bl	find_volume
 10091              	.LVL1161:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 10092              		.loc 1 4365 2 is_stmt 1 view .LVU3418
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
 10093              		.loc 1 4365 5 is_stmt 0 view .LVU3419
 10094 0012 0546     		mov	r5, r0
ARM GAS  /tmp/cc9mPikx.s 			page 334


 10095 0014 10B1     		cbz	r0, .L776
 10096              	.LVL1162:
 10097              	.L773:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10098              		.loc 1 4375 16 is_stmt 1 view .LVU3420
4378:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10099              		.loc 1 4378 2 view .LVU3421
4379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10100              		.loc 1 4379 1 is_stmt 0 view .LVU3422
 10101 0016 2846     		mov	r0, r5
 10102 0018 11B0     		add	sp, sp, #68
 10103              	.LCFI107:
 10104              		.cfi_remember_state
 10105              		.cfi_def_cfa_offset 12
 10106              		@ sp needed
 10107 001a 30BD     		pop	{r4, r5, pc}
 10108              	.LVL1163:
 10109              	.L776:
 10110              	.LCFI108:
 10111              		.cfi_restore_state
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 10112              		.loc 1 4366 25 is_stmt 1 view .LVU3423
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 10113              		.loc 1 4367 3 view .LVU3424
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 10114              		.loc 1 4367 9 is_stmt 0 view .LVU3425
 10115 001c 0199     		ldr	r1, [sp, #4]
 10116 001e 03A8     		add	r0, sp, #12
 10117              	.LVL1164:
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 10118              		.loc 1 4367 9 view .LVU3426
 10119 0020 FFF7FEFF 		bl	follow_path
 10120              	.LVL1165:
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 10121              		.loc 1 4368 3 is_stmt 1 view .LVU3427
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 10122              		.loc 1 4368 6 is_stmt 0 view .LVU3428
 10123 0024 0546     		mov	r5, r0
 10124 0026 0028     		cmp	r0, #0
 10125 0028 F5D1     		bne	.L773
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10126              		.loc 1 4369 4 is_stmt 1 view .LVU3429
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10127              		.loc 1 4369 8 is_stmt 0 view .LVU3430
 10128 002a 9DF93B30 		ldrsb	r3, [sp, #59]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10129              		.loc 1 4369 7 view .LVU3431
 10130 002e 002B     		cmp	r3, #0
 10131 0030 06DB     		blt	.L774
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10132              		.loc 1 4372 5 is_stmt 1 view .LVU3432
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10133              		.loc 1 4372 8 is_stmt 0 view .LVU3433
 10134 0032 002C     		cmp	r4, #0
 10135 0034 EFD0     		beq	.L773
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10136              		.loc 1 4372 14 is_stmt 1 discriminator 1 view .LVU3434
ARM GAS  /tmp/cc9mPikx.s 			page 335


 10137 0036 2146     		mov	r1, r4
 10138 0038 03A8     		add	r0, sp, #12
 10139              	.LVL1166:
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10140              		.loc 1 4372 14 is_stmt 0 discriminator 1 view .LVU3435
 10141 003a FFF7FEFF 		bl	get_fileinfo
 10142              	.LVL1167:
 10143 003e EAE7     		b	.L773
 10144              	.LVL1168:
 10145              	.L774:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
 10146              		.loc 1 4370 9 view .LVU3436
 10147 0040 0625     		movs	r5, #6
 10148 0042 E8E7     		b	.L773
 10149              		.cfi_endproc
 10150              	.LFE403:
 10152              		.section	.text.f_getfree,"ax",%progbits
 10153              		.align	1
 10154              		.global	f_getfree
 10155              		.syntax unified
 10156              		.thumb
 10157              		.thumb_func
 10158              		.fpu fpv5-d16
 10160              	f_getfree:
 10161              	.LVL1169:
 10162              	.LFB404:
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10163              		.loc 1 4393 1 is_stmt 1 view -0
 10164              		.cfi_startproc
 10165              		@ args = 0, pretend = 0, frame = 32
 10166              		@ frame_needed = 0, uses_anonymous_args = 0
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10167              		.loc 1 4393 1 is_stmt 0 view .LVU3438
 10168 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10169              	.LCFI109:
 10170              		.cfi_def_cfa_offset 36
 10171              		.cfi_offset 4, -36
 10172              		.cfi_offset 5, -32
 10173              		.cfi_offset 6, -28
 10174              		.cfi_offset 7, -24
 10175              		.cfi_offset 8, -20
 10176              		.cfi_offset 9, -16
 10177              		.cfi_offset 10, -12
 10178              		.cfi_offset 11, -8
 10179              		.cfi_offset 14, -4
 10180 0004 89B0     		sub	sp, sp, #36
 10181              	.LCFI110:
 10182              		.cfi_def_cfa_offset 72
 10183 0006 0190     		str	r0, [sp, #4]
 10184 0008 8846     		mov	r8, r1
 10185 000a 1446     		mov	r4, r2
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10186              		.loc 1 4394 2 is_stmt 1 view .LVU3439
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
 10187              		.loc 1 4395 2 view .LVU3440
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 10188              		.loc 1 4396 2 view .LVU3441
ARM GAS  /tmp/cc9mPikx.s 			page 336


4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 10189              		.loc 1 4397 2 view .LVU3442
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
 10190              		.loc 1 4398 2 view .LVU3443
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10191              		.loc 1 4399 2 view .LVU3444
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10192              		.loc 1 4403 2 view .LVU3445
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10193              		.loc 1 4403 8 is_stmt 0 view .LVU3446
 10194 000c 0022     		movs	r2, #0
 10195              	.LVL1170:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10196              		.loc 1 4403 8 view .LVU3447
 10197 000e 07A9     		add	r1, sp, #28
 10198              	.LVL1171:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10199              		.loc 1 4403 8 view .LVU3448
 10200 0010 01A8     		add	r0, sp, #4
 10201              	.LVL1172:
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10202              		.loc 1 4403 8 view .LVU3449
 10203 0012 FFF7FEFF 		bl	find_volume
 10204              	.LVL1173:
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 10205              		.loc 1 4404 2 is_stmt 1 view .LVU3450
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 10206              		.loc 1 4404 5 is_stmt 0 view .LVU3451
 10207 0016 8146     		mov	r9, r0
 10208 0018 40B9     		cbnz	r0, .L778
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 10209              		.loc 1 4405 3 is_stmt 1 view .LVU3452
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
 10210              		.loc 1 4405 10 is_stmt 0 view .LVU3453
 10211 001a 079B     		ldr	r3, [sp, #28]
 10212 001c 2360     		str	r3, [r4]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10213              		.loc 1 4407 3 is_stmt 1 view .LVU3454
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10214              		.loc 1 4407 9 is_stmt 0 view .LVU3455
 10215 001e 9A69     		ldr	r2, [r3, #24]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10216              		.loc 1 4407 26 view .LVU3456
 10217 0020 DD69     		ldr	r5, [r3, #28]
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10218              		.loc 1 4407 37 view .LVU3457
 10219 0022 A91E     		subs	r1, r5, #2
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 10220              		.loc 1 4407 6 view .LVU3458
 10221 0024 8A42     		cmp	r2, r1
 10222 0026 05D8     		bhi	.L779
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10223              		.loc 1 4408 4 is_stmt 1 view .LVU3459
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10224              		.loc 1 4408 11 is_stmt 0 view .LVU3460
 10225 0028 C8F80020 		str	r2, [r8]
 10226              	.LVL1174:
ARM GAS  /tmp/cc9mPikx.s 			page 337


 10227              	.L778:
4465:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10228              		.loc 1 4465 2 is_stmt 1 view .LVU3461
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10229              		.loc 1 4466 1 is_stmt 0 view .LVU3462
 10230 002c 4846     		mov	r0, r9
 10231 002e 09B0     		add	sp, sp, #36
 10232              	.LCFI111:
 10233              		.cfi_remember_state
 10234              		.cfi_def_cfa_offset 36
 10235              		@ sp needed
 10236 0030 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10237              	.LVL1175:
 10238              	.L779:
 10239              	.LCFI112:
 10240              		.cfi_restore_state
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 10241              		.loc 1 4411 4 is_stmt 1 view .LVU3463
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 10242              		.loc 1 4412 4 view .LVU3464
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 10243              		.loc 1 4412 10 is_stmt 0 view .LVU3465
 10244 0034 1E78     		ldrb	r6, [r3]	@ zero_extendqisi2
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
 10245              		.loc 1 4412 7 view .LVU3466
 10246 0036 012E     		cmp	r6, #1
 10247 0038 05D0     		beq	.L793
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 10248              		.loc 1 4440 6 is_stmt 1 view .LVU3467
 10249              	.LVL1176:
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 10250              		.loc 1 4440 27 view .LVU3468
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 10251              		.loc 1 4440 32 is_stmt 0 view .LVU3469
 10252 003a D3F828A0 		ldr	r10, [r3, #40]
 10253              	.LVL1177:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10254              		.loc 1 4441 6 is_stmt 1 view .LVU3470
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10255              		.loc 1 4441 13 view .LVU3471
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10256              		.loc 1 4441 15 is_stmt 0 view .LVU3472
 10257 003e 0024     		movs	r4, #0
 10258              	.LVL1178:
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 10259              		.loc 1 4441 8 view .LVU3473
 10260 0040 2646     		mov	r6, r4
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 10261              		.loc 1 4411 10 view .LVU3474
 10262 0042 2746     		mov	r7, r4
 10263 0044 2FE0     		b	.L789
 10264              	.LVL1179:
 10265              	.L793:
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10266              		.loc 1 4413 5 is_stmt 1 view .LVU3475
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10267              		.loc 1 4413 15 view .LVU3476
ARM GAS  /tmp/cc9mPikx.s 			page 338


4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10268              		.loc 1 4413 22 is_stmt 0 view .LVU3477
 10269 0046 0293     		str	r3, [sp, #8]
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 10270              		.loc 1 4413 10 view .LVU3478
 10271 0048 0224     		movs	r4, #2
 10272              	.LVL1180:
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 10273              		.loc 1 4411 10 view .LVU3479
 10274 004a 0027     		movs	r7, #0
 10275 004c 04E0     		b	.L783
 10276              	.LVL1181:
 10277              	.L782:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10278              		.loc 1 4419 13 is_stmt 1 view .LVU3480
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10279              		.loc 1 4419 5 is_stmt 0 view .LVU3481
 10280 004e 0134     		adds	r4, r4, #1
 10281              	.LVL1182:
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10282              		.loc 1 4419 25 view .LVU3482
 10283 0050 079B     		ldr	r3, [sp, #28]
 10284 0052 DB69     		ldr	r3, [r3, #28]
4419:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10285              		.loc 1 4419 5 view .LVU3483
 10286 0054 A342     		cmp	r3, r4
 10287 0056 35D9     		bls	.L781
 10288              	.LVL1183:
 10289              	.L783:
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 10290              		.loc 1 4414 5 is_stmt 1 view .LVU3484
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 10291              		.loc 1 4415 6 view .LVU3485
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 10292              		.loc 1 4415 13 is_stmt 0 view .LVU3486
 10293 0058 2146     		mov	r1, r4
 10294 005a 02A8     		add	r0, sp, #8
 10295 005c FFF7FEFF 		bl	get_fat
 10296              	.LVL1184:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10297              		.loc 1 4416 6 is_stmt 1 view .LVU3487
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10298              		.loc 1 4416 9 is_stmt 0 view .LVU3488
 10299 0060 B0F1FF3F 		cmp	r0, #-1
 10300 0064 2DD0     		beq	.L790
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10301              		.loc 1 4417 6 is_stmt 1 view .LVU3489
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10302              		.loc 1 4417 9 is_stmt 0 view .LVU3490
 10303 0066 0128     		cmp	r0, #1
 10304 0068 35D0     		beq	.L791
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10305              		.loc 1 4418 6 is_stmt 1 view .LVU3491
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10306              		.loc 1 4418 9 is_stmt 0 view .LVU3492
 10307 006a 0028     		cmp	r0, #0
 10308 006c EFD1     		bne	.L782
ARM GAS  /tmp/cc9mPikx.s 			page 339


4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10309              		.loc 1 4418 21 is_stmt 1 discriminator 1 view .LVU3493
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10310              		.loc 1 4418 26 is_stmt 0 discriminator 1 view .LVU3494
 10311 006e 0137     		adds	r7, r7, #1
 10312              	.LVL1185:
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 10313              		.loc 1 4418 26 discriminator 1 view .LVU3495
 10314 0070 EDE7     		b	.L782
 10315              	.LVL1186:
 10316              	.L794:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10317              		.loc 1 4444 8 is_stmt 1 view .LVU3496
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10318              		.loc 1 4444 14 is_stmt 0 view .LVU3497
 10319 0072 0AF1010B 		add	fp, r10, #1
 10320              	.LVL1187:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10321              		.loc 1 4444 14 view .LVU3498
 10322 0076 5146     		mov	r1, r10
 10323 0078 0798     		ldr	r0, [sp, #28]
 10324 007a FFF7FEFF 		bl	move_window
 10325              	.LVL1188:
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 10326              		.loc 1 4445 8 is_stmt 1 view .LVU3499
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 10327              		.loc 1 4445 11 is_stmt 0 view .LVU3500
 10328 007e 8146     		mov	r9, r0
 10329 0080 00BB     		cbnz	r0, .L781
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 10330              		.loc 1 4446 8 is_stmt 1 view .LVU3501
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 10331              		.loc 1 4446 14 is_stmt 0 view .LVU3502
 10332 0082 079B     		ldr	r3, [sp, #28]
4446:Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 10333              		.loc 1 4446 10 view .LVU3503
 10334 0084 03F13804 		add	r4, r3, #56
 10335              	.LVL1189:
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10336              		.loc 1 4447 8 is_stmt 1 view .LVU3504
4447:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10337              		.loc 1 4447 12 is_stmt 0 view .LVU3505
 10338 0088 9E89     		ldrh	r6, [r3, #12]
 10339              	.LVL1190:
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 10340              		.loc 1 4444 14 view .LVU3506
 10341 008a DA46     		mov	r10, fp
 10342 008c 0DE0     		b	.L784
 10343              	.LVL1191:
 10344              	.L795:
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10345              		.loc 1 4450 8 is_stmt 1 view .LVU3507
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10346              		.loc 1 4450 12 is_stmt 0 view .LVU3508
 10347 008e 2046     		mov	r0, r4
 10348 0090 FFF7FEFF 		bl	ld_word
 10349              	.LVL1192:
ARM GAS  /tmp/cc9mPikx.s 			page 340


4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10350              		.loc 1 4450 11 view .LVU3509
 10351 0094 00B9     		cbnz	r0, .L786
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10352              		.loc 1 4450 29 is_stmt 1 discriminator 1 view .LVU3510
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 10353              		.loc 1 4450 34 is_stmt 0 discriminator 1 view .LVU3511
 10354 0096 0137     		adds	r7, r7, #1
 10355              	.LVL1193:
 10356              	.L786:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10357              		.loc 1 4451 8 is_stmt 1 view .LVU3512
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10358              		.loc 1 4451 10 is_stmt 0 view .LVU3513
 10359 0098 0234     		adds	r4, r4, #2
 10360              	.LVL1194:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10361              		.loc 1 4451 16 is_stmt 1 view .LVU3514
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10362              		.loc 1 4451 18 is_stmt 0 view .LVU3515
 10363 009a 023E     		subs	r6, r6, #2
 10364              	.LVL1195:
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
 10365              		.loc 1 4451 18 view .LVU3516
 10366 009c 01E0     		b	.L787
 10367              	.L788:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10368              		.loc 1 4454 8 is_stmt 1 view .LVU3517
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10369              		.loc 1 4454 10 is_stmt 0 view .LVU3518
 10370 009e 0434     		adds	r4, r4, #4
 10371              	.LVL1196:
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10372              		.loc 1 4454 16 is_stmt 1 view .LVU3519
4454:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10373              		.loc 1 4454 18 is_stmt 0 view .LVU3520
 10374 00a0 043E     		subs	r6, r6, #4
 10375              	.LVL1197:
 10376              	.L787:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10377              		.loc 1 4456 14 is_stmt 1 view .LVU3521
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10378              		.loc 1 4456 6 is_stmt 0 view .LVU3522
 10379 00a2 013D     		subs	r5, r5, #1
 10380              	.LVL1198:
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10381              		.loc 1 4456 6 view .LVU3523
 10382 00a4 0ED0     		beq	.L781
 10383              	.LVL1199:
 10384              	.L789:
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 10385              		.loc 1 4442 6 is_stmt 1 view .LVU3524
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 10386              		.loc 1 4443 7 view .LVU3525
4443:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 10387              		.loc 1 4443 10 is_stmt 0 view .LVU3526
 10388 00a6 002E     		cmp	r6, #0
ARM GAS  /tmp/cc9mPikx.s 			page 341


 10389 00a8 E3D0     		beq	.L794
 10390              	.LVL1200:
 10391              	.L784:
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10392              		.loc 1 4449 7 is_stmt 1 view .LVU3527
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10393              		.loc 1 4449 13 is_stmt 0 view .LVU3528
 10394 00aa 079B     		ldr	r3, [sp, #28]
 10395 00ac 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 10396              		.loc 1 4449 10 view .LVU3529
 10397 00ae 022B     		cmp	r3, #2
 10398 00b0 EDD0     		beq	.L795
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10399              		.loc 1 4453 8 is_stmt 1 view .LVU3530
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10400              		.loc 1 4453 13 is_stmt 0 view .LVU3531
 10401 00b2 2046     		mov	r0, r4
 10402 00b4 FFF7FEFF 		bl	ld_dword
 10403              	.LVL1201:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10404              		.loc 1 4453 11 view .LVU3532
 10405 00b8 30F07043 		bics	r3, r0, #-268435456
 10406 00bc EFD1     		bne	.L788
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10407              		.loc 1 4453 45 is_stmt 1 discriminator 1 view .LVU3533
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10408              		.loc 1 4453 50 is_stmt 0 discriminator 1 view .LVU3534
 10409 00be 0137     		adds	r7, r7, #1
 10410              	.LVL1202:
4453:Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 10411              		.loc 1 4453 50 discriminator 1 view .LVU3535
 10412 00c0 EDE7     		b	.L788
 10413              	.LVL1203:
 10414              	.L790:
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 10415              		.loc 1 4416 36 view .LVU3536
 10416 00c2 B146     		mov	r9, r6
 10417              	.LVL1204:
 10418              	.L781:
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 10419              		.loc 1 4459 4 is_stmt 1 view .LVU3537
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 10420              		.loc 1 4459 11 is_stmt 0 view .LVU3538
 10421 00c4 C8F80070 		str	r7, [r8]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10422              		.loc 1 4460 4 is_stmt 1 view .LVU3539
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10423              		.loc 1 4460 6 is_stmt 0 view .LVU3540
 10424 00c8 079B     		ldr	r3, [sp, #28]
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 10425              		.loc 1 4460 18 view .LVU3541
 10426 00ca 9F61     		str	r7, [r3, #24]
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10427              		.loc 1 4461 4 is_stmt 1 view .LVU3542
4461:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10428              		.loc 1 4461 17 is_stmt 0 view .LVU3543
ARM GAS  /tmp/cc9mPikx.s 			page 342


 10429 00cc 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 10430 00ce 42F00102 		orr	r2, r2, #1
 10431 00d2 1A71     		strb	r2, [r3, #4]
 10432 00d4 AAE7     		b	.L778
 10433              	.LVL1205:
 10434              	.L791:
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 10435              		.loc 1 4417 27 view .LVU3544
 10436 00d6 4FF00209 		mov	r9, #2
 10437 00da F3E7     		b	.L781
 10438              		.cfi_endproc
 10439              	.LFE404:
 10441              		.section	.text.f_truncate,"ax",%progbits
 10442              		.align	1
 10443              		.global	f_truncate
 10444              		.syntax unified
 10445              		.thumb
 10446              		.thumb_func
 10447              		.fpu fpv5-d16
 10449              	f_truncate:
 10450              	.LVL1206:
 10451              	.LFB405:
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10452              		.loc 1 4478 1 is_stmt 1 view -0
 10453              		.cfi_startproc
 10454              		@ args = 0, pretend = 0, frame = 8
 10455              		@ frame_needed = 0, uses_anonymous_args = 0
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10456              		.loc 1 4478 1 is_stmt 0 view .LVU3546
 10457 0000 30B5     		push	{r4, r5, lr}
 10458              	.LCFI113:
 10459              		.cfi_def_cfa_offset 12
 10460              		.cfi_offset 4, -12
 10461              		.cfi_offset 5, -8
 10462              		.cfi_offset 14, -4
 10463 0002 83B0     		sub	sp, sp, #12
 10464              	.LCFI114:
 10465              		.cfi_def_cfa_offset 24
 10466 0004 0446     		mov	r4, r0
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10467              		.loc 1 4479 2 is_stmt 1 view .LVU3547
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 10468              		.loc 1 4480 2 view .LVU3548
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10469              		.loc 1 4481 2 view .LVU3549
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 10470              		.loc 1 4484 2 view .LVU3550
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 10471              		.loc 1 4484 8 is_stmt 0 view .LVU3551
 10472 0006 01A9     		add	r1, sp, #4
 10473 0008 FFF7FEFF 		bl	validate
 10474              	.LVL1207:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10475              		.loc 1 4485 2 is_stmt 1 view .LVU3552
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10476              		.loc 1 4485 5 is_stmt 0 view .LVU3553
 10477 000c 0546     		mov	r5, r0
ARM GAS  /tmp/cc9mPikx.s 			page 343


 10478 000e E8B9     		cbnz	r0, .L799
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10479              		.loc 1 4485 27 discriminator 2 view .LVU3554
 10480 0010 657D     		ldrb	r5, [r4, #21]	@ zero_extendqisi2
 10481              	.LVL1208:
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10482              		.loc 1 4485 19 discriminator 2 view .LVU3555
 10483 0012 DDB9     		cbnz	r5, .L799
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10484              		.loc 1 4486 2 is_stmt 1 view .LVU3556
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10485              		.loc 1 4486 10 is_stmt 0 view .LVU3557
 10486 0014 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10487              		.loc 1 4486 5 view .LVU3558
 10488 0016 13F0020F 		tst	r3, #2
 10489 001a 45D0     		beq	.L805
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10490              		.loc 1 4488 2 is_stmt 1 view .LVU3559
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10491              		.loc 1 4488 8 is_stmt 0 view .LVU3560
 10492 001c A369     		ldr	r3, [r4, #24]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10493              		.loc 1 4488 24 view .LVU3561
 10494 001e E268     		ldr	r2, [r4, #12]
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10495              		.loc 1 4488 5 view .LVU3562
 10496 0020 9342     		cmp	r3, r2
 10497 0022 13D2     		bcs	.L799
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 10498              		.loc 1 4489 3 is_stmt 1 view .LVU3563
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
 10499              		.loc 1 4489 6 is_stmt 0 view .LVU3564
 10500 0024 ABB9     		cbnz	r3, .L800
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10501              		.loc 1 4490 4 is_stmt 1 view .LVU3565
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10502              		.loc 1 4490 10 is_stmt 0 view .LVU3566
 10503 0026 0022     		movs	r2, #0
 10504 0028 A168     		ldr	r1, [r4, #8]
 10505 002a 2046     		mov	r0, r4
 10506 002c FFF7FEFF 		bl	remove_chain
 10507              	.LVL1209:
 10508 0030 0546     		mov	r5, r0
 10509              	.LVL1210:
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 10510              		.loc 1 4491 4 is_stmt 1 view .LVU3567
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
 10511              		.loc 1 4491 19 is_stmt 0 view .LVU3568
 10512 0032 0023     		movs	r3, #0
 10513 0034 A360     		str	r3, [r4, #8]
 10514              	.LVL1211:
 10515              	.L801:
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10516              		.loc 1 4501 3 is_stmt 1 view .LVU3569
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10517              		.loc 1 4501 23 is_stmt 0 view .LVU3570
ARM GAS  /tmp/cc9mPikx.s 			page 344


 10518 0036 A369     		ldr	r3, [r4, #24]
4501:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10519              		.loc 1 4501 19 view .LVU3571
 10520 0038 E360     		str	r3, [r4, #12]
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10521              		.loc 1 4502 3 is_stmt 1 view .LVU3572
4502:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 10522              		.loc 1 4502 12 is_stmt 0 view .LVU3573
 10523 003a 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 10524 003c 43F04003 		orr	r3, r3, #64
 10525 0040 2375     		strb	r3, [r4, #20]
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10526              		.loc 1 4504 3 is_stmt 1 view .LVU3574
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10527              		.loc 1 4504 6 is_stmt 0 view .LVU3575
 10528 0042 15B9     		cbnz	r5, .L803
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10529              		.loc 1 4504 20 discriminator 1 view .LVU3576
 10530 0044 13F0800F 		tst	r3, #128
 10531 0048 1DD1     		bne	.L810
 10532              	.L803:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10533              		.loc 1 4512 3 is_stmt 1 view .LVU3577
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10534              		.loc 1 4512 6 is_stmt 0 view .LVU3578
 10535 004a 5DBB     		cbnz	r5, .L804
 10536              	.LVL1212:
 10537              	.L799:
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10538              		.loc 1 4516 1 view .LVU3579
 10539 004c 2846     		mov	r0, r5
 10540 004e 03B0     		add	sp, sp, #12
 10541              	.LCFI115:
 10542              		.cfi_remember_state
 10543              		.cfi_def_cfa_offset 12
 10544              		@ sp needed
 10545 0050 30BD     		pop	{r4, r5, pc}
 10546              	.LVL1213:
 10547              	.L800:
 10548              	.LCFI116:
 10549              		.cfi_restore_state
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10550              		.loc 1 4493 4 is_stmt 1 view .LVU3580
4493:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10551              		.loc 1 4493 10 is_stmt 0 view .LVU3581
 10552 0052 E169     		ldr	r1, [r4, #28]
 10553 0054 2046     		mov	r0, r4
 10554 0056 FFF7FEFF 		bl	get_fat
 10555              	.LVL1214:
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10556              		.loc 1 4494 4 is_stmt 1 view .LVU3582
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10557              		.loc 1 4495 4 view .LVU3583
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10558              		.loc 1 4495 7 is_stmt 0 view .LVU3584
 10559 005a B0F1FF3F 		cmp	r0, #-1
 10560 005e 0ED0     		beq	.L811
ARM GAS  /tmp/cc9mPikx.s 			page 345


 10561              	.L802:
 10562              	.LVL1215:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10563              		.loc 1 4496 4 is_stmt 1 view .LVU3585
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10564              		.loc 1 4496 7 is_stmt 0 view .LVU3586
 10565 0060 0128     		cmp	r0, #1
 10566 0062 0ED0     		beq	.L807
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10567              		.loc 1 4497 4 is_stmt 1 view .LVU3587
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10568              		.loc 1 4497 7 is_stmt 0 view .LVU3588
 10569 0064 002D     		cmp	r5, #0
 10570 0066 E6D1     		bne	.L801
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10571              		.loc 1 4497 32 discriminator 1 view .LVU3589
 10572 0068 019B     		ldr	r3, [sp, #4]
 10573 006a DB69     		ldr	r3, [r3, #28]
4497:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10574              		.loc 1 4497 21 discriminator 1 view .LVU3590
 10575 006c 8342     		cmp	r3, r0
 10576 006e E2D9     		bls	.L801
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10577              		.loc 1 4498 5 is_stmt 1 view .LVU3591
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10578              		.loc 1 4498 11 is_stmt 0 view .LVU3592
 10579 0070 E269     		ldr	r2, [r4, #28]
 10580 0072 0146     		mov	r1, r0
 10581 0074 2046     		mov	r0, r4
 10582              	.LVL1216:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10583              		.loc 1 4498 11 view .LVU3593
 10584 0076 FFF7FEFF 		bl	remove_chain
 10585              	.LVL1217:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10586              		.loc 1 4498 11 view .LVU3594
 10587 007a 0546     		mov	r5, r0
 10588              	.LVL1218:
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10589              		.loc 1 4498 11 view .LVU3595
 10590 007c DBE7     		b	.L801
 10591              	.LVL1219:
 10592              	.L811:
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10593              		.loc 1 4495 31 view .LVU3596
 10594 007e 0125     		movs	r5, #1
 10595 0080 EEE7     		b	.L802
 10596              	.LVL1220:
 10597              	.L807:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10598              		.loc 1 4496 22 view .LVU3597
 10599 0082 0225     		movs	r5, #2
 10600              	.LVL1221:
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10601              		.loc 1 4496 22 view .LVU3598
 10602 0084 D7E7     		b	.L801
 10603              	.LVL1222:
ARM GAS  /tmp/cc9mPikx.s 			page 346


 10604              	.L810:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10605              		.loc 1 4505 4 is_stmt 1 view .LVU3599
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10606              		.loc 1 4505 8 is_stmt 0 view .LVU3600
 10607 0086 0123     		movs	r3, #1
 10608 0088 226A     		ldr	r2, [r4, #32]
 10609 008a 04F13001 		add	r1, r4, #48
 10610 008e 0198     		ldr	r0, [sp, #4]
 10611 0090 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 10612 0092 FFF7FEFF 		bl	disk_write
 10613              	.LVL1223:
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10614              		.loc 1 4505 7 view .LVU3601
 10615 0096 20B9     		cbnz	r0, .L808
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10616              		.loc 1 4508 5 is_stmt 1 view .LVU3602
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10617              		.loc 1 4508 14 is_stmt 0 view .LVU3603
 10618 0098 237D     		ldrb	r3, [r4, #20]	@ zero_extendqisi2
 10619 009a 03F07F03 		and	r3, r3, #127
 10620 009e 2375     		strb	r3, [r4, #20]
 10621 00a0 D3E7     		b	.L803
 10622              	.L808:
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10623              		.loc 1 4506 9 view .LVU3604
 10624 00a2 0125     		movs	r5, #1
 10625              	.LVL1224:
 10626              	.L804:
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10627              		.loc 1 4512 21 is_stmt 1 discriminator 1 view .LVU3605
 10628 00a4 6575     		strb	r5, [r4, #21]
4512:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10629              		.loc 1 4512 21 discriminator 1 view .LVU3606
 10630 00a6 D1E7     		b	.L799
 10631              	.LVL1225:
 10632              	.L805:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10633              		.loc 1 4486 30 is_stmt 0 view .LVU3607
 10634 00a8 0725     		movs	r5, #7
 10635              	.LVL1226:
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10636              		.loc 1 4486 30 view .LVU3608
 10637 00aa CFE7     		b	.L799
 10638              		.cfi_endproc
 10639              	.LFE405:
 10641              		.section	.text.f_unlink,"ax",%progbits
 10642              		.align	1
 10643              		.global	f_unlink
 10644              		.syntax unified
 10645              		.thumb
 10646              		.thumb_func
 10647              		.fpu fpv5-d16
 10649              	f_unlink:
 10650              	.LVL1227:
 10651              	.LFB406:
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cc9mPikx.s 			page 347


 10652              		.loc 1 4528 1 is_stmt 1 view -0
 10653              		.cfi_startproc
 10654              		@ args = 0, pretend = 0, frame = 120
 10655              		@ frame_needed = 0, uses_anonymous_args = 0
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10656              		.loc 1 4528 1 is_stmt 0 view .LVU3610
 10657 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 10658              	.LCFI117:
 10659              		.cfi_def_cfa_offset 20
 10660              		.cfi_offset 4, -20
 10661              		.cfi_offset 5, -16
 10662              		.cfi_offset 6, -12
 10663              		.cfi_offset 7, -8
 10664              		.cfi_offset 14, -4
 10665 0002 9FB0     		sub	sp, sp, #124
 10666              	.LCFI118:
 10667              		.cfi_def_cfa_offset 144
 10668 0004 0190     		str	r0, [sp, #4]
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 10669              		.loc 1 4529 2 is_stmt 1 view .LVU3611
4530:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 10670              		.loc 1 4530 2 view .LVU3612
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10671              		.loc 1 4531 2 view .LVU3613
 10672              	.LVL1228:
4532:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10673              		.loc 1 4532 2 view .LVU3614
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10674              		.loc 1 4540 2 view .LVU3615
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10675              		.loc 1 4540 8 is_stmt 0 view .LVU3616
 10676 0006 0222     		movs	r2, #2
 10677 0008 03A9     		add	r1, sp, #12
 10678 000a 01A8     		add	r0, sp, #4
 10679              	.LVL1229:
4540:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10680              		.loc 1 4540 8 view .LVU3617
 10681 000c FFF7FEFF 		bl	find_volume
 10682              	.LVL1230:
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10683              		.loc 1 4541 2 is_stmt 1 view .LVU3618
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10684              		.loc 1 4541 12 is_stmt 0 view .LVU3619
 10685 0010 039B     		ldr	r3, [sp, #12]
 10686 0012 1193     		str	r3, [sp, #68]
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10687              		.loc 1 4542 2 is_stmt 1 view .LVU3620
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10688              		.loc 1 4542 5 is_stmt 0 view .LVU3621
 10689 0014 0446     		mov	r4, r0
 10690 0016 10B1     		cbz	r0, .L822
 10691              	.LVL1231:
 10692              	.L813:
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10693              		.loc 1 4607 16 is_stmt 1 view .LVU3622
4610:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10694              		.loc 1 4610 2 view .LVU3623
ARM GAS  /tmp/cc9mPikx.s 			page 348


4611:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10695              		.loc 1 4611 1 is_stmt 0 view .LVU3624
 10696 0018 2046     		mov	r0, r4
 10697 001a 1FB0     		add	sp, sp, #124
 10698              	.LCFI119:
 10699              		.cfi_remember_state
 10700              		.cfi_def_cfa_offset 20
 10701              		@ sp needed
 10702 001c F0BD     		pop	{r4, r5, r6, r7, pc}
 10703              	.LVL1232:
 10704              	.L822:
 10705              	.LCFI120:
 10706              		.cfi_restore_state
4543:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 10707              		.loc 1 4543 18 is_stmt 1 view .LVU3625
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10708              		.loc 1 4544 3 view .LVU3626
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10709              		.loc 1 4544 9 is_stmt 0 view .LVU3627
 10710 001e 0199     		ldr	r1, [sp, #4]
 10711 0020 11A8     		add	r0, sp, #68
 10712              	.LVL1233:
4544:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
 10713              		.loc 1 4544 9 view .LVU3628
 10714 0022 FFF7FEFF 		bl	follow_path
 10715              	.LVL1234:
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 10716              		.loc 1 4545 3 is_stmt 1 view .LVU3629
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10717              		.loc 1 4549 3 view .LVU3630
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10718              		.loc 1 4549 6 is_stmt 0 view .LVU3631
 10719 0026 0446     		mov	r4, r0
 10720 0028 20B9     		cbnz	r0, .L814
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10721              		.loc 1 4549 21 is_stmt 1 discriminator 1 view .LVU3632
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10722              		.loc 1 4549 27 is_stmt 0 discriminator 1 view .LVU3633
 10723 002a 0221     		movs	r1, #2
 10724 002c 11A8     		add	r0, sp, #68
 10725              	.LVL1235:
4549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10726              		.loc 1 4549 27 discriminator 1 view .LVU3634
 10727 002e FFF7FEFF 		bl	chk_lock
 10728              	.LVL1236:
 10729 0032 0446     		mov	r4, r0
 10730              	.LVL1237:
 10731              	.L814:
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 10732              		.loc 1 4551 3 is_stmt 1 view .LVU3635
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 10733              		.loc 1 4551 6 is_stmt 0 view .LVU3636
 10734 0034 002C     		cmp	r4, #0
 10735 0036 EFD1     		bne	.L813
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10736              		.loc 1 4552 4 is_stmt 1 view .LVU3637
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
ARM GAS  /tmp/cc9mPikx.s 			page 349


 10737              		.loc 1 4552 8 is_stmt 0 view .LVU3638
 10738 0038 9DF97330 		ldrsb	r3, [sp, #115]
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10739              		.loc 1 4552 7 view .LVU3639
 10740 003c 002B     		cmp	r3, #0
 10741 003e 1EDB     		blt	.L818
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10742              		.loc 1 4555 5 is_stmt 1 view .LVU3640
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10743              		.loc 1 4555 15 is_stmt 0 view .LVU3641
 10744 0040 9DF84A60 		ldrb	r6, [sp, #74]	@ zero_extendqisi2
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10745              		.loc 1 4555 8 view .LVU3642
 10746 0044 16F0010F 		tst	r6, #1
 10747 0048 2FD1     		bne	.L819
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10748              		.loc 1 4559 4 is_stmt 1 view .LVU3643
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10749              		.loc 1 4569 6 view .LVU3644
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10750              		.loc 1 4569 14 is_stmt 0 view .LVU3645
 10751 004a 039F     		ldr	r7, [sp, #12]
 10752 004c 1999     		ldr	r1, [sp, #100]
 10753 004e 3846     		mov	r0, r7
 10754 0050 FFF7FEFF 		bl	ld_clust
 10755              	.LVL1238:
 10756 0054 0546     		mov	r5, r0
 10757              	.LVL1239:
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 10758              		.loc 1 4571 5 is_stmt 1 view .LVU3646
4571:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
 10759              		.loc 1 4571 8 is_stmt 0 view .LVU3647
 10760 0056 16F0100F 		tst	r6, #16
 10761 005a 12D0     		beq	.L815
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10762              		.loc 1 4578 7 is_stmt 1 view .LVU3648
4578:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10763              		.loc 1 4578 18 is_stmt 0 view .LVU3649
 10764 005c 0497     		str	r7, [sp, #16]
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10765              		.loc 1 4579 7 is_stmt 1 view .LVU3650
4579:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10766              		.loc 1 4579 22 is_stmt 0 view .LVU3651
 10767 005e 0690     		str	r0, [sp, #24]
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10768              		.loc 1 4586 7 is_stmt 1 view .LVU3652
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10769              		.loc 1 4586 13 is_stmt 0 view .LVU3653
 10770 0060 0021     		movs	r1, #0
 10771 0062 04A8     		add	r0, sp, #16
 10772              	.LVL1240:
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10773              		.loc 1 4586 13 view .LVU3654
 10774 0064 FFF7FEFF 		bl	dir_sdi
 10775              	.LVL1241:
4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10776              		.loc 1 4587 7 is_stmt 1 view .LVU3655
ARM GAS  /tmp/cc9mPikx.s 			page 350


4587:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10777              		.loc 1 4587 10 is_stmt 0 view .LVU3656
 10778 0068 0446     		mov	r4, r0
 10779 006a 50B9     		cbnz	r0, .L815
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10780              		.loc 1 4588 8 is_stmt 1 view .LVU3657
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10781              		.loc 1 4588 14 is_stmt 0 view .LVU3658
 10782 006c 0021     		movs	r1, #0
 10783 006e 04A8     		add	r0, sp, #16
 10784              	.LVL1242:
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10785              		.loc 1 4588 14 view .LVU3659
 10786 0070 FFF7FEFF 		bl	dir_read
 10787              	.LVL1243:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10788              		.loc 1 4589 8 is_stmt 1 view .LVU3660
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10789              		.loc 1 4589 11 is_stmt 0 view .LVU3661
 10790 0074 0446     		mov	r4, r0
 10791 0076 D8B1     		cbz	r0, .L820
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10792              		.loc 1 4590 8 is_stmt 1 view .LVU3662
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10793              		.loc 1 4590 11 is_stmt 0 view .LVU3663
 10794 0078 0428     		cmp	r0, #4
 10795 007a 02D1     		bne	.L815
 10796 007c 03E0     		b	.L816
 10797              	.LVL1244:
 10798              	.L818:
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10799              		.loc 1 4531 8 view .LVU3664
 10800 007e 0025     		movs	r5, #0
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10801              		.loc 1 4553 9 view .LVU3665
 10802 0080 0624     		movs	r4, #6
 10803              	.LVL1245:
 10804              	.L815:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10805              		.loc 1 4595 4 is_stmt 1 view .LVU3666
4595:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10806              		.loc 1 4595 7 is_stmt 0 view .LVU3667
 10807 0082 002C     		cmp	r4, #0
 10808 0084 C8D1     		bne	.L813
 10809              	.LVL1246:
 10810              	.L816:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 10811              		.loc 1 4596 5 is_stmt 1 view .LVU3668
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 10812              		.loc 1 4596 11 is_stmt 0 view .LVU3669
 10813 0086 11A8     		add	r0, sp, #68
 10814 0088 FFF7FEFF 		bl	dir_remove
 10815              	.LVL1247:
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10816              		.loc 1 4597 5 is_stmt 1 view .LVU3670
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10817              		.loc 1 4597 13 is_stmt 0 view .LVU3671
ARM GAS  /tmp/cc9mPikx.s 			page 351


 10818 008c 0446     		mov	r4, r0
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10819              		.loc 1 4597 22 view .LVU3672
 10820 008e 2B1E     		subs	r3, r5, #0
 10821 0090 18BF     		it	ne
 10822 0092 0123     		movne	r3, #1
 10823 0094 0028     		cmp	r0, #0
 10824 0096 18BF     		it	ne
 10825 0098 0023     		movne	r3, #0
4597:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 10826              		.loc 1 4597 8 view .LVU3673
 10827 009a 5BB9     		cbnz	r3, .L823
 10828              	.LVL1248:
 10829              	.L817:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10830              		.loc 1 4604 5 is_stmt 1 view .LVU3674
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10831              		.loc 1 4604 8 is_stmt 0 view .LVU3675
 10832 009c 002C     		cmp	r4, #0
 10833 009e BBD1     		bne	.L813
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10834              		.loc 1 4604 23 is_stmt 1 discriminator 1 view .LVU3676
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10835              		.loc 1 4604 29 is_stmt 0 discriminator 1 view .LVU3677
 10836 00a0 0398     		ldr	r0, [sp, #12]
 10837 00a2 FFF7FEFF 		bl	sync_fs
 10838              	.LVL1249:
 10839 00a6 0446     		mov	r4, r0
 10840              	.LVL1250:
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10841              		.loc 1 4604 29 discriminator 1 view .LVU3678
 10842 00a8 B6E7     		b	.L813
 10843              	.LVL1251:
 10844              	.L819:
4531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10845              		.loc 1 4531 8 view .LVU3679
 10846 00aa 0025     		movs	r5, #0
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10847              		.loc 1 4556 10 view .LVU3680
 10848 00ac 0724     		movs	r4, #7
 10849              	.LVL1252:
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 10850              		.loc 1 4556 10 view .LVU3681
 10851 00ae E8E7     		b	.L815
 10852              	.LVL1253:
 10853              	.L820:
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10854              		.loc 1 4589 30 view .LVU3682
 10855 00b0 0724     		movs	r4, #7
 10856 00b2 E6E7     		b	.L815
 10857              	.LVL1254:
 10858              	.L823:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10859              		.loc 1 4601 6 is_stmt 1 view .LVU3683
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10860              		.loc 1 4601 12 is_stmt 0 view .LVU3684
 10861 00b4 0022     		movs	r2, #0
ARM GAS  /tmp/cc9mPikx.s 			page 352


 10862 00b6 2946     		mov	r1, r5
 10863 00b8 11A8     		add	r0, sp, #68
 10864              	.LVL1255:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10865              		.loc 1 4601 12 view .LVU3685
 10866 00ba FFF7FEFF 		bl	remove_chain
 10867              	.LVL1256:
 10868 00be 0446     		mov	r4, r0
 10869              	.LVL1257:
4601:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10870              		.loc 1 4601 12 view .LVU3686
 10871 00c0 ECE7     		b	.L817
 10872              		.cfi_endproc
 10873              	.LFE406:
 10875              		.section	.text.f_mkdir,"ax",%progbits
 10876              		.align	1
 10877              		.global	f_mkdir
 10878              		.syntax unified
 10879              		.thumb
 10880              		.thumb_func
 10881              		.fpu fpv5-d16
 10883              	f_mkdir:
 10884              	.LVL1258:
 10885              	.LFB407:
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10886              		.loc 1 4623 1 is_stmt 1 view -0
 10887              		.cfi_startproc
 10888              		@ args = 0, pretend = 0, frame = 64
 10889              		@ frame_needed = 0, uses_anonymous_args = 0
4623:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10890              		.loc 1 4623 1 is_stmt 0 view .LVU3688
 10891 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10892              	.LCFI121:
 10893              		.cfi_def_cfa_offset 36
 10894              		.cfi_offset 4, -36
 10895              		.cfi_offset 5, -32
 10896              		.cfi_offset 6, -28
 10897              		.cfi_offset 7, -24
 10898              		.cfi_offset 8, -20
 10899              		.cfi_offset 9, -16
 10900              		.cfi_offset 10, -12
 10901              		.cfi_offset 11, -8
 10902              		.cfi_offset 14, -4
 10903 0004 91B0     		sub	sp, sp, #68
 10904              	.LCFI122:
 10905              		.cfi_def_cfa_offset 104
 10906 0006 0190     		str	r0, [sp, #4]
4624:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 10907              		.loc 1 4624 2 is_stmt 1 view .LVU3689
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10908              		.loc 1 4625 2 view .LVU3690
4626:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 10909              		.loc 1 4626 2 view .LVU3691
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 10910              		.loc 1 4627 2 view .LVU3692
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
 10911              		.loc 1 4628 2 view .LVU3693
ARM GAS  /tmp/cc9mPikx.s 			page 353


4629:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 10912              		.loc 1 4629 2 view .LVU3694
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10913              		.loc 1 4634 2 view .LVU3695
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10914              		.loc 1 4634 8 is_stmt 0 view .LVU3696
 10915 0008 0222     		movs	r2, #2
 10916 000a 02A9     		add	r1, sp, #8
 10917 000c 01A8     		add	r0, sp, #4
 10918              	.LVL1259:
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10919              		.loc 1 4634 8 view .LVU3697
 10920 000e FFF7FEFF 		bl	find_volume
 10921              	.LVL1260:
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10922              		.loc 1 4635 2 is_stmt 1 view .LVU3698
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10923              		.loc 1 4635 12 is_stmt 0 view .LVU3699
 10924 0012 029B     		ldr	r3, [sp, #8]
 10925 0014 0393     		str	r3, [sp, #12]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10926              		.loc 1 4636 2 is_stmt 1 view .LVU3700
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 10927              		.loc 1 4636 5 is_stmt 0 view .LVU3701
 10928 0016 0446     		mov	r4, r0
 10929 0018 18B1     		cbz	r0, .L842
 10930              	.LVL1261:
 10931              	.L825:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10932              		.loc 1 4704 16 is_stmt 1 view .LVU3702
4707:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10933              		.loc 1 4707 2 view .LVU3703
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10934              		.loc 1 4708 1 is_stmt 0 view .LVU3704
 10935 001a 2046     		mov	r0, r4
 10936 001c 11B0     		add	sp, sp, #68
 10937              	.LCFI123:
 10938              		.cfi_remember_state
 10939              		.cfi_def_cfa_offset 36
 10940              		@ sp needed
 10941 001e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10942              	.LVL1262:
 10943              	.L842:
 10944              	.LCFI124:
 10945              		.cfi_restore_state
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 10946              		.loc 1 4637 18 is_stmt 1 view .LVU3705
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10947              		.loc 1 4638 3 view .LVU3706
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10948              		.loc 1 4638 9 is_stmt 0 view .LVU3707
 10949 0022 0199     		ldr	r1, [sp, #4]
 10950 0024 03A8     		add	r0, sp, #12
 10951              	.LVL1263:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10952              		.loc 1 4638 9 view .LVU3708
 10953 0026 FFF7FEFF 		bl	follow_path
ARM GAS  /tmp/cc9mPikx.s 			page 354


 10954              	.LVL1264:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10955              		.loc 1 4639 3 is_stmt 1 view .LVU3709
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 10956              		.loc 1 4639 6 is_stmt 0 view .LVU3710
 10957 002a 0028     		cmp	r0, #0
 10958 002c 00F09A80 		beq	.L835
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 10959              		.loc 1 4640 3 is_stmt 1 view .LVU3711
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10960              		.loc 1 4643 3 view .LVU3712
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10961              		.loc 1 4643 6 is_stmt 0 view .LVU3713
 10962 0030 0428     		cmp	r0, #4
 10963 0032 01D0     		beq	.L843
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10964              		.loc 1 4638 9 view .LVU3714
 10965 0034 0446     		mov	r4, r0
 10966 0036 F0E7     		b	.L825
 10967              	.L843:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10968              		.loc 1 4644 4 is_stmt 1 view .LVU3715
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10969              		.loc 1 4644 10 is_stmt 0 view .LVU3716
 10970 0038 0021     		movs	r1, #0
 10971 003a 03A8     		add	r0, sp, #12
 10972              	.LVL1265:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10973              		.loc 1 4644 10 view .LVU3717
 10974 003c FFF7FEFF 		bl	create_chain
 10975              	.LVL1266:
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10976              		.loc 1 4645 4 is_stmt 1 view .LVU3718
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10977              		.loc 1 4645 30 is_stmt 0 view .LVU3719
 10978 0040 029A     		ldr	r2, [sp, #8]
 10979 0042 5189     		ldrh	r1, [r2, #10]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10980              		.loc 1 4645 40 view .LVU3720
 10981 0044 9389     		ldrh	r3, [r2, #12]
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10982              		.loc 1 4645 38 view .LVU3721
 10983 0046 03FB01F3 		mul	r3, r3, r1
4645:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10984              		.loc 1 4645 19 view .LVU3722
 10985 004a 0693     		str	r3, [sp, #24]
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 10986              		.loc 1 4646 4 is_stmt 1 view .LVU3723
 10987              	.LVL1267:
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10988              		.loc 1 4647 4 view .LVU3724
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10989              		.loc 1 4647 7 is_stmt 0 view .LVU3725
 10990 004c 8046     		mov	r8, r0
 10991 004e 00B9     		cbnz	r0, .L826
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10992              		.loc 1 4647 22 view .LVU3726
ARM GAS  /tmp/cc9mPikx.s 			page 355


 10993 0050 0724     		movs	r4, #7
 10994              	.L826:
 10995              	.LVL1268:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10996              		.loc 1 4648 4 is_stmt 1 view .LVU3727
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10997              		.loc 1 4648 7 is_stmt 0 view .LVU3728
 10998 0052 B8F1010F 		cmp	r8, #1
 10999 0056 20D0     		beq	.L844
 11000              	.LVL1269:
 11001              	.L827:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 11002              		.loc 1 4649 4 is_stmt 1 view .LVU3729
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 11003              		.loc 1 4649 7 is_stmt 0 view .LVU3730
 11004 0058 B8F1FF3F 		cmp	r8, #-1
 11005 005c 24D0     		beq	.L839
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11006              		.loc 1 4650 4 is_stmt 1 view .LVU3731
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11007              		.loc 1 4650 7 is_stmt 0 view .LVU3732
 11008 005e F4B1     		cbz	r4, .L845
 11009              	.LVL1270:
 11010              	.L828:
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 11011              		.loc 1 4651 4 is_stmt 1 view .LVU3733
4651:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 11012              		.loc 1 4651 9 is_stmt 0 view .LVU3734
 11013 0060 FFF7FEFF 		bl	get_fattime
 11014              	.LVL1271:
 11015 0064 8246     		mov	r10, r0
 11016              	.LVL1272:
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 11017              		.loc 1 4652 4 is_stmt 1 view .LVU3735
4652:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 11018              		.loc 1 4652 7 is_stmt 0 view .LVU3736
 11019 0066 0CB3     		cbz	r4, .L846
 11020              	.LVL1273:
 11021              	.L829:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 11022              		.loc 1 4675 4 is_stmt 1 view .LVU3737
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 11023              		.loc 1 4675 7 is_stmt 0 view .LVU3738
 11024 0068 002C     		cmp	r4, #0
 11025 006a 70D0     		beq	.L847
 11026              	.L833:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 11027              		.loc 1 4678 4 is_stmt 1 view .LVU3739
4678:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 11028              		.loc 1 4678 7 is_stmt 0 view .LVU3740
 11029 006c 002C     		cmp	r4, #0
 11030 006e 73D1     		bne	.L834
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 11031              		.loc 1 4691 6 is_stmt 1 view .LVU3741
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 11032              		.loc 1 4691 10 is_stmt 0 view .LVU3742
 11033 0070 0B9C     		ldr	r4, [sp, #44]
ARM GAS  /tmp/cc9mPikx.s 			page 356


 11034              	.LVL1274:
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 11035              		.loc 1 4692 6 is_stmt 1 view .LVU3743
 11036 0072 5146     		mov	r1, r10
 11037 0074 04F11600 		add	r0, r4, #22
 11038 0078 FFF7FEFF 		bl	st_dword
 11039              	.LVL1275:
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 11040              		.loc 1 4693 6 view .LVU3744
 11041 007c 4246     		mov	r2, r8
 11042 007e 2146     		mov	r1, r4
 11043 0080 0298     		ldr	r0, [sp, #8]
 11044 0082 FFF7FEFF 		bl	st_clust
 11045              	.LVL1276:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11046              		.loc 1 4694 6 view .LVU3745
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11047              		.loc 1 4694 20 is_stmt 0 view .LVU3746
 11048 0086 1023     		movs	r3, #16
 11049 0088 E372     		strb	r3, [r4, #11]
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11050              		.loc 1 4695 6 is_stmt 1 view .LVU3747
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11051              		.loc 1 4695 16 is_stmt 0 view .LVU3748
 11052 008a 029B     		ldr	r3, [sp, #8]
 11053 008c 0122     		movs	r2, #1
 11054 008e DA70     		strb	r2, [r3, #3]
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 11055              		.loc 1 4697 5 is_stmt 1 view .LVU3749
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11056              		.loc 1 4698 6 view .LVU3750
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11057              		.loc 1 4698 12 is_stmt 0 view .LVU3751
 11058 0090 0298     		ldr	r0, [sp, #8]
 11059 0092 FFF7FEFF 		bl	sync_fs
 11060              	.LVL1277:
 11061 0096 0446     		mov	r4, r0
 11062              	.LVL1278:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11063              		.loc 1 4698 12 view .LVU3752
 11064 0098 BFE7     		b	.L825
 11065              	.LVL1279:
 11066              	.L844:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 11067              		.loc 1 4648 22 view .LVU3753
 11068 009a 0224     		movs	r4, #2
 11069              	.LVL1280:
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 11070              		.loc 1 4648 22 view .LVU3754
 11071 009c DCE7     		b	.L827
 11072              	.LVL1281:
 11073              	.L845:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11074              		.loc 1 4650 22 is_stmt 1 discriminator 1 view .LVU3755
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11075              		.loc 1 4650 28 is_stmt 0 discriminator 1 view .LVU3756
 11076 009e 1046     		mov	r0, r2
ARM GAS  /tmp/cc9mPikx.s 			page 357


 11077              	.LVL1282:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11078              		.loc 1 4650 28 discriminator 1 view .LVU3757
 11079 00a0 FFF7FEFF 		bl	sync_window
 11080              	.LVL1283:
 11081 00a4 0446     		mov	r4, r0
 11082              	.LVL1284:
4650:Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 11083              		.loc 1 4650 28 discriminator 1 view .LVU3758
 11084 00a6 DBE7     		b	.L828
 11085              	.LVL1285:
 11086              	.L839:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 11087              		.loc 1 4649 31 view .LVU3759
 11088 00a8 0124     		movs	r4, #1
 11089              	.LVL1286:
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 11090              		.loc 1 4649 31 view .LVU3760
 11091 00aa D9E7     		b	.L828
 11092              	.LVL1287:
 11093              	.L846:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 11094              		.loc 1 4653 5 is_stmt 1 view .LVU3761
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 11095              		.loc 1 4653 11 is_stmt 0 view .LVU3762
 11096 00ac 029E     		ldr	r6, [sp, #8]
 11097 00ae 4146     		mov	r1, r8
 11098 00b0 3046     		mov	r0, r6
 11099              	.LVL1288:
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 11100              		.loc 1 4653 11 view .LVU3763
 11101 00b2 FFF7FEFF 		bl	clust2sect
 11102              	.LVL1289:
 11103 00b6 0546     		mov	r5, r0
 11104              	.LVL1290:
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 11105              		.loc 1 4654 5 is_stmt 1 view .LVU3764
4654:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 11106              		.loc 1 4654 9 is_stmt 0 view .LVU3765
 11107 00b8 06F13809 		add	r9, r6, #56
 11108              	.LVL1291:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 11109              		.loc 1 4655 5 is_stmt 1 view .LVU3766
 11110 00bc B289     		ldrh	r2, [r6, #12]
 11111 00be 0021     		movs	r1, #0
 11112 00c0 4846     		mov	r0, r9
 11113              	.LVL1292:
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 11114              		.loc 1 4655 5 is_stmt 0 view .LVU3767
 11115 00c2 FFF7FEFF 		bl	mem_set
 11116              	.LVL1293:
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 11117              		.loc 1 4656 5 is_stmt 1 view .LVU3768
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 11118              		.loc 1 4657 6 view .LVU3769
 11119 00c6 0B22     		movs	r2, #11
 11120 00c8 2021     		movs	r1, #32
ARM GAS  /tmp/cc9mPikx.s 			page 358


 11121 00ca 4846     		mov	r0, r9
 11122 00cc FFF7FEFF 		bl	mem_set
 11123              	.LVL1294:
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 11124              		.loc 1 4658 6 view .LVU3770
4658:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 11125              		.loc 1 4658 20 is_stmt 0 view .LVU3771
 11126 00d0 4FF02E0B 		mov	fp, #46
 11127 00d4 86F838B0 		strb	fp, [r6, #56]
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 11128              		.loc 1 4659 6 is_stmt 1 view .LVU3772
4659:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 11129              		.loc 1 4659 20 is_stmt 0 view .LVU3773
 11130 00d8 1023     		movs	r3, #16
 11131 00da 86F84330 		strb	r3, [r6, #67]
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 11132              		.loc 1 4660 6 is_stmt 1 view .LVU3774
 11133 00de 5146     		mov	r1, r10
 11134 00e0 06F14E00 		add	r0, r6, #78
 11135 00e4 FFF7FEFF 		bl	st_dword
 11136              	.LVL1295:
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 11137              		.loc 1 4661 6 view .LVU3775
 11138 00e8 4246     		mov	r2, r8
 11139 00ea 4946     		mov	r1, r9
 11140 00ec 0298     		ldr	r0, [sp, #8]
 11141 00ee FFF7FEFF 		bl	st_clust
 11142              	.LVL1296:
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 11143              		.loc 1 4662 6 view .LVU3776
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 11144              		.loc 1 4662 18 is_stmt 0 view .LVU3777
 11145 00f2 06F15807 		add	r7, r6, #88
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 11146              		.loc 1 4662 6 view .LVU3778
 11147 00f6 2022     		movs	r2, #32
 11148 00f8 4946     		mov	r1, r9
 11149 00fa 3846     		mov	r0, r7
 11150 00fc FFF7FEFF 		bl	mem_cpy
 11151              	.LVL1297:
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11152              		.loc 1 4663 6 is_stmt 1 view .LVU3779
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11153              		.loc 1 4663 22 is_stmt 0 view .LVU3780
 11154 0100 86F859B0 		strb	fp, [r6, #89]
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11155              		.loc 1 4663 29 is_stmt 1 view .LVU3781
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 11156              		.loc 1 4663 33 is_stmt 0 view .LVU3782
 11157 0104 059A     		ldr	r2, [sp, #20]
 11158              	.LVL1298:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11159              		.loc 1 4664 6 is_stmt 1 view .LVU3783
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11160              		.loc 1 4664 12 is_stmt 0 view .LVU3784
 11161 0106 0298     		ldr	r0, [sp, #8]
 11162 0108 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
ARM GAS  /tmp/cc9mPikx.s 			page 359


4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11163              		.loc 1 4664 9 view .LVU3785
 11164 010a 032B     		cmp	r3, #3
 11165 010c 1AD0     		beq	.L848
 11166              	.LVL1299:
 11167              	.L830:
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11168              		.loc 1 4665 6 is_stmt 1 view .LVU3786
 11169 010e 3946     		mov	r1, r7
 11170 0110 FFF7FEFF 		bl	st_clust
 11171              	.LVL1300:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11172              		.loc 1 4667 5 view .LVU3787
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11173              		.loc 1 4667 16 is_stmt 0 view .LVU3788
 11174 0114 029B     		ldr	r3, [sp, #8]
 11175 0116 5E89     		ldrh	r6, [r3, #10]
 11176              	.LVL1301:
 11177              	.L831:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11178              		.loc 1 4667 25 is_stmt 1 discriminator 1 view .LVU3789
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11179              		.loc 1 4667 5 is_stmt 0 discriminator 1 view .LVU3790
 11180 0118 002E     		cmp	r6, #0
 11181 011a A5D0     		beq	.L829
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11182              		.loc 1 4668 6 is_stmt 1 view .LVU3791
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11183              		.loc 1 4668 23 is_stmt 0 view .LVU3792
 11184 011c 6F1C     		adds	r7, r5, #1
 11185              	.LVL1302:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11186              		.loc 1 4668 8 view .LVU3793
 11187 011e 029B     		ldr	r3, [sp, #8]
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11188              		.loc 1 4668 18 view .LVU3794
 11189 0120 5D63     		str	r5, [r3, #52]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 11190              		.loc 1 4669 6 is_stmt 1 view .LVU3795
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 11191              		.loc 1 4669 16 is_stmt 0 view .LVU3796
 11192 0122 0122     		movs	r2, #1
 11193 0124 DA70     		strb	r2, [r3, #3]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 11194              		.loc 1 4670 6 is_stmt 1 view .LVU3797
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 11195              		.loc 1 4670 12 is_stmt 0 view .LVU3798
 11196 0126 0298     		ldr	r0, [sp, #8]
 11197 0128 FFF7FEFF 		bl	sync_window
 11198              	.LVL1303:
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 11199              		.loc 1 4671 6 is_stmt 1 view .LVU3799
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 11200              		.loc 1 4671 9 is_stmt 0 view .LVU3800
 11201 012c 0446     		mov	r4, r0
 11202 012e 0028     		cmp	r0, #0
 11203 0130 9AD1     		bne	.L829
ARM GAS  /tmp/cc9mPikx.s 			page 360


4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11204              		.loc 1 4672 6 is_stmt 1 discriminator 2 view .LVU3801
 11205 0132 029B     		ldr	r3, [sp, #8]
 11206 0134 9A89     		ldrh	r2, [r3, #12]
 11207 0136 0021     		movs	r1, #0
 11208 0138 4846     		mov	r0, r9
 11209              	.LVL1304:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11210              		.loc 1 4672 6 is_stmt 0 discriminator 2 view .LVU3802
 11211 013a FFF7FEFF 		bl	mem_set
 11212              	.LVL1305:
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11213              		.loc 1 4667 28 is_stmt 1 discriminator 2 view .LVU3803
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 11214              		.loc 1 4667 29 is_stmt 0 discriminator 2 view .LVU3804
 11215 013e 013E     		subs	r6, r6, #1
 11216              	.LVL1306:
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 11217              		.loc 1 4668 23 discriminator 2 view .LVU3805
 11218 0140 3D46     		mov	r5, r7
 11219 0142 E9E7     		b	.L831
 11220              	.LVL1307:
 11221              	.L848:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11222              		.loc 1 4664 46 discriminator 1 view .LVU3806
 11223 0144 C36A     		ldr	r3, [r0, #44]
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11224              		.loc 1 4664 34 discriminator 1 view .LVU3807
 11225 0146 9342     		cmp	r3, r2
 11226 0148 E1D1     		bne	.L830
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11227              		.loc 1 4664 61 view .LVU3808
 11228 014a 0022     		movs	r2, #0
 11229              	.LVL1308:
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 11230              		.loc 1 4664 61 view .LVU3809
 11231 014c DFE7     		b	.L830
 11232              	.LVL1309:
 11233              	.L847:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11234              		.loc 1 4676 5 is_stmt 1 view .LVU3810
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11235              		.loc 1 4676 11 is_stmt 0 view .LVU3811
 11236 014e 03A8     		add	r0, sp, #12
 11237 0150 FFF7FEFF 		bl	dir_register
 11238              	.LVL1310:
 11239 0154 0446     		mov	r4, r0
 11240              	.LVL1311:
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11241              		.loc 1 4676 11 view .LVU3812
 11242 0156 89E7     		b	.L833
 11243              	.L834:
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11244              		.loc 1 4701 5 is_stmt 1 view .LVU3813
 11245 0158 0022     		movs	r2, #0
 11246 015a 4146     		mov	r1, r8
 11247 015c 03A8     		add	r0, sp, #12
ARM GAS  /tmp/cc9mPikx.s 			page 361


 11248 015e FFF7FEFF 		bl	remove_chain
 11249              	.LVL1312:
 11250 0162 5AE7     		b	.L825
 11251              	.LVL1313:
 11252              	.L835:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
 11253              		.loc 1 4639 25 is_stmt 0 view .LVU3814
 11254 0164 0824     		movs	r4, #8
 11255 0166 58E7     		b	.L825
 11256              		.cfi_endproc
 11257              	.LFE407:
 11259              		.section	.text.f_rename,"ax",%progbits
 11260              		.align	1
 11261              		.global	f_rename
 11262              		.syntax unified
 11263              		.thumb
 11264              		.thumb_func
 11265              		.fpu fpv5-d16
 11267              	f_rename:
 11268              	.LVL1314:
 11269              	.LFB408:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 11270              		.loc 1 4721 1 is_stmt 1 view -0
 11271              		.cfi_startproc
 11272              		@ args = 0, pretend = 0, frame = 144
 11273              		@ frame_needed = 0, uses_anonymous_args = 0
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 11274              		.loc 1 4721 1 is_stmt 0 view .LVU3816
 11275 0000 30B5     		push	{r4, r5, lr}
 11276              	.LCFI125:
 11277              		.cfi_def_cfa_offset 12
 11278              		.cfi_offset 4, -12
 11279              		.cfi_offset 5, -8
 11280              		.cfi_offset 14, -4
 11281 0002 A5B0     		sub	sp, sp, #148
 11282              	.LCFI126:
 11283              		.cfi_def_cfa_offset 160
 11284 0004 0190     		str	r0, [sp, #4]
 11285 0006 0091     		str	r1, [sp]
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 11286              		.loc 1 4722 2 is_stmt 1 view .LVU3817
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 11287              		.loc 1 4723 2 view .LVU3818
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
 11288              		.loc 1 4724 2 view .LVU3819
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
 11289              		.loc 1 4725 2 view .LVU3820
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
 11290              		.loc 1 4726 2 view .LVU3821
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 11291              		.loc 1 4730 2 view .LVU3822
 11292 0008 6846     		mov	r0, sp
 11293              	.LVL1315:
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 11294              		.loc 1 4730 2 is_stmt 0 view .LVU3823
 11295 000a FFF7FEFF 		bl	get_ldnumber
 11296              	.LVL1316:
ARM GAS  /tmp/cc9mPikx.s 			page 362


4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 11297              		.loc 1 4731 2 is_stmt 1 view .LVU3824
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 11298              		.loc 1 4731 8 is_stmt 0 view .LVU3825
 11299 000e 0222     		movs	r2, #2
 11300 0010 09A9     		add	r1, sp, #36
 11301 0012 01A8     		add	r0, sp, #4
 11302 0014 FFF7FEFF 		bl	find_volume
 11303              	.LVL1317:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 11304              		.loc 1 4732 2 is_stmt 1 view .LVU3826
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 11305              		.loc 1 4732 5 is_stmt 0 view .LVU3827
 11306 0018 0446     		mov	r4, r0
 11307 001a 10B1     		cbz	r0, .L860
 11308              	.LVL1318:
 11309              	.L850:
4807:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11310              		.loc 1 4807 16 is_stmt 1 view .LVU3828
4810:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11311              		.loc 1 4810 2 view .LVU3829
4811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11312              		.loc 1 4811 1 is_stmt 0 view .LVU3830
 11313 001c 2046     		mov	r0, r4
 11314 001e 25B0     		add	sp, sp, #148
 11315              	.LCFI127:
 11316              		.cfi_remember_state
 11317              		.cfi_def_cfa_offset 12
 11318              		@ sp needed
 11319 0020 30BD     		pop	{r4, r5, pc}
 11320              	.LVL1319:
 11321              	.L860:
 11322              	.LCFI128:
 11323              		.cfi_restore_state
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 11324              		.loc 1 4733 3 is_stmt 1 view .LVU3831
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
 11325              		.loc 1 4733 14 is_stmt 0 view .LVU3832
 11326 0022 099B     		ldr	r3, [sp, #36]
 11327 0024 1793     		str	r3, [sp, #92]
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 11328              		.loc 1 4734 18 is_stmt 1 view .LVU3833
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 11329              		.loc 1 4735 3 view .LVU3834
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 11330              		.loc 1 4735 9 is_stmt 0 view .LVU3835
 11331 0026 0199     		ldr	r1, [sp, #4]
 11332 0028 17A8     		add	r0, sp, #92
 11333              	.LVL1320:
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 11334              		.loc 1 4735 9 view .LVU3836
 11335 002a FFF7FEFF 		bl	follow_path
 11336              	.LVL1321:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11337              		.loc 1 4736 3 is_stmt 1 view .LVU3837
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11338              		.loc 1 4736 6 is_stmt 0 view .LVU3838
ARM GAS  /tmp/cc9mPikx.s 			page 363


 11339 002e 0446     		mov	r4, r0
 11340 0030 20B9     		cbnz	r0, .L851
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11341              		.loc 1 4736 30 discriminator 1 view .LVU3839
 11342 0032 9DF88B30 		ldrb	r3, [sp, #139]	@ zero_extendqisi2
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11343              		.loc 1 4736 20 discriminator 1 view .LVU3840
 11344 0036 13F0A00F 		tst	r3, #160
 11345 003a 1ED1     		bne	.L856
 11346              	.L851:
 11347              	.LVL1322:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 11348              		.loc 1 4738 3 is_stmt 1 view .LVU3841
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
 11349              		.loc 1 4738 6 is_stmt 0 view .LVU3842
 11350 003c 24B9     		cbnz	r4, .L852
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11351              		.loc 1 4739 4 is_stmt 1 view .LVU3843
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11352              		.loc 1 4739 10 is_stmt 0 view .LVU3844
 11353 003e 0221     		movs	r1, #2
 11354 0040 17A8     		add	r0, sp, #92
 11355 0042 FFF7FEFF 		bl	chk_lock
 11356              	.LVL1323:
 11357 0046 0446     		mov	r4, r0
 11358              	.LVL1324:
 11359              	.L852:
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 11360              		.loc 1 4742 3 is_stmt 1 view .LVU3845
4742:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 11361              		.loc 1 4742 6 is_stmt 0 view .LVU3846
 11362 0048 002C     		cmp	r4, #0
 11363 004a E7D1     		bne	.L850
4769:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 11364              		.loc 1 4769 5 is_stmt 1 view .LVU3847
 11365 004c 1522     		movs	r2, #21
 11366 004e 1F99     		ldr	r1, [sp, #124]
 11367 0050 0B31     		adds	r1, r1, #11
 11368 0052 03A8     		add	r0, sp, #12
 11369 0054 FFF7FEFF 		bl	mem_cpy
 11370              	.LVL1325:
4770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 11371              		.loc 1 4770 5 view .LVU3848
 11372 0058 3422     		movs	r2, #52
 11373 005a 17A9     		add	r1, sp, #92
 11374 005c 0AA8     		add	r0, sp, #40
 11375 005e FFF7FEFF 		bl	mem_cpy
 11376              	.LVL1326:
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 11377              		.loc 1 4771 5 view .LVU3849
4771:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 11378              		.loc 1 4771 11 is_stmt 0 view .LVU3850
 11379 0062 0099     		ldr	r1, [sp]
 11380 0064 0AA8     		add	r0, sp, #40
 11381 0066 FFF7FEFF 		bl	follow_path
 11382              	.LVL1327:
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
ARM GAS  /tmp/cc9mPikx.s 			page 364


 11383              		.loc 1 4772 5 is_stmt 1 view .LVU3851
4772:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 11384              		.loc 1 4772 8 is_stmt 0 view .LVU3852
 11385 006a 0446     		mov	r4, r0
 11386 006c 68B9     		cbnz	r0, .L853
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11387              		.loc 1 4773 6 is_stmt 1 view .LVU3853
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11388              		.loc 1 4773 84 is_stmt 0 view .LVU3854
 11389 006e 0C9A     		ldr	r2, [sp, #48]
 11390 0070 199B     		ldr	r3, [sp, #100]
 11391 0072 9A42     		cmp	r2, r3
 11392 0074 03D0     		beq	.L861
 11393 0076 0824     		movs	r4, #8
 11394 0078 09E0     		b	.L854
 11395              	.L856:
4736:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 11396              		.loc 1 4736 68 view .LVU3855
 11397 007a 0624     		movs	r4, #6
 11398 007c E4E7     		b	.L852
 11399              	.L861:
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11400              		.loc 1 4773 46 discriminator 1 view .LVU3856
 11401 007e 0F9A     		ldr	r2, [sp, #60]
 11402 0080 1C9B     		ldr	r3, [sp, #112]
 11403 0082 9A42     		cmp	r2, r3
 11404 0084 10D0     		beq	.L855
4773:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11405              		.loc 1 4773 84 view .LVU3857
 11406 0086 0824     		movs	r4, #8
 11407 0088 01E0     		b	.L854
 11408              	.L853:
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 11409              		.loc 1 4775 5 is_stmt 1 view .LVU3858
4775:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 11410              		.loc 1 4775 8 is_stmt 0 view .LVU3859
 11411 008a 0428     		cmp	r0, #4
 11412 008c 0CD0     		beq	.L855
 11413              	.LVL1328:
 11414              	.L854:
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 11415              		.loc 1 4799 4 is_stmt 1 view .LVU3860
4799:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
 11416              		.loc 1 4799 7 is_stmt 0 view .LVU3861
 11417 008e 002C     		cmp	r4, #0
 11418 0090 C4D1     		bne	.L850
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 11419              		.loc 1 4800 5 is_stmt 1 view .LVU3862
4800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 11420              		.loc 1 4800 11 is_stmt 0 view .LVU3863
 11421 0092 17A8     		add	r0, sp, #92
 11422 0094 FFF7FEFF 		bl	dir_remove
 11423              	.LVL1329:
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 11424              		.loc 1 4801 5 is_stmt 1 view .LVU3864
4801:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 11425              		.loc 1 4801 8 is_stmt 0 view .LVU3865
ARM GAS  /tmp/cc9mPikx.s 			page 365


 11426 0098 0446     		mov	r4, r0
 11427 009a 0028     		cmp	r0, #0
 11428 009c BED1     		bne	.L850
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11429              		.loc 1 4802 6 is_stmt 1 view .LVU3866
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11430              		.loc 1 4802 12 is_stmt 0 view .LVU3867
 11431 009e 0998     		ldr	r0, [sp, #36]
 11432              	.LVL1330:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11433              		.loc 1 4802 12 view .LVU3868
 11434 00a0 FFF7FEFF 		bl	sync_fs
 11435              	.LVL1331:
 11436 00a4 0446     		mov	r4, r0
 11437              	.LVL1332:
4802:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11438              		.loc 1 4802 12 view .LVU3869
 11439 00a6 B9E7     		b	.L850
 11440              	.LVL1333:
 11441              	.L855:
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 11442              		.loc 1 4776 6 is_stmt 1 view .LVU3870
4776:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 11443              		.loc 1 4776 12 is_stmt 0 view .LVU3871
 11444 00a8 0AA8     		add	r0, sp, #40
 11445 00aa FFF7FEFF 		bl	dir_register
 11446              	.LVL1334:
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 11447              		.loc 1 4777 6 is_stmt 1 view .LVU3872
4777:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 11448              		.loc 1 4777 9 is_stmt 0 view .LVU3873
 11449 00ae 0446     		mov	r4, r0
 11450 00b0 0028     		cmp	r0, #0
 11451 00b2 ECD1     		bne	.L854
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 11452              		.loc 1 4778 7 is_stmt 1 view .LVU3874
4778:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 11453              		.loc 1 4778 11 is_stmt 0 view .LVU3875
 11454 00b4 129D     		ldr	r5, [sp, #72]
 11455              	.LVL1335:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 11456              		.loc 1 4779 7 is_stmt 1 view .LVU3876
 11457 00b6 1322     		movs	r2, #19
 11458 00b8 0DF10E01 		add	r1, sp, #14
 11459 00bc 05F10D00 		add	r0, r5, #13
 11460              	.LVL1336:
4779:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 11461              		.loc 1 4779 7 is_stmt 0 view .LVU3877
 11462 00c0 FFF7FEFF 		bl	mem_cpy
 11463              	.LVL1337:
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11464              		.loc 1 4780 7 is_stmt 1 view .LVU3878
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11465              		.loc 1 4780 26 is_stmt 0 view .LVU3879
 11466 00c4 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
4780:Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 11467              		.loc 1 4780 21 view .LVU3880
ARM GAS  /tmp/cc9mPikx.s 			page 366


 11468 00c8 43F02003 		orr	r3, r3, #32
 11469 00cc EB72     		strb	r3, [r5, #11]
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 11470              		.loc 1 4781 7 is_stmt 1 view .LVU3881
4781:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 11471              		.loc 1 4781 17 is_stmt 0 view .LVU3882
 11472 00ce 099B     		ldr	r3, [sp, #36]
 11473 00d0 0122     		movs	r2, #1
 11474 00d2 DA70     		strb	r2, [r3, #3]
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11475              		.loc 1 4782 7 is_stmt 1 view .LVU3883
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11476              		.loc 1 4782 15 is_stmt 0 view .LVU3884
 11477 00d4 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11478              		.loc 1 4782 10 view .LVU3885
 11479 00d6 13F0100F 		tst	r3, #16
 11480 00da D8D0     		beq	.L854
4782:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 11481              		.loc 1 4782 36 discriminator 1 view .LVU3886
 11482 00dc 199A     		ldr	r2, [sp, #100]
 11483 00de 0C9B     		ldr	r3, [sp, #48]
 11484 00e0 9A42     		cmp	r2, r3
 11485 00e2 D4D0     		beq	.L854
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11486              		.loc 1 4783 8 is_stmt 1 view .LVU3887
4783:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 11487              		.loc 1 4783 13 is_stmt 0 view .LVU3888
 11488 00e4 099C     		ldr	r4, [sp, #36]
 11489 00e6 2946     		mov	r1, r5
 11490 00e8 2046     		mov	r0, r4
 11491 00ea FFF7FEFF 		bl	ld_clust
 11492              	.LVL1338:
 11493 00ee 0146     		mov	r1, r0
 11494 00f0 2046     		mov	r0, r4
 11495 00f2 FFF7FEFF 		bl	clust2sect
 11496              	.LVL1339:
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 11497              		.loc 1 4784 8 is_stmt 1 view .LVU3889
4784:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 11498              		.loc 1 4784 11 is_stmt 0 view .LVU3890
 11499 00f6 0146     		mov	r1, r0
 11500 00f8 08B9     		cbnz	r0, .L862
4785:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 11501              		.loc 1 4785 13 view .LVU3891
 11502 00fa 0224     		movs	r4, #2
 11503 00fc 8EE7     		b	.L850
 11504              	.L862:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11505              		.loc 1 4788 9 is_stmt 1 view .LVU3892
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11506              		.loc 1 4788 15 is_stmt 0 view .LVU3893
 11507 00fe 2046     		mov	r0, r4
 11508              	.LVL1340:
4788:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 11509              		.loc 1 4788 15 view .LVU3894
 11510 0100 FFF7FEFF 		bl	move_window
ARM GAS  /tmp/cc9mPikx.s 			page 367


 11511              	.LVL1341:
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11512              		.loc 1 4789 9 is_stmt 1 view .LVU3895
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11513              		.loc 1 4789 17 is_stmt 0 view .LVU3896
 11514 0104 099B     		ldr	r3, [sp, #36]
4789:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 11515              		.loc 1 4789 13 view .LVU3897
 11516 0106 03F15801 		add	r1, r3, #88
 11517              	.LVL1342:
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11518              		.loc 1 4790 9 is_stmt 1 view .LVU3898
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11519              		.loc 1 4790 12 is_stmt 0 view .LVU3899
 11520 010a 0446     		mov	r4, r0
 11521 010c 0028     		cmp	r0, #0
 11522 010e BED1     		bne	.L854
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11523              		.loc 1 4790 32 discriminator 1 view .LVU3900
 11524 0110 93F85920 		ldrb	r2, [r3, #89]	@ zero_extendqisi2
4790:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 11525              		.loc 1 4790 26 discriminator 1 view .LVU3901
 11526 0114 2E2A     		cmp	r2, #46
 11527 0116 BAD1     		bne	.L854
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 11528              		.loc 1 4791 10 is_stmt 1 view .LVU3902
 11529 0118 0C9A     		ldr	r2, [sp, #48]
 11530 011a 1846     		mov	r0, r3
 11531              	.LVL1343:
4791:Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 11532              		.loc 1 4791 10 is_stmt 0 view .LVU3903
 11533 011c FFF7FEFF 		bl	st_clust
 11534              	.LVL1344:
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11535              		.loc 1 4792 10 is_stmt 1 view .LVU3904
4792:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 11536              		.loc 1 4792 20 is_stmt 0 view .LVU3905
 11537 0120 099B     		ldr	r3, [sp, #36]
 11538 0122 0122     		movs	r2, #1
 11539 0124 DA70     		strb	r2, [r3, #3]
 11540 0126 B2E7     		b	.L854
 11541              		.cfi_endproc
 11542              	.LFE408:
 11544              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 11545              		.align	2
 11546              	.LC2:
 11547 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 11547      53444F53 
 11547      352E3000 
 11548              		.align	2
 11549              	.LC3:
 11550 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 11550      414D4520 
 11550      20202046 
 11550      41543332 
 11550      20202000 
 11551              		.align	2
ARM GAS  /tmp/cc9mPikx.s 			page 368


 11552              	.LC4:
 11553 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 11553      414D4520 
 11553      20202046 
 11553      41542020 
 11553      20202000 
 11554              		.section	.text.f_mkfs,"ax",%progbits
 11555              		.align	1
 11556              		.global	f_mkfs
 11557              		.syntax unified
 11558              		.thumb
 11559              		.thumb_func
 11560              		.fpu fpv5-d16
 11562              	f_mkfs:
 11563              	.LVL1345:
 11564              	.LFB409:
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 11565              		.loc 1 5308 1 is_stmt 1 view -0
 11566              		.cfi_startproc
 11567              		@ args = 4, pretend = 0, frame = 48
 11568              		@ frame_needed = 0, uses_anonymous_args = 0
5308:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 11569              		.loc 1 5308 1 is_stmt 0 view .LVU3907
 11570 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 11571              	.LCFI129:
 11572              		.cfi_def_cfa_offset 36
 11573              		.cfi_offset 4, -36
 11574              		.cfi_offset 5, -32
 11575              		.cfi_offset 6, -28
 11576              		.cfi_offset 7, -24
 11577              		.cfi_offset 8, -20
 11578              		.cfi_offset 9, -16
 11579              		.cfi_offset 10, -12
 11580              		.cfi_offset 11, -8
 11581              		.cfi_offset 14, -4
 11582 0004 8DB0     		sub	sp, sp, #52
 11583              	.LCFI130:
 11584              		.cfi_def_cfa_offset 88
 11585 0006 0790     		str	r0, [sp, #28]
 11586 0008 8846     		mov	r8, r1
 11587 000a 1546     		mov	r5, r2
 11588 000c 1E46     		mov	r6, r3
5309:Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 11589              		.loc 1 5309 2 is_stmt 1 view .LVU3908
 11590              	.LVL1346:
5310:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
 11591              		.loc 1 5310 2 view .LVU3909
5311:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
 11592              		.loc 1 5311 2 view .LVU3910
5312:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
 11593              		.loc 1 5312 2 view .LVU3911
5313:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
 11594              		.loc 1 5313 2 view .LVU3912
5314:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
 11595              		.loc 1 5314 2 view .LVU3913
5315:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
 11596              		.loc 1 5315 2 view .LVU3914
ARM GAS  /tmp/cc9mPikx.s 			page 369


5316:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
 11597              		.loc 1 5316 2 view .LVU3915
5317:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 11598              		.loc 1 5317 2 view .LVU3916
5318:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 11599              		.loc 1 5318 2 view .LVU3917
5319:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 11600              		.loc 1 5319 2 view .LVU3918
5320:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
 11601              		.loc 1 5320 2 view .LVU3919
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11602              		.loc 1 5327 2 view .LVU3920
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11603              		.loc 1 5327 8 is_stmt 0 view .LVU3921
 11604 000e 07A8     		add	r0, sp, #28
 11605              	.LVL1347:
5327:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11606              		.loc 1 5327 8 view .LVU3922
 11607 0010 FFF7FEFF 		bl	get_ldnumber
 11608              	.LVL1348:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11609              		.loc 1 5328 2 is_stmt 1 view .LVU3923
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11610              		.loc 1 5328 5 is_stmt 0 view .LVU3924
 11611 0014 0028     		cmp	r0, #0
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11612              		.loc 1 5328 5 view .LVU3925
 11613 0016 C0F2F982 		blt	.L907
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11614              		.loc 1 5329 2 is_stmt 1 view .LVU3926
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11615              		.loc 1 5329 11 is_stmt 0 view .LVU3927
 11616 001a A74B     		ldr	r3, .L960
 11617 001c 53F82030 		ldr	r3, [r3, r0, lsl #2]
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11618              		.loc 1 5329 5 view .LVU3928
 11619 0020 0BB1     		cbz	r3, .L865
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11620              		.loc 1 5329 18 is_stmt 1 discriminator 1 view .LVU3929
5329:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11621              		.loc 1 5329 38 is_stmt 0 discriminator 1 view .LVU3930
 11622 0022 0022     		movs	r2, #0
 11623 0024 1A70     		strb	r2, [r3]
 11624              	.L865:
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11625              		.loc 1 5330 2 is_stmt 1 view .LVU3931
5330:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11626              		.loc 1 5330 7 is_stmt 0 view .LVU3932
 11627 0026 C4B2     		uxtb	r4, r0
 11628              	.LVL1349:
5331:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11629              		.loc 1 5331 2 is_stmt 1 view .LVU3933
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11630              		.loc 1 5334 2 view .LVU3934
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11631              		.loc 1 5334 9 is_stmt 0 view .LVU3935
 11632 0028 2046     		mov	r0, r4
ARM GAS  /tmp/cc9mPikx.s 			page 370


 11633              	.LVL1350:
5334:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11634              		.loc 1 5334 9 view .LVU3936
 11635 002a FFF7FEFF 		bl	disk_initialize
 11636              	.LVL1351:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11637              		.loc 1 5335 2 is_stmt 1 view .LVU3937
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11638              		.loc 1 5335 5 is_stmt 0 view .LVU3938
 11639 002e 10F0010F 		tst	r0, #1
 11640 0032 40F0ED82 		bne	.L908
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11641              		.loc 1 5336 2 is_stmt 1 view .LVU3939
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11642              		.loc 1 5336 5 is_stmt 0 view .LVU3940
 11643 0036 10F0040F 		tst	r0, #4
 11644 003a 40F0EB82 		bne	.L909
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11645              		.loc 1 5337 2 is_stmt 1 view .LVU3941
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11646              		.loc 1 5337 6 is_stmt 0 view .LVU3942
 11647 003e 0AAA     		add	r2, sp, #40
 11648 0040 0321     		movs	r1, #3
 11649 0042 2046     		mov	r0, r4
 11650              	.LVL1352:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11651              		.loc 1 5337 6 view .LVU3943
 11652 0044 FFF7FEFF 		bl	disk_ioctl
 11653              	.LVL1353:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11654              		.loc 1 5337 5 view .LVU3944
 11655 0048 38B9     		cbnz	r0, .L866
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11656              		.loc 1 5337 61 discriminator 2 view .LVU3945
 11657 004a 0A9B     		ldr	r3, [sp, #40]
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11658              		.loc 1 5337 58 discriminator 2 view .LVU3946
 11659 004c 2BB1     		cbz	r3, .L866
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11660              		.loc 1 5337 69 discriminator 4 view .LVU3947
 11661 004e B3F5004F 		cmp	r3, #32768
 11662 0052 02D8     		bhi	.L866
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11663              		.loc 1 5337 108 discriminator 6 view .LVU3948
 11664 0054 5A1E     		subs	r2, r3, #1
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11665              		.loc 1 5337 87 discriminator 6 view .LVU3949
 11666 0056 1342     		tst	r3, r2
 11667 0058 01D0     		beq	.L867
 11668              	.L866:
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11669              		.loc 1 5337 115 is_stmt 1 discriminator 7 view .LVU3950
5337:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
 11670              		.loc 1 5337 122 is_stmt 0 discriminator 7 view .LVU3951
 11671 005a 0123     		movs	r3, #1
 11672 005c 0A93     		str	r3, [sp, #40]
 11673              	.L867:
ARM GAS  /tmp/cc9mPikx.s 			page 371


5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 11674              		.loc 1 5339 2 is_stmt 1 view .LVU3952
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 11675              		.loc 1 5339 6 is_stmt 0 view .LVU3953
 11676 005e 0DF12E02 		add	r2, sp, #46
 11677 0062 0221     		movs	r1, #2
 11678 0064 2046     		mov	r0, r4
 11679 0066 FFF7FEFF 		bl	disk_ioctl
 11680              	.LVL1354:
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
 11681              		.loc 1 5339 5 view .LVU3954
 11682 006a 0028     		cmp	r0, #0
 11683 006c 40F0D682 		bne	.L910
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11684              		.loc 1 5340 2 is_stmt 1 view .LVU3955
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11685              		.loc 1 5340 19 is_stmt 0 view .LVU3956
 11686 0070 BDF82E70 		ldrh	r7, [sp, #46]
 11687 0074 A7F50073 		sub	r3, r7, #512
 11688 0078 9BB2     		uxth	r3, r3
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11689              		.loc 1 5340 5 view .LVU3957
 11690 007a B3F5606F 		cmp	r3, #3584
 11691 007e 00F2CF82 		bhi	.L911
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11692              		.loc 1 5340 48 discriminator 2 view .LVU3958
 11693 0082 7B1E     		subs	r3, r7, #1
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 11694              		.loc 1 5340 35 discriminator 2 view .LVU3959
 11695 0084 1F42     		tst	r7, r3
 11696 0086 40F0CD82 		bne	.L912
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11697              		.loc 1 5344 2 is_stmt 1 view .LVU3960
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11698              		.loc 1 5344 5 is_stmt 0 view .LVU3961
 11699 008a 15B1     		cbz	r5, .L868
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11700              		.loc 1 5344 15 discriminator 1 view .LVU3962
 11701 008c AF42     		cmp	r7, r5
 11702 008e 00F2CB82 		bhi	.L913
 11703              	.L868:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11704              		.loc 1 5344 27 discriminator 4 view .LVU3963
 11705 0092 B5F1807F 		cmp	r5, #16777216
 11706 0096 00F2C982 		bhi	.L914
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11707              		.loc 1 5344 58 discriminator 6 view .LVU3964
 11708 009a 6B1E     		subs	r3, r5, #1
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11709              		.loc 1 5344 45 discriminator 6 view .LVU3965
 11710 009c 2B40     		ands	r3, r3, r5
 11711 009e 0193     		str	r3, [sp, #4]
 11712 00a0 40F0C682 		bne	.L915
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11713              		.loc 1 5345 2 is_stmt 1 view .LVU3966
5345:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11714              		.loc 1 5345 5 is_stmt 0 view .LVU3967
ARM GAS  /tmp/cc9mPikx.s 			page 372


 11715 00a4 B5FBF7F5 		udiv	r5, r5, r7
 11716              	.LVL1355:
5348:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 11717              		.loc 1 5348 2 is_stmt 1 view .LVU3968
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11718              		.loc 1 5349 2 view .LVU3969
5349:Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11719              		.loc 1 5349 9 is_stmt 0 view .LVU3970
 11720 00a8 169B     		ldr	r3, [sp, #88]
 11721 00aa B3FBF7F9 		udiv	r9, r3, r7
 11722              	.LVL1356:
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11723              		.loc 1 5350 2 is_stmt 1 view .LVU3971
5350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11724              		.loc 1 5350 10 is_stmt 0 view .LVU3972
 11725 00ae 09FB07F7 		mul	r7, r9, r7
 11726              	.LVL1357:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11727              		.loc 1 5351 2 is_stmt 1 view .LVU3973
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11728              		.loc 1 5351 5 is_stmt 0 view .LVU3974
 11729 00b2 002F     		cmp	r7, #0
 11730 00b4 00F0BE82 		beq	.L916
5354:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 11731              		.loc 1 5354 2 is_stmt 1 view .LVU3975
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11732              		.loc 1 5364 3 view .LVU3976
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11733              		.loc 1 5364 7 is_stmt 0 view .LVU3977
 11734 00b8 09AA     		add	r2, sp, #36
 11735 00ba 0121     		movs	r1, #1
 11736 00bc 2046     		mov	r0, r4
 11737 00be FFF7FEFF 		bl	disk_ioctl
 11738              	.LVL1358:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11739              		.loc 1 5364 6 view .LVU3978
 11740 00c2 0028     		cmp	r0, #0
 11741 00c4 40F0B882 		bne	.L917
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11742              		.loc 1 5365 3 is_stmt 1 view .LVU3979
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11743              		.loc 1 5365 30 is_stmt 0 view .LVU3980
 11744 00c8 18F00802 		ands	r2, r8, #8
 11745 00cc 0292     		str	r2, [sp, #8]
 11746 00ce 7AD0     		beq	.L918
 11747 00d0 019B     		ldr	r3, [sp, #4]
 11748 00d2 0093     		str	r3, [sp]
 11749              	.L869:
 11750              	.LVL1359:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11751              		.loc 1 5366 3 is_stmt 1 discriminator 4 view .LVU3981
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11752              		.loc 1 5366 14 is_stmt 0 discriminator 4 view .LVU3982
 11753 00d4 099A     		ldr	r2, [sp, #36]
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11754              		.loc 1 5366 6 discriminator 4 view .LVU3983
 11755 00d6 009B     		ldr	r3, [sp]
ARM GAS  /tmp/cc9mPikx.s 			page 373


 11756 00d8 9A42     		cmp	r2, r3
 11757 00da C0F0AF82 		bcc	.L919
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11758              		.loc 1 5367 3 is_stmt 1 view .LVU3984
5367:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11759              		.loc 1 5367 10 is_stmt 0 view .LVU3985
 11760 00de D21A     		subs	r2, r2, r3
 11761 00e0 0992     		str	r2, [sp, #36]
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11762              		.loc 1 5369 2 is_stmt 1 view .LVU3986
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11763              		.loc 1 5369 5 is_stmt 0 view .LVU3987
 11764 00e2 7F2A     		cmp	r2, #127
 11765 00e4 40F2AC82 		bls	.L920
5372:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
 11766              		.loc 1 5372 2 is_stmt 1 view .LVU3988
5373:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
 11767              		.loc 1 5373 3 view .LVU3989
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11768              		.loc 1 5378 3 view .LVU3990
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11769              		.loc 1 5378 6 is_stmt 0 view .LVU3991
 11770 00e8 802D     		cmp	r5, #128
 11771 00ea 00F2AB82 		bhi	.L921
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11772              		.loc 1 5379 3 is_stmt 1 view .LVU3992
5379:Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11773              		.loc 1 5379 6 is_stmt 0 view .LVU3993
 11774 00ee 18F00201 		ands	r1, r8, #2
 11775 00f2 06D0     		beq	.L870
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11776              		.loc 1 5380 4 is_stmt 1 view .LVU3994
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11777              		.loc 1 5380 7 is_stmt 0 view .LVU3995
 11778 00f4 08F00703 		and	r3, r8, #7
 11779 00f8 022B     		cmp	r3, #2
 11780 00fa 67D0     		beq	.L922
5380:Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11781              		.loc 1 5380 35 discriminator 1 view .LVU3996
 11782 00fc 18F0010F 		tst	r8, #1
 11783 0100 6AD0     		beq	.L923
 11784              	.L870:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11785              		.loc 1 5384 3 is_stmt 1 view .LVU3997
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11786              		.loc 1 5384 6 is_stmt 0 view .LVU3998
 11787 0102 18F0010F 		tst	r8, #1
 11788 0106 00F09F82 		beq	.L924
5385:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
 11789              		.loc 1 5385 7 view .LVU3999
 11790 010a 4FF0020B 		mov	fp, #2
 11791 010e 0394     		str	r4, [sp, #12]
 11792 0110 CDF81090 		str	r9, [sp, #16]
 11793              	.LVL1360:
 11794              	.L872:
5386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11795              		.loc 1 5386 10 is_stmt 1 view .LVU4000
ARM GAS  /tmp/cc9mPikx.s 			page 374


5552:Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 11796              		.loc 1 5552 3 view .LVU4001
5553:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11797              		.loc 1 5553 4 view .LVU4002
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11798              		.loc 1 5555 4 view .LVU4003
5555:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11799              		.loc 1 5555 7 is_stmt 0 view .LVU4004
 11800 0114 BBF1030F 		cmp	fp, #3
 11801 0118 68D0     		beq	.L890
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11802              		.loc 1 5566 5 is_stmt 1 view .LVU4005
5566:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11803              		.loc 1 5566 8 is_stmt 0 view .LVU4006
 11804 011a 002D     		cmp	r5, #0
 11805 011c 00F08F80 		beq	.L949
 11806 0120 AA46     		mov	r10, r5
 11807              	.LVL1361:
 11808              	.L878:
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11809              		.loc 1 5570 5 is_stmt 1 view .LVU4007
5570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11810              		.loc 1 5570 12 is_stmt 0 view .LVU4008
 11811 0122 B2FBFAF3 		udiv	r3, r2, r10
 11812              	.LVL1362:
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11813              		.loc 1 5571 5 is_stmt 1 view .LVU4009
5571:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11814              		.loc 1 5571 8 is_stmt 0 view .LVU4010
 11815 0126 40F6F570 		movw	r0, #4085
 11816 012a 8342     		cmp	r3, r0
 11817 012c 40F29880 		bls	.L881
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11818              		.loc 1 5572 6 is_stmt 1 view .LVU4011
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11819              		.loc 1 5572 21 is_stmt 0 view .LVU4012
 11820 0130 03F10208 		add	r8, r3, #2
5572:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 11821              		.loc 1 5572 8 view .LVU4013
 11822 0134 4FEA4808 		lsl	r8, r8, #1
 11823              	.LVL1363:
 11824              	.L882:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11825              		.loc 1 5577 5 is_stmt 1 view .LVU4014
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11826              		.loc 1 5577 17 is_stmt 0 view .LVU4015
 11827 0138 BDF82E30 		ldrh	r3, [sp, #46]
 11828 013c 9844     		add	r8, r8, r3
 11829              	.LVL1364:
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11830              		.loc 1 5577 22 view .LVU4016
 11831 013e 08F1FF38 		add	r8, r8, #-1
5577:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11832              		.loc 1 5577 12 view .LVU4017
 11833 0142 B8FBF3F8 		udiv	r8, r8, r3
 11834              	.LVL1365:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
ARM GAS  /tmp/cc9mPikx.s 			page 375


 11835              		.loc 1 5578 5 is_stmt 1 view .LVU4018
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11836              		.loc 1 5579 5 view .LVU4019
5579:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11837              		.loc 1 5579 12 is_stmt 0 view .LVU4020
 11838 0146 4FF4804C 		mov	ip, #16384
 11839 014a BCFBF3FC 		udiv	ip, ip, r3
 11840              	.LVL1366:
5578:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11841              		.loc 1 5578 12 view .LVU4021
 11842 014e 4FF0010E 		mov	lr, #1
 11843              	.LVL1367:
 11844              	.L877:
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11845              		.loc 1 5581 4 is_stmt 1 view .LVU4022
5581:Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11846              		.loc 1 5581 10 is_stmt 0 view .LVU4023
 11847 0152 009B     		ldr	r3, [sp]
 11848 0154 0EEB0309 		add	r9, lr, r3
 11849              	.LVL1368:
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11850              		.loc 1 5582 4 is_stmt 1 view .LVU4024
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11851              		.loc 1 5582 19 is_stmt 0 view .LVU4025
 11852 0158 08EB0903 		add	r3, r8, r9
5582:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11853              		.loc 1 5582 11 view .LVU4026
 11854 015c 6344     		add	r3, r3, ip
 11855              	.LVL1369:
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11856              		.loc 1 5585 4 is_stmt 1 view .LVU4027
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11857              		.loc 1 5585 17 is_stmt 0 view .LVU4028
 11858 015e 0A9C     		ldr	r4, [sp, #40]
 11859 0160 E018     		adds	r0, r4, r3
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11860              		.loc 1 5585 26 view .LVU4029
 11861 0162 0138     		subs	r0, r0, #1
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11862              		.loc 1 5585 33 view .LVU4030
 11863 0164 6442     		rsbs	r4, r4, #0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11864              		.loc 1 5585 31 view .LVU4031
 11865 0166 0440     		ands	r4, r4, r0
5585:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11866              		.loc 1 5585 6 view .LVU4032
 11867 0168 E41A     		subs	r4, r4, r3
 11868              	.LVL1370:
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11869              		.loc 1 5586 4 is_stmt 1 view .LVU4033
5586:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11870              		.loc 1 5586 7 is_stmt 0 view .LVU4034
 11871 016a BBF1030F 		cmp	fp, #3
 11872 016e 00F08280 		beq	.L950
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11873              		.loc 1 5589 5 is_stmt 1 view .LVU4035
5589:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9mPikx.s 			page 376


 11874              		.loc 1 5589 12 is_stmt 0 view .LVU4036
 11875 0172 A044     		add	r8, r8, r4
 11876              	.LVL1371:
 11877              	.L884:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11878              		.loc 1 5593 4 is_stmt 1 view .LVU4037
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11879              		.loc 1 5593 24 is_stmt 0 view .LVU4038
 11880 0174 03EB0A13 		add	r3, r3, r10, lsl #4
 11881              	.LVL1372:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11882              		.loc 1 5593 35 view .LVU4039
 11883 0178 0098     		ldr	r0, [sp]
 11884 017a 1B1A     		subs	r3, r3, r0
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11885              		.loc 1 5593 7 view .LVU4040
 11886 017c 9A42     		cmp	r2, r3
 11887 017e C0F06782 		bcc	.L928
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11888              		.loc 1 5594 4 is_stmt 1 view .LVU4041
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11889              		.loc 1 5594 21 is_stmt 0 view .LVU4042
 11890 0182 A2EB0E03 		sub	r3, r2, lr
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11891              		.loc 1 5594 30 view .LVU4043
 11892 0186 A3EB0803 		sub	r3, r3, r8
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11893              		.loc 1 5594 48 view .LVU4044
 11894 018a A3EB0C03 		sub	r3, r3, ip
5594:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11895              		.loc 1 5594 11 view .LVU4045
 11896 018e B3FBFAF3 		udiv	r3, r3, r10
 11897              	.LVL1373:
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11898              		.loc 1 5595 4 is_stmt 1 view .LVU4046
5595:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11899              		.loc 1 5595 7 is_stmt 0 view .LVU4047
 11900 0192 BBF1030F 		cmp	fp, #3
 11901 0196 71D0     		beq	.L951
 11902              	.L885:
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11903              		.loc 1 5601 4 is_stmt 1 view .LVU4048
5601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11904              		.loc 1 5601 7 is_stmt 0 view .LVU4049
 11905 0198 BBF1020F 		cmp	fp, #2
 11906 019c 40F09680 		bne	.L887
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11907              		.loc 1 5602 5 is_stmt 1 view .LVU4050
5602:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11908              		.loc 1 5602 8 is_stmt 0 view .LVU4051
 11909 01a0 4FF6F570 		movw	r0, #65525
 11910 01a4 8342     		cmp	r3, r0
 11911 01a6 78D9     		bls	.L888
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11912              		.loc 1 5603 6 is_stmt 1 view .LVU4052
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11913              		.loc 1 5603 9 is_stmt 0 view .LVU4053
ARM GAS  /tmp/cc9mPikx.s 			page 377


 11914 01a8 1DB9     		cbnz	r5, .L889
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11915              		.loc 1 5603 22 discriminator 1 view .LVU4054
 11916 01aa 4FEA4A03 		lsl	r3, r10, #1
 11917              	.LVL1374:
5603:Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11918              		.loc 1 5603 14 discriminator 1 view .LVU4055
 11919 01ae 402B     		cmp	r3, #64
 11920 01b0 18D9     		bls	.L930
 11921              	.L889:
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11922              		.loc 1 5606 6 is_stmt 1 view .LVU4056
5606:Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11923              		.loc 1 5606 9 is_stmt 0 view .LVU4057
 11924 01b2 C9B9     		cbnz	r1, .L931
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11925              		.loc 1 5609 6 is_stmt 1 view .LVU4058
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11926              		.loc 1 5609 9 is_stmt 0 view .LVU4059
 11927 01b4 002D     		cmp	r5, #0
 11928 01b6 40F04F82 		bne	.L932
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11929              		.loc 1 5609 21 discriminator 1 view .LVU4060
 11930 01ba 4FEA4A05 		lsl	r5, r10, #1
 11931              	.LVL1375:
5609:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11932              		.loc 1 5609 14 discriminator 1 view .LVU4061
 11933 01be 802D     		cmp	r5, #128
 11934 01c0 A8D9     		bls	.L872
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 11935              		.loc 1 5610 13 view .LVU4062
 11936 01c2 0E20     		movs	r0, #14
 11937 01c4 27E2     		b	.L864
 11938              	.LVL1376:
 11939              	.L918:
5365:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11940              		.loc 1 5365 30 view .LVU4063
 11941 01c6 3F23     		movs	r3, #63
 11942 01c8 0093     		str	r3, [sp]
 11943 01ca 83E7     		b	.L869
 11944              	.LVL1377:
 11945              	.L922:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11946              		.loc 1 5381 9 view .LVU4064
 11947 01cc 4FF0030B 		mov	fp, #3
 11948 01d0 0394     		str	r4, [sp, #12]
 11949 01d2 CDF81090 		str	r9, [sp, #16]
 11950 01d6 9DE7     		b	.L872
 11951              	.L923:
5381:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 11952              		.loc 1 5381 9 view .LVU4065
 11953 01d8 4FF0030B 		mov	fp, #3
 11954 01dc 0394     		str	r4, [sp, #12]
 11955 01de CDF81090 		str	r9, [sp, #16]
 11956 01e2 97E7     		b	.L872
 11957              	.LVL1378:
 11958              	.L930:
ARM GAS  /tmp/cc9mPikx.s 			page 378


5604:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11959              		.loc 1 5604 10 view .LVU4066
 11960 01e4 1D46     		mov	r5, r3
 11961 01e6 95E7     		b	.L872
 11962              	.L931:
5607:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 11963              		.loc 1 5607 11 view .LVU4067
 11964 01e8 4FF0030B 		mov	fp, #3
 11965              	.LVL1379:
 11966              	.L890:
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11967              		.loc 1 5556 5 is_stmt 1 view .LVU4068
5556:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11968              		.loc 1 5556 8 is_stmt 0 view .LVU4069
 11969 01ec BDB1     		cbz	r5, .L952
 11970 01ee AA46     		mov	r10, r5
 11971              	.L874:
 11972              	.LVL1380:
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11973              		.loc 1 5560 5 is_stmt 1 view .LVU4070
5560:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11974              		.loc 1 5560 12 is_stmt 0 view .LVU4071
 11975 01f0 B2FBFAF3 		udiv	r3, r2, r10
 11976              	.LVL1381:
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11977              		.loc 1 5561 5 is_stmt 1 view .LVU4072
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11978              		.loc 1 5561 26 is_stmt 0 view .LVU4073
 11979 01f4 03F10208 		add	r8, r3, #2
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11980              		.loc 1 5561 30 view .LVU4074
 11981 01f8 BDF82E00 		ldrh	r0, [sp, #46]
 11982 01fc 00EB8808 		add	r8, r0, r8, lsl #2
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11983              		.loc 1 5561 35 view .LVU4075
 11984 0200 08F1FF38 		add	r8, r8, #-1
5561:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11985              		.loc 1 5561 12 view .LVU4076
 11986 0204 B8FBF0F8 		udiv	r8, r8, r0
 11987              	.LVL1382:
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 11988              		.loc 1 5562 5 is_stmt 1 view .LVU4077
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 11989              		.loc 1 5563 5 view .LVU4078
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11990              		.loc 1 5564 5 view .LVU4079
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11991              		.loc 1 5564 29 is_stmt 0 view .LVU4080
 11992 0208 2C48     		ldr	r0, .L960+4
 11993 020a 1844     		add	r0, r0, r3
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11994              		.loc 1 5564 8 view .LVU4081
 11995 020c 2C4B     		ldr	r3, .L960+8
 11996              	.LVL1383:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 11997              		.loc 1 5564 8 view .LVU4082
 11998 020e 9842     		cmp	r0, r3
ARM GAS  /tmp/cc9mPikx.s 			page 379


 11999 0210 00F21C82 		bhi	.L926
5563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 12000              		.loc 1 5563 12 view .LVU4083
 12001 0214 DDF804C0 		ldr	ip, [sp, #4]
5562:Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 12002              		.loc 1 5562 12 view .LVU4084
 12003 0218 4FF0200E 		mov	lr, #32
 12004 021c 99E7     		b	.L877
 12005              	.LVL1384:
 12006              	.L952:
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 12007              		.loc 1 5557 6 is_stmt 1 view .LVU4085
5557:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 12008              		.loc 1 5557 8 is_stmt 0 view .LVU4086
 12009 021e 540C     		lsrs	r4, r2, #17
 12010              	.LVL1385:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12011              		.loc 1 5558 6 is_stmt 1 view .LVU4087
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12012              		.loc 1 5558 13 is_stmt 0 view .LVU4088
 12013 0220 2846     		mov	r0, r5
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12014              		.loc 1 5558 22 view .LVU4089
 12015 0222 4FF0010A 		mov	r10, #1
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12016              		.loc 1 5558 6 view .LVU4090
 12017 0226 02E0     		b	.L875
 12018              	.LVL1386:
 12019              	.L876:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12020              		.loc 1 5558 70 is_stmt 1 discriminator 4 view .LVU4091
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12021              		.loc 1 5558 54 discriminator 4 view .LVU4092
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12022              		.loc 1 5558 55 is_stmt 0 discriminator 4 view .LVU4093
 12023 0228 0130     		adds	r0, r0, #1
 12024              	.LVL1387:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12025              		.loc 1 5558 63 discriminator 4 view .LVU4094
 12026 022a 4FEA4A0A 		lsl	r10, r10, #1
 12027              	.LVL1388:
 12028              	.L875:
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12029              		.loc 1 5558 27 is_stmt 1 discriminator 1 view .LVU4095
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12030              		.loc 1 5558 32 is_stmt 0 discriminator 1 view .LVU4096
 12031 022e 254B     		ldr	r3, .L960+12
 12032 0230 33F81030 		ldrh	r3, [r3, r0, lsl #1]
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12033              		.loc 1 5558 6 discriminator 1 view .LVU4097
 12034 0234 002B     		cmp	r3, #0
 12035 0236 DBD0     		beq	.L874
5558:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12036              		.loc 1 5558 36 discriminator 3 view .LVU4098
 12037 0238 A342     		cmp	r3, r4
 12038 023a F5D9     		bls	.L876
 12039 023c D8E7     		b	.L874
ARM GAS  /tmp/cc9mPikx.s 			page 380


 12040              	.LVL1389:
 12041              	.L949:
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 12042              		.loc 1 5567 6 is_stmt 1 view .LVU4099
5567:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 12043              		.loc 1 5567 8 is_stmt 0 view .LVU4100
 12044 023e 140B     		lsrs	r4, r2, #12
 12045              	.LVL1390:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12046              		.loc 1 5568 6 is_stmt 1 view .LVU4101
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12047              		.loc 1 5568 13 is_stmt 0 view .LVU4102
 12048 0240 2846     		mov	r0, r5
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12049              		.loc 1 5568 22 view .LVU4103
 12050 0242 4FF0010A 		mov	r10, #1
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12051              		.loc 1 5568 6 view .LVU4104
 12052 0246 02E0     		b	.L879
 12053              	.LVL1391:
 12054              	.L880:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12055              		.loc 1 5568 66 is_stmt 1 discriminator 4 view .LVU4105
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12056              		.loc 1 5568 50 discriminator 4 view .LVU4106
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12057              		.loc 1 5568 51 is_stmt 0 discriminator 4 view .LVU4107
 12058 0248 0130     		adds	r0, r0, #1
 12059              	.LVL1392:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12060              		.loc 1 5568 59 discriminator 4 view .LVU4108
 12061 024a 4FEA4A0A 		lsl	r10, r10, #1
 12062              	.LVL1393:
 12063              	.L879:
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12064              		.loc 1 5568 27 is_stmt 1 discriminator 1 view .LVU4109
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12065              		.loc 1 5568 30 is_stmt 0 discriminator 1 view .LVU4110
 12066 024e 1E4B     		ldr	r3, .L960+16
 12067 0250 33F81030 		ldrh	r3, [r3, r0, lsl #1]
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12068              		.loc 1 5568 6 discriminator 1 view .LVU4111
 12069 0254 002B     		cmp	r3, #0
 12070 0256 3FF464AF 		beq	.L878
5568:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12071              		.loc 1 5568 34 discriminator 3 view .LVU4112
 12072 025a A342     		cmp	r3, r4
 12073 025c F4D9     		bls	.L880
 12074 025e 60E7     		b	.L878
 12075              	.LVL1394:
 12076              	.L881:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 12077              		.loc 1 5574 6 is_stmt 1 view .LVU4113
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12078              		.loc 1 5575 6 view .LVU4114
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12079              		.loc 1 5575 18 is_stmt 0 view .LVU4115
ARM GAS  /tmp/cc9mPikx.s 			page 381


 12080 0260 03EB4303 		add	r3, r3, r3, lsl #1
 12081              	.LVL1395:
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12082              		.loc 1 5575 22 view .LVU4116
 12083 0264 03F10108 		add	r8, r3, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12084              		.loc 1 5575 27 view .LVU4117
 12085 0268 4FEA5808 		lsr	r8, r8, #1
5575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12086              		.loc 1 5575 8 view .LVU4118
 12087 026c 08F10308 		add	r8, r8, #3
 12088              	.LVL1396:
5574:Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 12089              		.loc 1 5574 10 view .LVU4119
 12090 0270 4FF0010B 		mov	fp, #1
 12091 0274 60E7     		b	.L882
 12092              	.LVL1397:
 12093              	.L950:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12094              		.loc 1 5587 5 is_stmt 1 view .LVU4120
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12095              		.loc 1 5587 12 is_stmt 0 view .LVU4121
 12096 0276 A644     		add	lr, lr, r4
 12097              	.LVL1398:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12098              		.loc 1 5587 18 is_stmt 1 view .LVU4122
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12099              		.loc 1 5587 24 is_stmt 0 view .LVU4123
 12100 0278 A144     		add	r9, r9, r4
 12101              	.LVL1399:
5587:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
 12102              		.loc 1 5587 24 view .LVU4124
 12103 027a 7BE7     		b	.L884
 12104              	.LVL1400:
 12105              	.L951:
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 12106              		.loc 1 5596 5 is_stmt 1 view .LVU4125
5596:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 12107              		.loc 1 5596 8 is_stmt 0 view .LVU4126
 12108 027c 4FF6F570 		movw	r0, #65525
 12109 0280 8342     		cmp	r3, r0
 12110 0282 89D8     		bhi	.L885
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12111              		.loc 1 5597 6 is_stmt 1 view .LVU4127
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12112              		.loc 1 5597 9 is_stmt 0 view .LVU4128
 12113 0284 002D     		cmp	r5, #0
 12114 0286 40F0E581 		bne	.L929
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12115              		.loc 1 5597 21 discriminator 1 view .LVU4129
 12116 028a 4FEA5A05 		lsr	r5, r10, #1
 12117              	.LVL1401:
5597:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12118              		.loc 1 5597 14 discriminator 1 view .LVU4130
 12119 028e BAF1010F 		cmp	r10, #1
 12120 0292 3FF63FAF 		bhi	.L872
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/cc9mPikx.s 			page 382


 12121              		.loc 1 5598 13 view .LVU4131
 12122 0296 0E20     		movs	r0, #14
 12123 0298 BDE1     		b	.L864
 12124              	.LVL1402:
 12125              	.L888:
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 12126              		.loc 1 5612 5 is_stmt 1 view .LVU4132
5612:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 12127              		.loc 1 5612 9 is_stmt 0 view .LVU4133
 12128 029a 40F6F570 		movw	r0, #4085
 12129 029e 8342     		cmp	r3, r0
 12130 02a0 14D8     		bhi	.L887
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12131              		.loc 1 5613 6 is_stmt 1 view .LVU4134
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12132              		.loc 1 5613 9 is_stmt 0 view .LVU4135
 12133 02a2 002D     		cmp	r5, #0
 12134 02a4 40F0E681 		bne	.L933
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12135              		.loc 1 5613 21 discriminator 1 view .LVU4136
 12136 02a8 4FEA4A05 		lsl	r5, r10, #1
 12137              	.LVL1403:
5613:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 12138              		.loc 1 5613 14 discriminator 1 view .LVU4137
 12139 02ac 802D     		cmp	r5, #128
 12140 02ae 7FF631AF 		bls	.L872
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12141              		.loc 1 5614 13 view .LVU4138
 12142 02b2 0E20     		movs	r0, #14
 12143 02b4 AFE1     		b	.L864
 12144              	.L961:
 12145 02b6 00BF     		.align	2
 12146              	.L960:
 12147 02b8 00000000 		.word	.LANCHOR2
 12148 02bc 0A00FFFF 		.word	-65526
 12149 02c0 FFFFFE0F 		.word	268369919
 12150 02c4 00000000 		.word	.LANCHOR6
 12151 02c8 00000000 		.word	.LANCHOR7
 12152              	.LVL1404:
 12153              	.L887:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12154              		.loc 1 5614 13 view .LVU4139
 12155 02cc CDF818C0 		str	ip, [sp, #24]
 12156 02d0 7546     		mov	r5, lr
 12157 02d2 CDF81490 		str	r9, [sp, #20]
 12158 02d6 039C     		ldr	r4, [sp, #12]
 12159              	.LVL1405:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12160              		.loc 1 5614 13 view .LVU4140
 12161 02d8 DDF81090 		ldr	r9, [sp, #16]
 12162              	.LVL1406:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12163              		.loc 1 5614 13 view .LVU4141
 12164 02dc 0493     		str	r3, [sp, #16]
 12165              	.LVL1407:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12166              		.loc 1 5617 4 is_stmt 1 view .LVU4142
ARM GAS  /tmp/cc9mPikx.s 			page 383


5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12167              		.loc 1 5617 24 is_stmt 0 view .LVU4143
 12168 02de 40F6F572 		movw	r2, #4085
 12169 02e2 1946     		mov	r1, r3
 12170 02e4 BBF1010F 		cmp	fp, #1
 12171 02e8 14BF     		ite	ne
 12172 02ea 0023     		movne	r3, #0
 12173              	.LVL1408:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12174              		.loc 1 5617 24 view .LVU4144
 12175 02ec 0123     		moveq	r3, #1
 12176 02ee 9142     		cmp	r1, r2
 12177 02f0 98BF     		it	ls
 12178 02f2 0023     		movls	r3, #0
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12179              		.loc 1 5617 7 view .LVU4145
 12180 02f4 002B     		cmp	r3, #0
 12181 02f6 40F0BF81 		bne	.L934
 12182              	.LVL1409:
5620:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
 12183              		.loc 1 5620 4 is_stmt 1 view .LVU4146
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 12184              		.loc 1 5628 3 view .LVU4147
 12185 02fa BDF82E20 		ldrh	r2, [sp, #46]
 12186 02fe 0021     		movs	r1, #0
 12187              	.LVL1410:
5628:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 12188              		.loc 1 5628 3 is_stmt 0 view .LVU4148
 12189 0300 3046     		mov	r0, r6
 12190 0302 FFF7FEFF 		bl	mem_set
 12191              	.LVL1411:
5629:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 12192              		.loc 1 5629 3 is_stmt 1 view .LVU4149
 12193 0306 0B22     		movs	r2, #11
 12194 0308 D449     		ldr	r1, .L962
 12195 030a 3046     		mov	r0, r6
 12196 030c FFF7FEFF 		bl	mem_cpy
 12197              	.LVL1412:
5630:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 12198              		.loc 1 5630 3 view .LVU4150
 12199 0310 BDF82E10 		ldrh	r1, [sp, #46]
 12200 0314 06F10B00 		add	r0, r6, #11
 12201 0318 FFF7FEFF 		bl	st_word
 12202              	.LVL1413:
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 12203              		.loc 1 5631 3 view .LVU4151
5631:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 12204              		.loc 1 5631 23 is_stmt 0 view .LVU4152
 12205 031c 86F80DA0 		strb	r10, [r6, #13]
5632:Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 12206              		.loc 1 5632 3 is_stmt 1 view .LVU4153
 12207 0320 A9B2     		uxth	r1, r5
 12208 0322 06F10E00 		add	r0, r6, #14
 12209 0326 FFF7FEFF 		bl	st_word
 12210              	.LVL1414:
5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 12211              		.loc 1 5633 3 view .LVU4154
ARM GAS  /tmp/cc9mPikx.s 			page 384


5633:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 12212              		.loc 1 5633 20 is_stmt 0 view .LVU4155
 12213 032a 0123     		movs	r3, #1
 12214 032c 3374     		strb	r3, [r6, #16]
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 12215              		.loc 1 5634 3 is_stmt 1 view .LVU4156
 12216 032e 06F11100 		add	r0, r6, #17
 12217 0332 BBF1030F 		cmp	fp, #3
 12218 0336 7DD0     		beq	.L953
 12219 0338 4FF40071 		mov	r1, #512
 12220              	.L891:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 12221              		.loc 1 5634 3 is_stmt 0 discriminator 4 view .LVU4157
 12222 033c FFF7FEFF 		bl	st_word
 12223              	.LVL1415:
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 12224              		.loc 1 5635 3 is_stmt 1 discriminator 4 view .LVU4158
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 12225              		.loc 1 5635 14 is_stmt 0 discriminator 4 view .LVU4159
 12226 0340 0999     		ldr	r1, [sp, #36]
5635:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 12227              		.loc 1 5635 6 discriminator 4 view .LVU4160
 12228 0342 B1F5803F 		cmp	r1, #65536
 12229 0346 77D2     		bcs	.L892
5636:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12230              		.loc 1 5636 4 is_stmt 1 view .LVU4161
 12231 0348 89B2     		uxth	r1, r1
 12232 034a 06F11300 		add	r0, r6, #19
 12233 034e FFF7FEFF 		bl	st_word
 12234              	.LVL1416:
 12235              	.L893:
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 12236              		.loc 1 5640 3 view .LVU4162
5640:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 12237              		.loc 1 5640 18 is_stmt 0 view .LVU4163
 12238 0352 F823     		movs	r3, #248
 12239 0354 7375     		strb	r3, [r6, #21]
5641:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 12240              		.loc 1 5641 3 is_stmt 1 view .LVU4164
 12241 0356 3F21     		movs	r1, #63
 12242 0358 06F11800 		add	r0, r6, #24
 12243 035c FFF7FEFF 		bl	st_word
 12244              	.LVL1417:
5642:Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 12245              		.loc 1 5642 3 view .LVU4165
 12246 0360 FF21     		movs	r1, #255
 12247 0362 06F11A00 		add	r0, r6, #26
 12248 0366 FFF7FEFF 		bl	st_word
 12249              	.LVL1418:
5643:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 12250              		.loc 1 5643 3 view .LVU4166
 12251 036a 0099     		ldr	r1, [sp]
 12252 036c 06F11C00 		add	r0, r6, #28
 12253 0370 FFF7FEFF 		bl	st_dword
 12254              	.LVL1419:
5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 12255              		.loc 1 5644 3 view .LVU4167
ARM GAS  /tmp/cc9mPikx.s 			page 385


5644:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 12256              		.loc 1 5644 6 is_stmt 0 view .LVU4168
 12257 0374 BBF1030F 		cmp	fp, #3
 12258 0378 63D0     		beq	.L954
5654:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 12259              		.loc 1 5654 4 is_stmt 1 view .LVU4169
 12260 037a FFF7FEFF 		bl	get_fattime
 12261              	.LVL1420:
 12262 037e 0146     		mov	r1, r0
 12263 0380 06F12700 		add	r0, r6, #39
 12264 0384 FFF7FEFF 		bl	st_dword
 12265              	.LVL1421:
5655:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 12266              		.loc 1 5655 4 view .LVU4170
 12267 0388 1FFA88F1 		uxth	r1, r8
 12268 038c 06F11600 		add	r0, r6, #22
 12269 0390 FFF7FEFF 		bl	st_word
 12270              	.LVL1422:
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 12271              		.loc 1 5656 4 view .LVU4171
5656:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 12272              		.loc 1 5656 19 is_stmt 0 view .LVU4172
 12273 0394 8023     		movs	r3, #128
 12274 0396 86F82430 		strb	r3, [r6, #36]
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 12275              		.loc 1 5657 4 is_stmt 1 view .LVU4173
5657:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 12276              		.loc 1 5657 20 is_stmt 0 view .LVU4174
 12277 039a 2923     		movs	r3, #41
 12278 039c 86F82630 		strb	r3, [r6, #38]
5658:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12279              		.loc 1 5658 4 is_stmt 1 view .LVU4175
 12280 03a0 1322     		movs	r2, #19
 12281 03a2 AF49     		ldr	r1, .L962+4
 12282 03a4 06F12B00 		add	r0, r6, #43
 12283 03a8 FFF7FEFF 		bl	mem_cpy
 12284              	.LVL1423:
 12285              	.L895:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 12286              		.loc 1 5660 3 view .LVU4176
 12287 03ac 06F5FF73 		add	r3, r6, #510
 12288 03b0 0393     		str	r3, [sp, #12]
 12289              	.LVL1424:
5660:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 12290              		.loc 1 5660 3 is_stmt 0 view .LVU4177
 12291 03b2 4AF65521 		movw	r1, #43605
 12292 03b6 1846     		mov	r0, r3
 12293 03b8 FFF7FEFF 		bl	st_word
 12294              	.LVL1425:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12295              		.loc 1 5661 3 is_stmt 1 view .LVU4178
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12296              		.loc 1 5661 7 is_stmt 0 view .LVU4179
 12297 03bc 0123     		movs	r3, #1
 12298 03be 009A     		ldr	r2, [sp]
 12299 03c0 3146     		mov	r1, r6
 12300 03c2 2046     		mov	r0, r4
ARM GAS  /tmp/cc9mPikx.s 			page 386


 12301 03c4 FFF7FEFF 		bl	disk_write
 12302              	.LVL1426:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12303              		.loc 1 5661 6 view .LVU4180
 12304 03c8 0028     		cmp	r0, #0
 12305 03ca 40F05781 		bne	.L936
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 12306              		.loc 1 5664 3 is_stmt 1 view .LVU4181
5664:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 12307              		.loc 1 5664 6 is_stmt 0 view .LVU4182
 12308 03ce BBF1030F 		cmp	fp, #3
 12309 03d2 5ED0     		beq	.L955
 12310              	.LVL1427:
 12311              	.L896:
5677:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 12312              		.loc 1 5677 3 is_stmt 1 view .LVU4183
 12313 03d4 3A46     		mov	r2, r7
 12314 03d6 0021     		movs	r1, #0
 12315 03d8 3046     		mov	r0, r6
 12316 03da FFF7FEFF 		bl	mem_set
 12317              	.LVL1428:
5678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
 12318              		.loc 1 5678 3 view .LVU4184
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12319              		.loc 1 5679 3 view .LVU4185
 12320              	.L897:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12321              		.loc 1 5679 15 discriminator 1 view .LVU4186
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12322              		.loc 1 5679 3 is_stmt 0 discriminator 1 view .LVU4187
 12323 03de 019B     		ldr	r3, [sp, #4]
 12324 03e0 002B     		cmp	r3, #0
 12325 03e2 00F08980 		beq	.L902
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12326              		.loc 1 5697 3 is_stmt 1 view .LVU4188
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12327              		.loc 1 5697 35 is_stmt 0 view .LVU4189
 12328 03e6 BBF1030F 		cmp	fp, #3
 12329 03ea 00F0C080 		beq	.L956
 12330 03ee 069F     		ldr	r7, [sp, #24]
 12331 03f0 DDF81480 		ldr	r8, [sp, #20]
 12332              	.LVL1429:
 12333              	.L904:
5698:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 12334              		.loc 1 5698 3 is_stmt 1 view .LVU4190
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12335              		.loc 1 5699 4 view .LVU4191
5699:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12336              		.loc 1 5699 6 is_stmt 0 view .LVU4192
 12337 03f4 3D46     		mov	r5, r7
 12338 03f6 4F45     		cmp	r7, r9
 12339 03f8 28BF     		it	cs
 12340 03fa 4D46     		movcs	r5, r9
 12341              	.LVL1430:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12342              		.loc 1 5700 4 is_stmt 1 view .LVU4193
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
ARM GAS  /tmp/cc9mPikx.s 			page 387


 12343              		.loc 1 5700 8 is_stmt 0 view .LVU4194
 12344 03fc 2B46     		mov	r3, r5
 12345 03fe 4246     		mov	r2, r8
 12346 0400 3146     		mov	r1, r6
 12347 0402 2046     		mov	r0, r4
 12348 0404 FFF7FEFF 		bl	disk_write
 12349              	.LVL1431:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12350              		.loc 1 5700 7 view .LVU4195
 12351 0408 0028     		cmp	r0, #0
 12352 040a 40F03B81 		bne	.L939
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12353              		.loc 1 5701 4 is_stmt 1 view .LVU4196
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12354              		.loc 1 5701 9 is_stmt 0 view .LVU4197
 12355 040e A844     		add	r8, r8, r5
 12356              	.LVL1432:
5701:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12357              		.loc 1 5701 15 is_stmt 1 view .LVU4198
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12358              		.loc 1 5702 11 view .LVU4199
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12359              		.loc 1 5702 3 is_stmt 0 view .LVU4200
 12360 0410 7F1B     		subs	r7, r7, r5
 12361              	.LVL1433:
5702:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12362              		.loc 1 5702 3 view .LVU4201
 12363 0412 EFD1     		bne	.L904
5706:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
 12364              		.loc 1 5706 2 is_stmt 1 view .LVU4202
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 12365              		.loc 1 5709 3 view .LVU4203
5709:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 12366              		.loc 1 5709 6 is_stmt 0 view .LVU4204
 12367 0414 BBF1030F 		cmp	fp, #3
 12368 0418 00F0B080 		beq	.L940
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12369              		.loc 1 5712 4 is_stmt 1 view .LVU4205
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12370              		.loc 1 5712 15 is_stmt 0 view .LVU4206
 12371 041c 099B     		ldr	r3, [sp, #36]
5712:Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12372              		.loc 1 5712 7 view .LVU4207
 12373 041e B3F5803F 		cmp	r3, #65536
 12374 0422 80F0F080 		bcs	.L941
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12375              		.loc 1 5715 5 is_stmt 1 view .LVU4208
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12376              		.loc 1 5715 9 is_stmt 0 view .LVU4209
 12377 0426 BBF1020F 		cmp	fp, #2
 12378 042a 00F0A480 		beq	.L957
 12379 042e 4FF00108 		mov	r8, #1
 12380              	.LVL1434:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12381              		.loc 1 5715 9 view .LVU4210
 12382 0432 A5E0     		b	.L905
 12383              	.LVL1435:
ARM GAS  /tmp/cc9mPikx.s 			page 388


 12384              	.L953:
5634:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 12385              		.loc 1 5634 3 view .LVU4211
 12386 0434 0021     		movs	r1, #0
 12387 0436 81E7     		b	.L891
 12388              	.L892:
5638:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12389              		.loc 1 5638 4 is_stmt 1 view .LVU4212
 12390 0438 06F12000 		add	r0, r6, #32
 12391 043c FFF7FEFF 		bl	st_dword
 12392              	.LVL1436:
 12393 0440 87E7     		b	.L893
 12394              	.L954:
5645:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 12395              		.loc 1 5645 4 view .LVU4213
 12396 0442 FFF7FEFF 		bl	get_fattime
 12397              	.LVL1437:
 12398 0446 0146     		mov	r1, r0
 12399 0448 06F14300 		add	r0, r6, #67
 12400 044c FFF7FEFF 		bl	st_dword
 12401              	.LVL1438:
5646:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 12402              		.loc 1 5646 4 view .LVU4214
 12403 0450 4146     		mov	r1, r8
 12404 0452 06F12400 		add	r0, r6, #36
 12405 0456 FFF7FEFF 		bl	st_dword
 12406              	.LVL1439:
5647:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 12407              		.loc 1 5647 4 view .LVU4215
 12408 045a 0221     		movs	r1, #2
 12409 045c 06F12C00 		add	r0, r6, #44
 12410 0460 FFF7FEFF 		bl	st_dword
 12411              	.LVL1440:
5648:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 12412              		.loc 1 5648 4 view .LVU4216
 12413 0464 0121     		movs	r1, #1
 12414 0466 06F13000 		add	r0, r6, #48
 12415 046a FFF7FEFF 		bl	st_word
 12416              	.LVL1441:
5649:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 12417              		.loc 1 5649 4 view .LVU4217
 12418 046e 0621     		movs	r1, #6
 12419 0470 06F13200 		add	r0, r6, #50
 12420 0474 FFF7FEFF 		bl	st_word
 12421              	.LVL1442:
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 12422              		.loc 1 5650 4 view .LVU4218
5650:Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 12423              		.loc 1 5650 21 is_stmt 0 view .LVU4219
 12424 0478 8023     		movs	r3, #128
 12425 047a 86F84030 		strb	r3, [r6, #64]
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 12426              		.loc 1 5651 4 is_stmt 1 view .LVU4220
5651:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 12427              		.loc 1 5651 22 is_stmt 0 view .LVU4221
 12428 047e 2923     		movs	r3, #41
 12429 0480 86F84230 		strb	r3, [r6, #66]
ARM GAS  /tmp/cc9mPikx.s 			page 389


5652:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12430              		.loc 1 5652 4 is_stmt 1 view .LVU4222
 12431 0484 1322     		movs	r2, #19
 12432 0486 7749     		ldr	r1, .L962+8
 12433 0488 06F14700 		add	r0, r6, #71
 12434 048c FFF7FEFF 		bl	mem_cpy
 12435              	.LVL1443:
 12436 0490 8CE7     		b	.L895
 12437              	.LVL1444:
 12438              	.L955:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12439              		.loc 1 5665 4 view .LVU4223
 12440 0492 0123     		movs	r3, #1
 12441 0494 009D     		ldr	r5, [sp]
 12442              	.LVL1445:
5665:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12443              		.loc 1 5665 4 is_stmt 0 view .LVU4224
 12444 0496 AA1D     		adds	r2, r5, #6
 12445 0498 3146     		mov	r1, r6
 12446 049a 2046     		mov	r0, r4
 12447 049c FFF7FEFF 		bl	disk_write
 12448              	.LVL1446:
5666:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 12449              		.loc 1 5666 4 is_stmt 1 view .LVU4225
 12450 04a0 BDF82E20 		ldrh	r2, [sp, #46]
 12451 04a4 0021     		movs	r1, #0
 12452 04a6 3046     		mov	r0, r6
 12453 04a8 FFF7FEFF 		bl	mem_set
 12454              	.LVL1447:
5667:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 12455              		.loc 1 5667 4 view .LVU4226
 12456 04ac 6E49     		ldr	r1, .L962+12
 12457 04ae 3046     		mov	r0, r6
 12458 04b0 FFF7FEFF 		bl	st_dword
 12459              	.LVL1448:
5668:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 12460              		.loc 1 5668 4 view .LVU4227
 12461 04b4 6D49     		ldr	r1, .L962+16
 12462 04b6 06F5F270 		add	r0, r6, #484
 12463 04ba FFF7FEFF 		bl	st_dword
 12464              	.LVL1449:
5669:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 12465              		.loc 1 5669 4 view .LVU4228
 12466 04be 049B     		ldr	r3, [sp, #16]
 12467 04c0 591E     		subs	r1, r3, #1
 12468 04c2 06F5F470 		add	r0, r6, #488
 12469 04c6 FFF7FEFF 		bl	st_dword
 12470              	.LVL1450:
5670:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 12471              		.loc 1 5670 4 view .LVU4229
 12472 04ca 0221     		movs	r1, #2
 12473 04cc 06F5F670 		add	r0, r6, #492
 12474 04d0 FFF7FEFF 		bl	st_dword
 12475              	.LVL1451:
5671:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 12476              		.loc 1 5671 4 view .LVU4230
 12477 04d4 4AF65521 		movw	r1, #43605
ARM GAS  /tmp/cc9mPikx.s 			page 390


 12478 04d8 0398     		ldr	r0, [sp, #12]
 12479 04da FFF7FEFF 		bl	st_word
 12480              	.LVL1452:
5672:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 12481              		.loc 1 5672 4 view .LVU4231
 12482 04de 0123     		movs	r3, #1
 12483 04e0 EA1D     		adds	r2, r5, #7
 12484 04e2 3146     		mov	r1, r6
 12485 04e4 2046     		mov	r0, r4
 12486 04e6 FFF7FEFF 		bl	disk_write
 12487              	.LVL1453:
5673:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12488              		.loc 1 5673 4 view .LVU4232
 12489 04ea 0123     		movs	r3, #1
 12490 04ec EA18     		adds	r2, r5, r3
 12491 04ee 3146     		mov	r1, r6
 12492 04f0 2046     		mov	r0, r4
 12493 04f2 FFF7FEFF 		bl	disk_write
 12494              	.LVL1454:
 12495 04f6 6DE7     		b	.L896
 12496              	.LVL1455:
 12497              	.L902:
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 12498              		.loc 1 5680 4 view .LVU4233
5680:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 12499              		.loc 1 5680 7 is_stmt 0 view .LVU4234
 12500 04f8 BBF1030F 		cmp	fp, #3
 12501 04fc 24D0     		beq	.L958
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12502              		.loc 1 5685 5 is_stmt 1 view .LVU4235
 12503 04fe BBF1010F 		cmp	fp, #1
 12504 0502 32D0     		beq	.L959
 12505 0504 6FF00701 		mvn	r1, #7
 12506              	.L900:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12507              		.loc 1 5685 5 is_stmt 0 discriminator 4 view .LVU4236
 12508 0508 3046     		mov	r0, r6
 12509 050a FFF7FEFF 		bl	st_dword
 12510              	.LVL1456:
 12511              	.L899:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12512              		.loc 1 5685 5 view .LVU4237
 12513 050e 4546     		mov	r5, r8
 12514              	.L901:
 12515              	.LVL1457:
5688:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 12516              		.loc 1 5688 4 is_stmt 1 view .LVU4238
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12517              		.loc 1 5689 5 view .LVU4239
5689:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12518              		.loc 1 5689 7 is_stmt 0 view .LVU4240
 12519 0510 2F46     		mov	r7, r5
 12520 0512 4D45     		cmp	r5, r9
 12521 0514 28BF     		it	cs
 12522 0516 4F46     		movcs	r7, r9
 12523              	.LVL1458:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
ARM GAS  /tmp/cc9mPikx.s 			page 391


 12524              		.loc 1 5690 5 is_stmt 1 view .LVU4241
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12525              		.loc 1 5690 9 is_stmt 0 view .LVU4242
 12526 0518 3B46     		mov	r3, r7
 12527 051a 059A     		ldr	r2, [sp, #20]
 12528 051c 3146     		mov	r1, r6
 12529 051e 2046     		mov	r0, r4
 12530 0520 FFF7FEFF 		bl	disk_write
 12531              	.LVL1459:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12532              		.loc 1 5690 8 view .LVU4243
 12533 0524 0028     		cmp	r0, #0
 12534 0526 40F0AB80 		bne	.L938
5691:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 12535              		.loc 1 5691 5 is_stmt 1 view .LVU4244
 12536 052a BDF82E20 		ldrh	r2, [sp, #46]
 12537 052e 0021     		movs	r1, #0
 12538 0530 3046     		mov	r0, r6
 12539 0532 FFF7FEFF 		bl	mem_set
 12540              	.LVL1460:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12541              		.loc 1 5692 5 view .LVU4245
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12542              		.loc 1 5692 10 is_stmt 0 view .LVU4246
 12543 0536 059B     		ldr	r3, [sp, #20]
 12544 0538 3B44     		add	r3, r3, r7
 12545 053a 0593     		str	r3, [sp, #20]
 12546              	.LVL1461:
5692:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12547              		.loc 1 5692 16 is_stmt 1 view .LVU4247
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12548              		.loc 1 5693 12 view .LVU4248
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12549              		.loc 1 5693 4 is_stmt 0 view .LVU4249
 12550 053c ED1B     		subs	r5, r5, r7
 12551              	.LVL1462:
5693:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12552              		.loc 1 5693 4 view .LVU4250
 12553 053e E7D1     		bne	.L901
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12554              		.loc 1 5679 27 is_stmt 1 discriminator 2 view .LVU4251
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12555              		.loc 1 5679 28 is_stmt 0 discriminator 2 view .LVU4252
 12556 0540 019B     		ldr	r3, [sp, #4]
 12557              	.LVL1463:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12558              		.loc 1 5679 28 discriminator 2 view .LVU4253
 12559 0542 0133     		adds	r3, r3, #1
 12560 0544 0193     		str	r3, [sp, #4]
 12561              	.LVL1464:
5679:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12562              		.loc 1 5679 28 discriminator 2 view .LVU4254
 12563 0546 4AE7     		b	.L897
 12564              	.LVL1465:
 12565              	.L958:
5681:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 12566              		.loc 1 5681 5 is_stmt 1 view .LVU4255
ARM GAS  /tmp/cc9mPikx.s 			page 392


 12567 0548 6FF00701 		mvn	r1, #7
 12568 054c 3046     		mov	r0, r6
 12569 054e FFF7FEFF 		bl	st_dword
 12570              	.LVL1466:
5682:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 12571              		.loc 1 5682 5 view .LVU4256
 12572 0552 4FF0FF31 		mov	r1, #-1
 12573 0556 301D     		adds	r0, r6, #4
 12574 0558 FFF7FEFF 		bl	st_dword
 12575              	.LVL1467:
5683:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12576              		.loc 1 5683 5 view .LVU4257
 12577 055c 6FF07041 		mvn	r1, #-268435456
 12578 0560 06F10800 		add	r0, r6, #8
 12579 0564 FFF7FEFF 		bl	st_dword
 12580              	.LVL1468:
 12581 0568 D1E7     		b	.L899
 12582              	.LVL1469:
 12583              	.L959:
5685:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12584              		.loc 1 5685 5 is_stmt 0 view .LVU4258
 12585 056a 4149     		ldr	r1, .L962+20
 12586 056c CCE7     		b	.L900
 12587              	.L956:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12588              		.loc 1 5697 35 view .LVU4259
 12589 056e 5746     		mov	r7, r10
 12590 0570 DDF81480 		ldr	r8, [sp, #20]
 12591              	.LVL1470:
5697:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12592              		.loc 1 5697 35 view .LVU4260
 12593 0574 3EE7     		b	.L904
 12594              	.LVL1471:
 12595              	.L957:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12596              		.loc 1 5715 9 view .LVU4261
 12597 0576 4FF00408 		mov	r8, #4
 12598              	.LVL1472:
5715:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 12599              		.loc 1 5715 9 view .LVU4262
 12600 057a 01E0     		b	.L905
 12601              	.LVL1473:
 12602              	.L940:
5710:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 12603              		.loc 1 5710 8 view .LVU4263
 12604 057c 4FF00C08 		mov	r8, #12
 12605              	.LVL1474:
 12606              	.L905:
5721:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 12607              		.loc 1 5721 2 is_stmt 1 view .LVU4264
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12608              		.loc 1 5727 3 view .LVU4265
5727:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12609              		.loc 1 5727 6 is_stmt 0 view .LVU4266
 12610 0580 029B     		ldr	r3, [sp, #8]
 12611 0582 C3BB     		cbnz	r3, .L906
5728:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
ARM GAS  /tmp/cc9mPikx.s 			page 393


 12612              		.loc 1 5728 4 is_stmt 1 view .LVU4267
 12613 0584 BDF82E20 		ldrh	r2, [sp, #46]
 12614 0588 0021     		movs	r1, #0
 12615 058a 3046     		mov	r0, r6
 12616 058c FFF7FEFF 		bl	mem_set
 12617              	.LVL1475:
5729:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 12618              		.loc 1 5729 4 view .LVU4268
 12619 0590 4AF65521 		movw	r1, #43605
 12620 0594 0398     		ldr	r0, [sp, #12]
 12621 0596 FFF7FEFF 		bl	st_word
 12622              	.LVL1476:
5730:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 12623              		.loc 1 5730 4 view .LVU4269
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12624              		.loc 1 5731 4 view .LVU4270
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12625              		.loc 1 5731 18 is_stmt 0 view .LVU4271
 12626 059a 0025     		movs	r5, #0
 12627              	.LVL1477:
5731:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12628              		.loc 1 5731 18 view .LVU4272
 12629 059c 86F8BE51 		strb	r5, [r6, #446]
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12630              		.loc 1 5732 4 is_stmt 1 view .LVU4273
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12631              		.loc 1 5732 20 is_stmt 0 view .LVU4274
 12632 05a0 0127     		movs	r7, #1
 12633              	.LVL1478:
5732:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12634              		.loc 1 5732 20 view .LVU4275
 12635 05a2 86F8BF71 		strb	r7, [r6, #447]
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12636              		.loc 1 5733 4 is_stmt 1 view .LVU4276
5733:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12637              		.loc 1 5733 19 is_stmt 0 view .LVU4277
 12638 05a6 86F8C071 		strb	r7, [r6, #448]
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12639              		.loc 1 5734 4 is_stmt 1 view .LVU4278
5734:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12640              		.loc 1 5734 19 is_stmt 0 view .LVU4279
 12641 05aa 86F8C151 		strb	r5, [r6, #449]
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12642              		.loc 1 5735 4 is_stmt 1 view .LVU4280
5735:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12643              		.loc 1 5735 20 is_stmt 0 view .LVU4281
 12644 05ae 86F8C281 		strb	r8, [r6, #450]
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12645              		.loc 1 5736 4 is_stmt 1 view .LVU4282
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12646              		.loc 1 5736 15 is_stmt 0 view .LVU4283
 12647 05b2 099B     		ldr	r3, [sp, #36]
 12648 05b4 0099     		ldr	r1, [sp]
 12649 05b6 0B44     		add	r3, r3, r1
5736:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12650              		.loc 1 5736 6 view .LVU4284
 12651 05b8 43F6C162 		movw	r2, #16065
ARM GAS  /tmp/cc9mPikx.s 			page 394


 12652 05bc B3FBF2F3 		udiv	r3, r3, r2
 12653              	.LVL1479:
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12654              		.loc 1 5737 4 is_stmt 1 view .LVU4285
5737:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12655              		.loc 1 5737 20 is_stmt 0 view .LVU4286
 12656 05c0 FE22     		movs	r2, #254
 12657 05c2 86F8C321 		strb	r2, [r6, #451]
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12658              		.loc 1 5738 4 is_stmt 1 view .LVU4287
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12659              		.loc 1 5738 30 is_stmt 0 view .LVU4288
 12660 05c6 9A08     		lsrs	r2, r3, #2
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12661              		.loc 1 5738 21 view .LVU4289
 12662 05c8 42F03F02 		orr	r2, r2, #63
5738:Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12663              		.loc 1 5738 19 view .LVU4290
 12664 05cc 86F8C421 		strb	r2, [r6, #452]
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12665              		.loc 1 5739 4 is_stmt 1 view .LVU4291
5739:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12666              		.loc 1 5739 19 is_stmt 0 view .LVU4292
 12667 05d0 86F8C531 		strb	r3, [r6, #453]
5740:Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 12668              		.loc 1 5740 4 is_stmt 1 view .LVU4293
 12669 05d4 06F5E370 		add	r0, r6, #454
 12670 05d8 FFF7FEFF 		bl	st_dword
 12671              	.LVL1480:
5741:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 12672              		.loc 1 5741 4 view .LVU4294
 12673 05dc 0999     		ldr	r1, [sp, #36]
 12674 05de 06F5E570 		add	r0, r6, #458
 12675 05e2 FFF7FEFF 		bl	st_dword
 12676              	.LVL1481:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12677              		.loc 1 5742 4 view .LVU4295
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12678              		.loc 1 5742 8 is_stmt 0 view .LVU4296
 12679 05e6 3B46     		mov	r3, r7
 12680 05e8 2A46     		mov	r2, r5
 12681 05ea 3146     		mov	r1, r6
 12682 05ec 2046     		mov	r0, r4
 12683 05ee FFF7FEFF 		bl	disk_write
 12684              	.LVL1482:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12685              		.loc 1 5742 7 view .LVU4297
 12686 05f2 0028     		cmp	r0, #0
 12687 05f4 48D1     		bne	.L943
 12688              	.LVL1483:
 12689              	.L906:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12690              		.loc 1 5746 2 is_stmt 1 view .LVU4298
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12691              		.loc 1 5746 6 is_stmt 0 view .LVU4299
 12692 05f6 0022     		movs	r2, #0
 12693 05f8 1146     		mov	r1, r2
ARM GAS  /tmp/cc9mPikx.s 			page 395


 12694 05fa 2046     		mov	r0, r4
 12695 05fc FFF7FEFF 		bl	disk_ioctl
 12696              	.LVL1484:
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12697              		.loc 1 5746 5 view .LVU4300
 12698 0600 48B1     		cbz	r0, .L864
5746:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12699              		.loc 1 5746 55 view .LVU4301
 12700 0602 0120     		movs	r0, #1
 12701 0604 07E0     		b	.L864
 12702              	.LVL1485:
 12703              	.L941:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12704              		.loc 1 5713 9 view .LVU4302
 12705 0606 4FF00608 		mov	r8, #6
 12706              	.LVL1486:
5713:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 12707              		.loc 1 5713 9 view .LVU4303
 12708 060a B9E7     		b	.L905
 12709              	.LVL1487:
 12710              	.L907:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12711              		.loc 1 5328 22 view .LVU4304
 12712 060c 0B20     		movs	r0, #11
 12713              	.LVL1488:
5328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 12714              		.loc 1 5328 22 view .LVU4305
 12715 060e 02E0     		b	.L864
 12716              	.LVL1489:
 12717              	.L908:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12718              		.loc 1 5335 32 view .LVU4306
 12719 0610 0320     		movs	r0, #3
 12720              	.LVL1490:
5335:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 12721              		.loc 1 5335 32 view .LVU4307
 12722 0612 00E0     		b	.L864
 12723              	.LVL1491:
 12724              	.L909:
5336:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 12725              		.loc 1 5336 33 view .LVU4308
 12726 0614 0A20     		movs	r0, #10
 12727              	.LVL1492:
 12728              	.L864:
5749:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12729              		.loc 1 5749 1 view .LVU4309
 12730 0616 0DB0     		add	sp, sp, #52
 12731              	.LCFI131:
 12732              		.cfi_remember_state
 12733              		.cfi_def_cfa_offset 36
 12734              		@ sp needed
 12735 0618 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 12736              	.LVL1493:
 12737              	.L910:
 12738              	.LCFI132:
 12739              		.cfi_restore_state
5339:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
ARM GAS  /tmp/cc9mPikx.s 			page 396


 12740              		.loc 1 5339 63 view .LVU4310
 12741 061c 0120     		movs	r0, #1
 12742 061e FAE7     		b	.L864
 12743              	.L911:
5340:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 12744              		.loc 1 5340 62 view .LVU4311
 12745 0620 0120     		movs	r0, #1
 12746 0622 F8E7     		b	.L864
 12747              	.L912:
 12748 0624 0120     		movs	r0, #1
 12749 0626 F6E7     		b	.L864
 12750              	.L913:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12751              		.loc 1 5344 72 view .LVU4312
 12752 0628 1320     		movs	r0, #19
 12753 062a F4E7     		b	.L864
 12754              	.L914:
5344:Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 12755              		.loc 1 5344 72 view .LVU4313
 12756 062c 1320     		movs	r0, #19
 12757 062e F2E7     		b	.L864
 12758              	.L915:
 12759 0630 1320     		movs	r0, #19
 12760 0632 F0E7     		b	.L864
 12761              	.LVL1494:
 12762              	.L916:
5351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12763              		.loc 1 5351 23 view .LVU4314
 12764 0634 0E20     		movs	r0, #14
 12765 0636 EEE7     		b	.L864
 12766              	.L917:
5364:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 12767              		.loc 1 5364 69 view .LVU4315
 12768 0638 0120     		movs	r0, #1
 12769 063a ECE7     		b	.L864
 12770              	.LVL1495:
 12771              	.L919:
5366:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 12772              		.loc 1 5366 30 view .LVU4316
 12773 063c 0E20     		movs	r0, #14
 12774 063e EAE7     		b	.L864
 12775              	.L920:
5369:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12776              		.loc 1 5369 27 view .LVU4317
 12777 0640 0E20     		movs	r0, #14
 12778 0642 E8E7     		b	.L864
 12779              	.L921:
5378:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 12780              		.loc 1 5378 24 view .LVU4318
 12781 0644 1320     		movs	r0, #19
 12782 0646 E6E7     		b	.L864
 12783              	.LVL1496:
 12784              	.L924:
5384:Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 12785              		.loc 1 5384 31 view .LVU4319
 12786 0648 1320     		movs	r0, #19
 12787 064a E4E7     		b	.L864
ARM GAS  /tmp/cc9mPikx.s 			page 397


 12788              	.LVL1497:
 12789              	.L926:
5564:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
 12790              		.loc 1 5564 59 view .LVU4320
 12791 064c 0E20     		movs	r0, #14
 12792 064e E2E7     		b	.L864
 12793              	.LVL1498:
 12794              	.L928:
5593:Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 12795              		.loc 1 5593 51 view .LVU4321
 12796 0650 0E20     		movs	r0, #14
 12797 0652 E0E7     		b	.L864
 12798              	.LVL1499:
 12799              	.L929:
5598:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12800              		.loc 1 5598 13 view .LVU4322
 12801 0654 0E20     		movs	r0, #14
 12802 0656 DEE7     		b	.L864
 12803              	.LVL1500:
 12804              	.L932:
5610:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12805              		.loc 1 5610 13 view .LVU4323
 12806 0658 0E20     		movs	r0, #14
 12807 065a DCE7     		b	.L864
 12808              	.L963:
 12809              		.align	2
 12810              	.L962:
 12811 065c 00000000 		.word	.LC2
 12812 0660 20000000 		.word	.LC4
 12813 0664 0C000000 		.word	.LC3
 12814 0668 52526141 		.word	1096897106
 12815 066c 72724161 		.word	1631679090
 12816 0670 F8FFFF00 		.word	16777208
 12817              	.LVL1501:
 12818              	.L933:
5614:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 12819              		.loc 1 5614 13 view .LVU4324
 12820 0674 0E20     		movs	r0, #14
 12821 0676 CEE7     		b	.L864
 12822              	.LVL1502:
 12823              	.L934:
5617:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12824              		.loc 1 5617 54 view .LVU4325
 12825 0678 0E20     		movs	r0, #14
 12826 067a CCE7     		b	.L864
 12827              	.LVL1503:
 12828              	.L936:
5661:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12829              		.loc 1 5661 57 view .LVU4326
 12830 067c 0120     		movs	r0, #1
 12831 067e CAE7     		b	.L864
 12832              	.LVL1504:
 12833              	.L938:
5690:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12834              		.loc 1 5690 64 view .LVU4327
 12835 0680 0120     		movs	r0, #1
 12836 0682 C8E7     		b	.L864
ARM GAS  /tmp/cc9mPikx.s 			page 398


 12837              	.LVL1505:
 12838              	.L939:
5700:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12839              		.loc 1 5700 63 view .LVU4328
 12840 0684 0120     		movs	r0, #1
 12841 0686 C6E7     		b	.L864
 12842              	.LVL1506:
 12843              	.L943:
5742:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12844              		.loc 1 5742 54 view .LVU4329
 12845 0688 0120     		movs	r0, #1
 12846 068a C4E7     		b	.L864
 12847              		.cfi_endproc
 12848              	.LFE409:
 12850              		.section	.text.f_gets,"ax",%progbits
 12851              		.align	1
 12852              		.global	f_gets
 12853              		.syntax unified
 12854              		.thumb
 12855              		.thumb_func
 12856              		.fpu fpv5-d16
 12858              	f_gets:
 12859              	.LVL1507:
 12860              	.LFB410:
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12861              		.loc 1 5835 1 is_stmt 1 view -0
 12862              		.cfi_startproc
 12863              		@ args = 0, pretend = 0, frame = 8
 12864              		@ frame_needed = 0, uses_anonymous_args = 0
5835:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12865              		.loc 1 5835 1 is_stmt 0 view .LVU4331
 12866 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 12867              	.LCFI133:
 12868              		.cfi_def_cfa_offset 24
 12869              		.cfi_offset 4, -24
 12870              		.cfi_offset 5, -20
 12871              		.cfi_offset 6, -16
 12872              		.cfi_offset 7, -12
 12873              		.cfi_offset 8, -8
 12874              		.cfi_offset 14, -4
 12875 0004 82B0     		sub	sp, sp, #8
 12876              	.LCFI134:
 12877              		.cfi_def_cfa_offset 32
 12878 0006 8046     		mov	r8, r0
 12879 0008 0E46     		mov	r6, r1
 12880 000a 1746     		mov	r7, r2
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12881              		.loc 1 5836 2 is_stmt 1 view .LVU4332
 12882              	.LVL1508:
5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12883              		.loc 1 5837 2 view .LVU4333
5838:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 12884              		.loc 1 5838 2 view .LVU4334
5839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12885              		.loc 1 5839 2 view .LVU4335
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12886              		.loc 1 5842 2 view .LVU4336
ARM GAS  /tmp/cc9mPikx.s 			page 399


5837:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 12887              		.loc 1 5837 12 is_stmt 0 view .LVU4337
 12888 000c 0446     		mov	r4, r0
5836:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12889              		.loc 1 5836 6 view .LVU4338
 12890 000e 0025     		movs	r5, #0
 12891              	.LVL1509:
 12892              	.L965:
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12893              		.loc 1 5842 8 is_stmt 1 view .LVU4339
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12894              		.loc 1 5842 17 is_stmt 0 view .LVU4340
 12895 0010 731E     		subs	r3, r6, #1
5842:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12896              		.loc 1 5842 8 view .LVU4341
 12897 0012 AB42     		cmp	r3, r5
 12898 0014 11DD     		ble	.L966
5887:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 12899              		.loc 1 5887 3 is_stmt 1 view .LVU4342
 12900 0016 6B46     		mov	r3, sp
 12901 0018 0122     		movs	r2, #1
 12902 001a 01A9     		add	r1, sp, #4
 12903 001c 3846     		mov	r0, r7
 12904 001e FFF7FEFF 		bl	f_read
 12905              	.LVL1510:
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12906              		.loc 1 5888 3 view .LVU4343
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12907              		.loc 1 5888 10 is_stmt 0 view .LVU4344
 12908 0022 009B     		ldr	r3, [sp]
5888:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12909              		.loc 1 5888 6 view .LVU4345
 12910 0024 012B     		cmp	r3, #1
 12911 0026 08D1     		bne	.L966
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12912              		.loc 1 5889 3 is_stmt 1 view .LVU4346
5889:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 12913              		.loc 1 5889 5 is_stmt 0 view .LVU4347
 12914 0028 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 12915              	.LVL1511:
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12916              		.loc 1 5891 3 is_stmt 1 view .LVU4348
5891:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12917              		.loc 1 5891 6 is_stmt 0 view .LVU4349
 12918 002c 0D2B     		cmp	r3, #13
 12919 002e EFD0     		beq	.L965
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12920              		.loc 1 5892 3 is_stmt 1 view .LVU4350
 12921              	.LVL1512:
5892:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12922              		.loc 1 5892 8 is_stmt 0 view .LVU4351
 12923 0030 04F8013B 		strb	r3, [r4], #1
 12924              	.LVL1513:
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12925              		.loc 1 5893 3 is_stmt 1 view .LVU4352
5893:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12926              		.loc 1 5893 4 is_stmt 0 view .LVU4353
ARM GAS  /tmp/cc9mPikx.s 			page 400


 12927 0034 0135     		adds	r5, r5, #1
 12928              	.LVL1514:
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12929              		.loc 1 5894 3 is_stmt 1 view .LVU4354
5894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 12930              		.loc 1 5894 6 is_stmt 0 view .LVU4355
 12931 0036 0A2B     		cmp	r3, #10
 12932 0038 EAD1     		bne	.L965
 12933              	.LVL1515:
 12934              	.L966:
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12935              		.loc 1 5896 2 is_stmt 1 view .LVU4356
5896:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12936              		.loc 1 5896 5 is_stmt 0 view .LVU4357
 12937 003a 0023     		movs	r3, #0
 12938 003c 2370     		strb	r3, [r4]
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12939              		.loc 1 5897 2 is_stmt 1 view .LVU4358
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12940              		.loc 1 5897 18 is_stmt 0 view .LVU4359
 12941 003e 1DB1     		cbz	r5, .L972
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12942              		.loc 1 5897 18 view .LVU4360
 12943 0040 4046     		mov	r0, r8
 12944              	.L964:
5898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 12945              		.loc 1 5898 1 view .LVU4361
 12946 0042 02B0     		add	sp, sp, #8
 12947              	.LCFI135:
 12948              		.cfi_remember_state
 12949              		.cfi_def_cfa_offset 24
 12950              		@ sp needed
 12951 0044 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 12952              	.LVL1516:
 12953              	.L972:
 12954              	.LCFI136:
 12955              		.cfi_restore_state
5897:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12956              		.loc 1 5897 18 view .LVU4362
 12957 0048 0020     		movs	r0, #0
 12958 004a FAE7     		b	.L964
 12959              		.cfi_endproc
 12960              	.LFE410:
 12962              		.section	.text.f_putc,"ax",%progbits
 12963              		.align	1
 12964              		.global	f_putc
 12965              		.syntax unified
 12966              		.thumb
 12967              		.thumb_func
 12968              		.fpu fpv5-d16
 12970              	f_putc:
 12971              	.LVL1517:
 12972              	.LFB414:
5995:Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
ARM GAS  /tmp/cc9mPikx.s 			page 401


5999:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:Middlewares/Third_Party/FatFs/src/ff.c **** {
 12973              		.loc 1 6002 1 is_stmt 1 view -0
 12974              		.cfi_startproc
 12975              		@ args = 0, pretend = 0, frame = 80
 12976              		@ frame_needed = 0, uses_anonymous_args = 0
 12977              		.loc 1 6002 1 is_stmt 0 view .LVU4364
 12978 0000 10B5     		push	{r4, lr}
 12979              	.LCFI137:
 12980              		.cfi_def_cfa_offset 8
 12981              		.cfi_offset 4, -8
 12982              		.cfi_offset 14, -4
 12983 0002 94B0     		sub	sp, sp, #80
 12984              	.LCFI138:
 12985              		.cfi_def_cfa_offset 88
 12986 0004 0446     		mov	r4, r0
6003:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 12987              		.loc 1 6003 2 is_stmt 1 view .LVU4365
6004:Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12988              		.loc 1 6006 2 view .LVU4366
 12989 0006 01A8     		add	r0, sp, #4
 12990              	.LVL1518:
 12991              		.loc 1 6006 2 is_stmt 0 view .LVU4367
 12992 0008 FFF7FEFF 		bl	putc_init
 12993              	.LVL1519:
6007:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 12994              		.loc 1 6007 2 is_stmt 1 view .LVU4368
 12995 000c 2146     		mov	r1, r4
 12996 000e 01A8     		add	r0, sp, #4
 12997 0010 FFF7FEFF 		bl	putc_bfd
 12998              	.LVL1520:
6008:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12999              		.loc 1 6008 2 view .LVU4369
 13000              		.loc 1 6008 9 is_stmt 0 view .LVU4370
 13001 0014 01A8     		add	r0, sp, #4
 13002 0016 FFF7FEFF 		bl	putc_flush
 13003              	.LVL1521:
6009:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13004              		.loc 1 6009 1 view .LVU4371
 13005 001a 14B0     		add	sp, sp, #80
 13006              	.LCFI139:
 13007              		.cfi_def_cfa_offset 8
 13008              		@ sp needed
 13009 001c 10BD     		pop	{r4, pc}
 13010              		.cfi_endproc
 13011              	.LFE414:
 13013              		.section	.text.f_puts,"ax",%progbits
 13014              		.align	1
 13015              		.global	f_puts
 13016              		.syntax unified
 13017              		.thumb
 13018              		.thumb_func
 13019              		.fpu fpv5-d16
ARM GAS  /tmp/cc9mPikx.s 			page 402


 13021              	f_puts:
 13022              	.LVL1522:
 13023              	.LFB415:
6010:Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:Middlewares/Third_Party/FatFs/src/ff.c **** {
 13024              		.loc 1 6022 1 is_stmt 1 view -0
 13025              		.cfi_startproc
 13026              		@ args = 0, pretend = 0, frame = 80
 13027              		@ frame_needed = 0, uses_anonymous_args = 0
 13028              		.loc 1 6022 1 is_stmt 0 view .LVU4373
 13029 0000 10B5     		push	{r4, lr}
 13030              	.LCFI140:
 13031              		.cfi_def_cfa_offset 8
 13032              		.cfi_offset 4, -8
 13033              		.cfi_offset 14, -4
 13034 0002 94B0     		sub	sp, sp, #80
 13035              	.LCFI141:
 13036              		.cfi_def_cfa_offset 88
 13037 0004 0446     		mov	r4, r0
6023:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 13038              		.loc 1 6023 2 is_stmt 1 view .LVU4374
6024:Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 13039              		.loc 1 6026 2 view .LVU4375
 13040 0006 01A8     		add	r0, sp, #4
 13041              	.LVL1523:
 13042              		.loc 1 6026 2 is_stmt 0 view .LVU4376
 13043 0008 FFF7FEFF 		bl	putc_init
 13044              	.LVL1524:
6027:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 13045              		.loc 1 6027 2 is_stmt 1 view .LVU4377
 13046              	.L977:
 13047              		.loc 1 6027 8 discriminator 1 view .LVU4378
 13048              		.loc 1 6027 9 is_stmt 0 discriminator 1 view .LVU4379
 13049 000c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 13050              		.loc 1 6027 8 discriminator 1 view .LVU4380
 13051 000e 21B1     		cbz	r1, .L980
 13052              		.loc 1 6027 15 is_stmt 1 discriminator 2 view .LVU4381
 13053              		.loc 1 6027 33 is_stmt 0 discriminator 2 view .LVU4382
 13054 0010 0134     		adds	r4, r4, #1
 13055              	.LVL1525:
 13056              		.loc 1 6027 15 discriminator 2 view .LVU4383
 13057 0012 01A8     		add	r0, sp, #4
 13058 0014 FFF7FEFF 		bl	putc_bfd
 13059              	.LVL1526:
ARM GAS  /tmp/cc9mPikx.s 			page 403


 13060 0018 F8E7     		b	.L977
 13061              	.L980:
6028:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 13062              		.loc 1 6028 2 is_stmt 1 view .LVU4384
 13063              		.loc 1 6028 9 is_stmt 0 view .LVU4385
 13064 001a 01A8     		add	r0, sp, #4
 13065 001c FFF7FEFF 		bl	putc_flush
 13066              	.LVL1527:
6029:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13067              		.loc 1 6029 1 view .LVU4386
 13068 0020 14B0     		add	sp, sp, #80
 13069              	.LCFI142:
 13070              		.cfi_def_cfa_offset 8
 13071              		@ sp needed
 13072 0022 10BD     		pop	{r4, pc}
 13073              		.loc 1 6029 1 view .LVU4387
 13074              		.cfi_endproc
 13075              	.LFE415:
 13077              		.section	.text.f_printf,"ax",%progbits
 13078              		.align	1
 13079              		.global	f_printf
 13080              		.syntax unified
 13081              		.thumb
 13082              		.thumb_func
 13083              		.fpu fpv5-d16
 13085              	f_printf:
 13086              	.LVL1528:
 13087              	.LFB416:
6030:Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:Middlewares/Third_Party/FatFs/src/ff.c **** {
 13088              		.loc 1 6043 1 is_stmt 1 view -0
 13089              		.cfi_startproc
 13090              		@ args = 4, pretend = 12, frame = 112
 13091              		@ frame_needed = 0, uses_anonymous_args = 1
 13092              		.loc 1 6043 1 is_stmt 0 view .LVU4389
 13093 0000 0EB4     		push	{r1, r2, r3}
 13094              	.LCFI143:
 13095              		.cfi_def_cfa_offset 12
 13096              		.cfi_offset 1, -12
 13097              		.cfi_offset 2, -8
 13098              		.cfi_offset 3, -4
 13099 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 13100              	.LCFI144:
 13101              		.cfi_def_cfa_offset 44
 13102              		.cfi_offset 4, -44
ARM GAS  /tmp/cc9mPikx.s 			page 404


 13103              		.cfi_offset 5, -40
 13104              		.cfi_offset 6, -36
 13105              		.cfi_offset 7, -32
 13106              		.cfi_offset 8, -28
 13107              		.cfi_offset 9, -24
 13108              		.cfi_offset 10, -20
 13109              		.cfi_offset 14, -16
 13110 0006 9DB0     		sub	sp, sp, #116
 13111              	.LCFI145:
 13112              		.cfi_def_cfa_offset 160
 13113 0008 0146     		mov	r1, r0
 13114 000a 25AC     		add	r4, sp, #148
 13115 000c 54F8045B 		ldr	r5, [r4], #4
6044:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 13116              		.loc 1 6044 2 is_stmt 1 view .LVU4390
6045:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 13117              		.loc 1 6045 2 view .LVU4391
6046:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 13118              		.loc 1 6046 2 view .LVU4392
6047:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
 13119              		.loc 1 6047 2 view .LVU4393
6048:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 13120              		.loc 1 6048 2 view .LVU4394
6049:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
 13121              		.loc 1 6049 2 view .LVU4395
6050:Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 13122              		.loc 1 6052 2 view .LVU4396
 13123 0010 08A8     		add	r0, sp, #32
 13124              	.LVL1529:
 13125              		.loc 1 6052 2 is_stmt 0 view .LVU4397
 13126 0012 FFF7FEFF 		bl	putc_init
 13127              	.LVL1530:
6053:Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 13128              		.loc 1 6054 2 is_stmt 1 view .LVU4398
 13129 0016 1B94     		str	r4, [sp, #108]
 13130 0018 03E0     		b	.L982
 13131              	.LVL1531:
 13132              	.L1031:
6055:Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
6060:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 13133              		.loc 1 6060 4 view .LVU4399
 13134 001a 08A8     		add	r0, sp, #32
 13135 001c FFF7FEFF 		bl	putc_bfd
 13136              	.LVL1532:
6061:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 13137              		.loc 1 6061 4 view .LVU4400
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13138              		.loc 1 6057 11 is_stmt 0 view .LVU4401
 13139 0020 2546     		mov	r5, r4
 13140              	.LVL1533:
ARM GAS  /tmp/cc9mPikx.s 			page 405


 13141              	.L982:
6056:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13142              		.loc 1 6056 2 is_stmt 1 view .LVU4402
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13143              		.loc 1 6057 3 view .LVU4403
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13144              		.loc 1 6057 11 is_stmt 0 view .LVU4404
 13145 0022 2C46     		mov	r4, r5
 13146              	.LVL1534:
6057:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13147              		.loc 1 6057 5 view .LVU4405
 13148 0024 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 13149              	.LVL1535:
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 13150              		.loc 1 6058 3 is_stmt 1 view .LVU4406
6058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 13151              		.loc 1 6058 6 is_stmt 0 view .LVU4407
 13152 0028 0029     		cmp	r1, #0
 13153 002a 00F0FC80 		beq	.L983
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 13154              		.loc 1 6059 3 is_stmt 1 view .LVU4408
6059:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 13155              		.loc 1 6059 6 is_stmt 0 view .LVU4409
 13156 002e 2529     		cmp	r1, #37
 13157 0030 F3D1     		bne	.L1031
6062:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 13158              		.loc 1 6063 3 is_stmt 1 view .LVU4410
 13159              	.LVL1536:
6064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13160              		.loc 1 6064 3 view .LVU4411
 13161              		.loc 1 6064 11 is_stmt 0 view .LVU4412
 13162 0032 0235     		adds	r5, r5, #2
 13163              	.LVL1537:
 13164              		.loc 1 6064 5 view .LVU4413
 13165 0034 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 13166              	.LVL1538:
6065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 13167              		.loc 1 6065 3 is_stmt 1 view .LVU4414
 13168              		.loc 1 6065 6 is_stmt 0 view .LVU4415
 13169 0036 3029     		cmp	r1, #48
 13170 0038 04D0     		beq	.L1032
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
6067:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 13171              		.loc 1 6068 4 is_stmt 1 view .LVU4416
 13172              		.loc 1 6068 7 is_stmt 0 view .LVU4417
 13173 003a 2D29     		cmp	r1, #45
 13174 003c 06D0     		beq	.L1033
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13175              		.loc 1 6063 9 view .LVU4418
 13176 003e 0026     		movs	r6, #0
 13177              	.LVL1539:
 13178              	.L987:
6063:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 13179              		.loc 1 6063 9 view .LVU4419
 13180 0040 0024     		movs	r4, #0
ARM GAS  /tmp/cc9mPikx.s 			page 406


 13181 0042 0EE0     		b	.L988
 13182              	.LVL1540:
 13183              	.L1032:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13184              		.loc 1 6066 4 is_stmt 1 view .LVU4420
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13185              		.loc 1 6066 11 view .LVU4421
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13186              		.loc 1 6066 19 is_stmt 0 view .LVU4422
 13187 0044 A51C     		adds	r5, r4, #2
 13188              	.LVL1541:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13189              		.loc 1 6066 13 view .LVU4423
 13190 0046 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 13191              	.LVL1542:
6066:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 13192              		.loc 1 6066 6 view .LVU4424
 13193 0048 0126     		movs	r6, #1
 13194 004a F9E7     		b	.L987
 13195              	.LVL1543:
 13196              	.L1033:
6069:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 13197              		.loc 1 6069 5 is_stmt 1 view .LVU4425
 13198              		.loc 1 6069 12 view .LVU4426
 13199              		.loc 1 6069 20 is_stmt 0 view .LVU4427
 13200 004c A51C     		adds	r5, r4, #2
 13201              	.LVL1544:
 13202              		.loc 1 6069 14 view .LVU4428
 13203 004e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 13204              	.LVL1545:
 13205              		.loc 1 6069 7 view .LVU4429
 13206 0050 0226     		movs	r6, #2
 13207 0052 F5E7     		b	.L987
 13208              	.LVL1546:
 13209              	.L989:
6070:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
6073:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13210              		.loc 1 6073 4 is_stmt 1 view .LVU4430
 13211              		.loc 1 6073 10 is_stmt 0 view .LVU4431
 13212 0054 04EB8404 		add	r4, r4, r4, lsl #2
 13213              	.LVL1547:
 13214              		.loc 1 6073 15 view .LVU4432
 13215 0058 01EB4404 		add	r4, r1, r4, lsl #1
 13216              		.loc 1 6073 6 view .LVU4433
 13217 005c 303C     		subs	r4, r4, #48
 13218              	.LVL1548:
6074:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 13219              		.loc 1 6074 4 is_stmt 1 view .LVU4434
 13220              		.loc 1 6074 6 is_stmt 0 view .LVU4435
 13221 005e 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 13222              	.LVL1549:
 13223              	.L988:
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13224              		.loc 1 6072 9 is_stmt 1 view .LVU4436
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
ARM GAS  /tmp/cc9mPikx.s 			page 407


 13225              		.loc 1 6072 10 is_stmt 0 view .LVU4437
 13226 0062 A1F13003 		sub	r3, r1, #48
 13227 0066 DBB2     		uxtb	r3, r3
6072:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 13228              		.loc 1 6072 9 view .LVU4438
 13229 0068 092B     		cmp	r3, #9
 13230 006a F3D9     		bls	.L989
6075:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 13231              		.loc 1 6076 3 is_stmt 1 view .LVU4439
 13232              		.loc 1 6076 6 is_stmt 0 view .LVU4440
 13233 006c 4C29     		cmp	r1, #76
 13234 006e 18BF     		it	ne
 13235 0070 6C29     		cmpne	r1, #108
 13236 0072 03D1     		bne	.L990
6077:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 13237              		.loc 1 6077 4 is_stmt 1 view .LVU4441
 13238              		.loc 1 6077 6 is_stmt 0 view .LVU4442
 13239 0074 46F00406 		orr	r6, r6, #4
 13240              	.LVL1550:
 13241              		.loc 1 6077 12 is_stmt 1 view .LVU4443
 13242              		.loc 1 6077 14 is_stmt 0 view .LVU4444
 13243 0078 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 13244              	.LVL1551:
 13245              	.L990:
6078:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 13246              		.loc 1 6079 3 is_stmt 1 view .LVU4445
 13247              		.loc 1 6079 6 is_stmt 0 view .LVU4446
 13248 007c 0029     		cmp	r1, #0
 13249 007e 00F0D280 		beq	.L983
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 13250              		.loc 1 6080 3 is_stmt 1 view .LVU4447
 13251              	.LVL1552:
6081:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 13252              		.loc 1 6081 3 view .LVU4448
 13253              		.loc 1 6081 7 is_stmt 0 view .LVU4449
 13254 0082 A1F16103 		sub	r3, r1, #97
 13255 0086 DBB2     		uxtb	r3, r3
 13256              		.loc 1 6081 6 view .LVU4450
 13257 0088 192B     		cmp	r3, #25
 13258 008a 14D8     		bhi	.L1025
 13259              		.loc 1 6081 19 is_stmt 1 discriminator 1 view .LVU4451
 13260              		.loc 1 6081 21 is_stmt 0 discriminator 1 view .LVU4452
 13261 008c A1F12003 		sub	r3, r1, #32
 13262 0090 DBB2     		uxtb	r3, r3
 13263              	.LVL1553:
 13264              	.L991:
6082:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 13265              		.loc 1 6082 3 is_stmt 1 view .LVU4453
 13266 0092 A3F14202 		sub	r2, r3, #66
 13267 0096 162A     		cmp	r2, #22
 13268 0098 5DD8     		bhi	.L992
 13269 009a DFE802F0 		tbb	[pc, r2]
 13270              	.L994:
 13271 009e 60       		.byte	(.L999-.L994)/2
 13272 009f 3D       		.byte	(.L998-.L994)/2
ARM GAS  /tmp/cc9mPikx.s 			page 408


 13273 00a0 45       		.byte	(.L995-.L994)/2
 13274 00a1 5C       		.byte	(.L992-.L994)/2
 13275 00a2 5C       		.byte	(.L992-.L994)/2
 13276 00a3 5C       		.byte	(.L992-.L994)/2
 13277 00a4 5C       		.byte	(.L992-.L994)/2
 13278 00a5 5C       		.byte	(.L992-.L994)/2
 13279 00a6 5C       		.byte	(.L992-.L994)/2
 13280 00a7 5C       		.byte	(.L992-.L994)/2
 13281 00a8 5C       		.byte	(.L992-.L994)/2
 13282 00a9 5C       		.byte	(.L992-.L994)/2
 13283 00aa 5C       		.byte	(.L992-.L994)/2
 13284 00ab 62       		.byte	(.L1026-.L994)/2
 13285 00ac 5C       		.byte	(.L992-.L994)/2
 13286 00ad 5C       		.byte	(.L992-.L994)/2
 13287 00ae 5C       		.byte	(.L992-.L994)/2
 13288 00af 0E       		.byte	(.L996-.L994)/2
 13289 00b0 5C       		.byte	(.L992-.L994)/2
 13290 00b1 45       		.byte	(.L995-.L994)/2
 13291 00b2 5C       		.byte	(.L992-.L994)/2
 13292 00b3 5C       		.byte	(.L992-.L994)/2
 13293 00b4 5A       		.byte	(.L993-.L994)/2
 13294              	.LVL1554:
 13295 00b5 00       		.p2align 1
 13296              	.L1025:
6080:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 13297              		.loc 1 6080 5 is_stmt 0 view .LVU4454
 13298 00b6 0B46     		mov	r3, r1
 13299 00b8 EBE7     		b	.L991
 13300              	.LVL1555:
 13301              	.L996:
6083:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 13302              		.loc 1 6084 4 is_stmt 1 view .LVU4455
 13303              		.loc 1 6084 6 is_stmt 0 view .LVU4456
 13304 00ba 1B9B     		ldr	r3, [sp, #108]
 13305              	.LVL1556:
 13306              		.loc 1 6084 6 view .LVU4457
 13307 00bc 1A1D     		adds	r2, r3, #4
 13308 00be 1B92     		str	r2, [sp, #108]
 13309 00c0 D3F80080 		ldr	r8, [r3]
6085:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 13310              		.loc 1 6085 4 is_stmt 1 view .LVU4458
 13311              	.LVL1557:
 13312              		.loc 1 6085 11 is_stmt 0 view .LVU4459
 13313 00c4 0027     		movs	r7, #0
 13314              		.loc 1 6085 4 view .LVU4460
 13315 00c6 00E0     		b	.L1000
 13316              	.LVL1558:
 13317              	.L1001:
 13318              		.loc 1 6085 27 is_stmt 1 discriminator 3 view .LVU4461
 13319              		.loc 1 6085 22 discriminator 3 view .LVU4462
 13320              		.loc 1 6085 23 is_stmt 0 discriminator 3 view .LVU4463
 13321 00c8 0137     		adds	r7, r7, #1
 13322              	.LVL1559:
 13323              	.L1000:
 13324              		.loc 1 6085 16 is_stmt 1 discriminator 1 view .LVU4464
 13325              		.loc 1 6085 17 is_stmt 0 discriminator 1 view .LVU4465
ARM GAS  /tmp/cc9mPikx.s 			page 409


 13326 00ca 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 13327              		.loc 1 6085 4 discriminator 1 view .LVU4466
 13328 00ce 002B     		cmp	r3, #0
 13329 00d0 FAD1     		bne	.L1001
6086:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 13330              		.loc 1 6086 4 is_stmt 1 view .LVU4467
 13331              		.loc 1 6086 7 is_stmt 0 view .LVU4468
 13332 00d2 16F0020F 		tst	r6, #2
 13333 00d6 10D1     		bne	.L1005
 13334 00d8 05E0     		b	.L1002
 13335              	.LVL1560:
 13336              	.L1004:
6087:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 13337              		.loc 1 6087 21 is_stmt 1 discriminator 2 view .LVU4469
 13338 00da 2021     		movs	r1, #32
 13339 00dc 0DEB0100 		add	r0, sp, r1
 13340 00e0 FFF7FEFF 		bl	putc_bfd
 13341              	.LVL1561:
 13342              		.loc 1 6087 13 is_stmt 0 discriminator 2 view .LVU4470
 13343 00e4 3746     		mov	r7, r6
 13344              	.LVL1562:
 13345              	.L1002:
 13346              		.loc 1 6087 11 is_stmt 1 discriminator 1 view .LVU4471
 13347              		.loc 1 6087 13 is_stmt 0 discriminator 1 view .LVU4472
 13348 00e6 7E1C     		adds	r6, r7, #1
 13349              	.LVL1563:
 13350              		.loc 1 6087 11 discriminator 1 view .LVU4473
 13351 00e8 A742     		cmp	r7, r4
 13352 00ea F6D3     		bcc	.L1004
 13353              		.loc 1 6087 13 view .LVU4474
 13354 00ec 3746     		mov	r7, r6
 13355 00ee 04E0     		b	.L1005
 13356              	.LVL1564:
 13357              	.L1006:
6088:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 13358              		.loc 1 6089 15 is_stmt 1 discriminator 2 view .LVU4475
 13359              		.loc 1 6089 31 is_stmt 0 discriminator 2 view .LVU4476
 13360 00f0 08F10108 		add	r8, r8, #1
 13361              	.LVL1565:
 13362              		.loc 1 6089 15 discriminator 2 view .LVU4477
 13363 00f4 08A8     		add	r0, sp, #32
 13364 00f6 FFF7FEFF 		bl	putc_bfd
 13365              	.LVL1566:
 13366              	.L1005:
 13367              		.loc 1 6089 10 is_stmt 1 discriminator 1 view .LVU4478
 13368              		.loc 1 6089 11 is_stmt 0 discriminator 1 view .LVU4479
 13369 00fa 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 13370              		.loc 1 6089 10 discriminator 1 view .LVU4480
 13371 00fe 0029     		cmp	r1, #0
 13372 0100 F6D1     		bne	.L1006
 13373              		.loc 1 6089 10 discriminator 1 view .LVU4481
 13374 0102 05E0     		b	.L1007
 13375              	.LVL1567:
 13376              	.L1008:
6090:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 13377              		.loc 1 6090 20 is_stmt 1 discriminator 2 view .LVU4482
ARM GAS  /tmp/cc9mPikx.s 			page 410


 13378 0104 2021     		movs	r1, #32
 13379 0106 0DEB0100 		add	r0, sp, r1
 13380 010a FFF7FEFF 		bl	putc_bfd
 13381              	.LVL1568:
 13382              		.loc 1 6090 12 is_stmt 0 discriminator 2 view .LVU4483
 13383 010e 3746     		mov	r7, r6
 13384              	.LVL1569:
 13385              	.L1007:
 13386              		.loc 1 6090 10 is_stmt 1 discriminator 1 view .LVU4484
 13387              		.loc 1 6090 12 is_stmt 0 discriminator 1 view .LVU4485
 13388 0110 7E1C     		adds	r6, r7, #1
 13389              	.LVL1570:
 13390              		.loc 1 6090 10 discriminator 1 view .LVU4486
 13391 0112 A742     		cmp	r7, r4
 13392 0114 F6D3     		bcc	.L1008
 13393 0116 84E7     		b	.L982
 13394              	.LVL1571:
 13395              	.L998:
6091:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
6092:Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 13396              		.loc 1 6094 4 is_stmt 1 view .LVU4487
 13397              		.loc 1 6094 25 is_stmt 0 view .LVU4488
 13398 0118 1B9B     		ldr	r3, [sp, #108]
 13399              	.LVL1572:
 13400              		.loc 1 6094 25 view .LVU4489
 13401 011a 1A1D     		adds	r2, r3, #4
 13402 011c 1B92     		str	r2, [sp, #108]
 13403              		.loc 1 6094 4 view .LVU4490
 13404 011e 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 13405              	.LVL1573:
 13406              		.loc 1 6094 4 view .LVU4491
 13407 0120 08A8     		add	r0, sp, #32
 13408 0122 FFF7FEFF 		bl	putc_bfd
 13409              	.LVL1574:
 13410              		.loc 1 6094 44 is_stmt 1 view .LVU4492
 13411              		.loc 1 6094 4 is_stmt 0 view .LVU4493
 13412 0126 7CE7     		b	.L982
 13413              	.LVL1575:
 13414              	.L995:
6095:Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
6098:Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
6101:Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 13415              		.loc 1 6104 4 is_stmt 1 view .LVU4494
 13416              		.loc 1 6104 12 view .LVU4495
 13417              		.loc 1 6104 6 is_stmt 0 view .LVU4496
 13418 0128 0A20     		movs	r0, #10
 13419              	.LVL1576:
 13420              	.L997:
ARM GAS  /tmp/cc9mPikx.s 			page 411


6105:Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
6108:Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
6111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 13421              		.loc 1 6114 3 is_stmt 1 view .LVU4497
 13422              		.loc 1 6114 42 is_stmt 0 view .LVU4498
 13423 012a 16F0040F 		tst	r6, #4
 13424 012e 1AD0     		beq	.L1009
 13425              		.loc 1 6114 24 view .LVU4499
 13426 0130 1B9A     		ldr	r2, [sp, #108]
 13427 0132 171D     		adds	r7, r2, #4
 13428 0134 1B97     		str	r7, [sp, #108]
 13429 0136 1268     		ldr	r2, [r2]
 13430              	.L1010:
 13431              	.LVL1577:
6115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13432              		.loc 1 6115 3 is_stmt 1 discriminator 8 view .LVU4500
 13433              		.loc 1 6115 16 is_stmt 0 discriminator 8 view .LVU4501
 13434 0138 D70F     		lsrs	r7, r2, #31
 13435 013a 442B     		cmp	r3, #68
 13436 013c 14BF     		ite	ne
 13437 013e 0023     		movne	r3, #0
 13438 0140 07F00103 		andeq	r3, r7, #1
 13439              	.LVL1578:
 13440              		.loc 1 6115 6 discriminator 8 view .LVU4502
 13441 0144 13B1     		cbz	r3, .L1012
6116:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 13442              		.loc 1 6116 4 is_stmt 1 view .LVU4503
 13443              		.loc 1 6116 6 is_stmt 0 view .LVU4504
 13444 0146 5242     		rsbs	r2, r2, #0
 13445              	.LVL1579:
6117:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 13446              		.loc 1 6117 4 is_stmt 1 view .LVU4505
 13447              		.loc 1 6117 6 is_stmt 0 view .LVU4506
 13448 0148 46F00806 		orr	r6, r6, #8
 13449              	.LVL1580:
 13450              	.L1012:
6118:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 13451              		.loc 1 6119 3 is_stmt 1 view .LVU4507
 13452              		.loc 1 6119 5 is_stmt 0 view .LVU4508
 13453 014c 4FF0000C 		mov	ip, #0
 13454 0150 25E0     		b	.L1015
 13455              	.LVL1581:
 13456              	.L993:
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13457              		.loc 1 6107 4 is_stmt 1 view .LVU4509
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13458              		.loc 1 6107 12 view .LVU4510
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13459              		.loc 1 6107 6 is_stmt 0 view .LVU4511
ARM GAS  /tmp/cc9mPikx.s 			page 412


 13460 0152 1020     		movs	r0, #16
6107:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13461              		.loc 1 6107 4 view .LVU4512
 13462 0154 E9E7     		b	.L997
 13463              	.LVL1582:
 13464              	.L992:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13465              		.loc 1 6110 4 is_stmt 1 view .LVU4513
 13466 0156 08A8     		add	r0, sp, #32
 13467 0158 FFF7FEFF 		bl	putc_bfd
 13468              	.LVL1583:
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13469              		.loc 1 6110 22 view .LVU4514
6110:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 13470              		.loc 1 6110 4 is_stmt 0 view .LVU4515
 13471 015c 61E7     		b	.L982
 13472              	.LVL1584:
 13473              	.L999:
6104:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13474              		.loc 1 6104 6 view .LVU4516
 13475 015e 0220     		movs	r0, #2
 13476 0160 E3E7     		b	.L997
 13477              	.L1026:
6100:Middlewares/Third_Party/FatFs/src/ff.c **** 
 13478              		.loc 1 6100 6 view .LVU4517
 13479 0162 0820     		movs	r0, #8
 13480 0164 E1E7     		b	.L997
 13481              	.LVL1585:
 13482              	.L1009:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13483              		.loc 1 6114 88 discriminator 2 view .LVU4518
 13484 0166 442B     		cmp	r3, #68
 13485 0168 04D0     		beq	.L1034
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13486              		.loc 1 6114 88 view .LVU4519
 13487 016a 1B9A     		ldr	r2, [sp, #108]
 13488 016c 171D     		adds	r7, r2, #4
 13489 016e 1B97     		str	r7, [sp, #108]
 13490 0170 1268     		ldr	r2, [r2]
 13491 0172 E1E7     		b	.L1010
 13492              	.L1034:
6114:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13493              		.loc 1 6114 71 view .LVU4520
 13494 0174 1B9A     		ldr	r2, [sp, #108]
 13495 0176 171D     		adds	r7, r2, #4
 13496 0178 1B97     		str	r7, [sp, #108]
 13497 017a 1268     		ldr	r2, [r2]
 13498 017c DCE7     		b	.L1010
 13499              	.LVL1586:
 13500              	.L1036:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13501              		.loc 1 6122 17 view .LVU4521
 13502 017e 2727     		movs	r7, #39
 13503              	.L1014:
 13504              		.loc 1 6122 17 discriminator 5 view .LVU4522
ARM GAS  /tmp/cc9mPikx.s 			page 413


 13505 0180 3B44     		add	r3, r3, r7
 13506              	.LVL1587:
 13507              		.loc 1 6122 17 discriminator 5 view .LVU4523
 13508 0182 DBB2     		uxtb	r3, r3
 13509              	.LVL1588:
 13510              	.L1013:
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13511              		.loc 1 6123 4 is_stmt 1 view .LVU4524
 13512              		.loc 1 6123 9 is_stmt 0 view .LVU4525
 13513 0184 0CF10107 		add	r7, ip, #1
 13514              	.LVL1589:
 13515              		.loc 1 6123 17 view .LVU4526
 13516 0188 3033     		adds	r3, r3, #48
 13517              	.LVL1590:
 13518              		.loc 1 6123 13 view .LVU4527
 13519 018a 0DF17009 		add	r9, sp, #112
 13520 018e E144     		add	r9, r9, ip
 13521 0190 09F8703C 		strb	r3, [r9, #-112]
6124:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 13522              		.loc 1 6124 11 is_stmt 1 view .LVU4528
 13523              		.loc 1 6124 3 is_stmt 0 view .LVU4529
 13524 0194 C645     		cmp	lr, r8
 13525 0196 98BF     		it	ls
 13526 0198 1F2F     		cmpls	r7, #31
 13527 019a 0ED8     		bhi	.L1035
6123:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13528              		.loc 1 6123 9 view .LVU4530
 13529 019c BC46     		mov	ip, r7
 13530              	.LVL1591:
 13531              	.L1015:
6120:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13532              		.loc 1 6120 3 is_stmt 1 view .LVU4531
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13533              		.loc 1 6121 4 view .LVU4532
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13534              		.loc 1 6121 18 is_stmt 0 view .LVU4533
 13535 019e 8646     		mov	lr, r0
 13536 01a0 B2FBF0F7 		udiv	r7, r2, r0
 13537 01a4 00FB1723 		mls	r3, r0, r7, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13538              		.loc 1 6121 6 view .LVU4534
 13539 01a8 DBB2     		uxtb	r3, r3
 13540              	.LVL1592:
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13541              		.loc 1 6121 24 is_stmt 1 view .LVU4535
 13542 01aa 9046     		mov	r8, r2
6121:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13543              		.loc 1 6121 26 is_stmt 0 view .LVU4536
 13544 01ac 3A46     		mov	r2, r7
 13545              	.LVL1593:
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13546              		.loc 1 6122 4 is_stmt 1 view .LVU4537
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13547              		.loc 1 6122 7 is_stmt 0 view .LVU4538
 13548 01ae 092B     		cmp	r3, #9
 13549 01b0 E8D9     		bls	.L1013
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
ARM GAS  /tmp/cc9mPikx.s 			page 414


 13550              		.loc 1 6122 15 is_stmt 1 discriminator 1 view .LVU4539
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13551              		.loc 1 6122 17 is_stmt 0 discriminator 1 view .LVU4540
 13552 01b2 7829     		cmp	r1, #120
 13553 01b4 E3D0     		beq	.L1036
6122:Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13554              		.loc 1 6122 17 view .LVU4541
 13555 01b6 0727     		movs	r7, #7
 13556 01b8 E2E7     		b	.L1014
 13557              	.LVL1594:
 13558              	.L1035:
6125:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 13559              		.loc 1 6125 3 is_stmt 1 view .LVU4542
 13560              		.loc 1 6125 6 is_stmt 0 view .LVU4543
 13561 01ba 16F0080F 		tst	r6, #8
 13562 01be 06D0     		beq	.L1016
 13563              		.loc 1 6125 14 is_stmt 1 discriminator 1 view .LVU4544
 13564              	.LVL1595:
 13565              		.loc 1 6125 23 is_stmt 0 discriminator 1 view .LVU4545
 13566 01c0 1CAB     		add	r3, sp, #112
 13567 01c2 1F44     		add	r7, r7, r3
 13568 01c4 2D23     		movs	r3, #45
 13569 01c6 07F8703C 		strb	r3, [r7, #-112]
 13570              		.loc 1 6125 19 discriminator 1 view .LVU4546
 13571 01ca 0CF10207 		add	r7, ip, #2
 13572              	.LVL1596:
 13573              	.L1016:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13574              		.loc 1 6126 3 is_stmt 1 view .LVU4547
 13575              		.loc 1 6126 10 view .LVU4548
 13576              		.loc 1 6126 12 is_stmt 0 view .LVU4549
 13577 01ce 16F0010F 		tst	r6, #1
 13578 01d2 03D0     		beq	.L1029
 13579              		.loc 1 6126 12 view .LVU4550
 13580 01d4 4FF0300A 		mov	r10, #48
 13581              	.L1017:
 13582              	.LVL1597:
6127:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 13583              		.loc 1 6127 3 is_stmt 1 discriminator 4 view .LVU4551
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13584              		.loc 1 6126 5 is_stmt 0 discriminator 4 view .LVU4552
 13585 01d8 B846     		mov	r8, r7
 13586              		.loc 1 6127 9 discriminator 4 view .LVU4553
 13587 01da 07E0     		b	.L1018
 13588              	.LVL1598:
 13589              	.L1029:
6126:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13590              		.loc 1 6126 12 view .LVU4554
 13591 01dc 4FF0200A 		mov	r10, #32
 13592 01e0 FAE7     		b	.L1017
 13593              	.LVL1599:
 13594              	.L1020:
 13595              		.loc 1 6127 31 is_stmt 1 discriminator 3 view .LVU4555
 13596 01e2 5146     		mov	r1, r10
 13597 01e4 08A8     		add	r0, sp, #32
 13598 01e6 FFF7FEFF 		bl	putc_bfd
 13599              	.LVL1600:
ARM GAS  /tmp/cc9mPikx.s 			page 415


 13600              		.loc 1 6127 23 is_stmt 0 discriminator 3 view .LVU4556
 13601 01ea C846     		mov	r8, r9
 13602              	.LVL1601:
 13603              	.L1018:
 13604              		.loc 1 6127 9 is_stmt 1 discriminator 1 view .LVU4557
 13605 01ec 16F0020F 		tst	r6, #2
 13606 01f0 04D1     		bne	.L1021
 13607              		.loc 1 6127 23 is_stmt 0 discriminator 2 view .LVU4558
 13608 01f2 08F10109 		add	r9, r8, #1
 13609              	.LVL1602:
 13610              		.loc 1 6127 19 discriminator 2 view .LVU4559
 13611 01f6 A045     		cmp	r8, r4
 13612 01f8 F3D3     		bcc	.L1020
 13613              		.loc 1 6127 23 view .LVU4560
 13614 01fa C846     		mov	r8, r9
 13615              	.LVL1603:
 13616              	.L1021:
6128:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 13617              		.loc 1 6128 3 is_stmt 1 discriminator 1 view .LVU4561
6129:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 13618              		.loc 1 6129 4 discriminator 1 view .LVU4562
 13619 01fc 013F     		subs	r7, r7, #1
 13620              	.LVL1604:
 13621              		.loc 1 6129 4 is_stmt 0 discriminator 1 view .LVU4563
 13622 01fe 1CAB     		add	r3, sp, #112
 13623 0200 3B44     		add	r3, r3, r7
 13624 0202 13F8701C 		ldrb	r1, [r3, #-112]	@ zero_extendqisi2
 13625 0206 08A8     		add	r0, sp, #32
 13626 0208 FFF7FEFF 		bl	putc_bfd
 13627              	.LVL1605:
6130:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 13628              		.loc 1 6130 11 is_stmt 1 discriminator 1 view .LVU4564
 13629              		.loc 1 6130 3 is_stmt 0 discriminator 1 view .LVU4565
 13630 020c 002F     		cmp	r7, #0
 13631 020e F5D1     		bne	.L1021
 13632              	.LVL1606:
 13633              	.L1022:
6131:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 13634              		.loc 1 6131 9 is_stmt 1 discriminator 1 view .LVU4566
 13635              		.loc 1 6131 11 is_stmt 0 discriminator 1 view .LVU4567
 13636 0210 08F10106 		add	r6, r8, #1
 13637              	.LVL1607:
 13638              		.loc 1 6131 9 discriminator 1 view .LVU4568
 13639 0214 A045     		cmp	r8, r4
 13640 0216 BFF404AF 		bcs	.L982
 13641              		.loc 1 6131 19 is_stmt 1 discriminator 2 view .LVU4569
 13642 021a 5146     		mov	r1, r10
 13643 021c 08A8     		add	r0, sp, #32
 13644 021e FFF7FEFF 		bl	putc_bfd
 13645              	.LVL1608:
 13646              		.loc 1 6131 11 is_stmt 0 discriminator 2 view .LVU4570
 13647 0222 B046     		mov	r8, r6
 13648 0224 F4E7     		b	.L1022
 13649              	.LVL1609:
 13650              	.L983:
6132:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9mPikx.s 			page 416


6134:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 13651              		.loc 1 6134 2 is_stmt 1 view .LVU4571
6135:Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 13652              		.loc 1 6136 2 view .LVU4572
 13653              		.loc 1 6136 9 is_stmt 0 view .LVU4573
 13654 0226 08A8     		add	r0, sp, #32
 13655 0228 FFF7FEFF 		bl	putc_flush
 13656              	.LVL1610:
6137:Middlewares/Third_Party/FatFs/src/ff.c **** }
 13657              		.loc 1 6137 1 view .LVU4574
 13658 022c 1DB0     		add	sp, sp, #116
 13659              	.LCFI146:
 13660              		.cfi_def_cfa_offset 44
 13661              		@ sp needed
 13662 022e BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 13663              	.LCFI147:
 13664              		.cfi_restore 14
 13665              		.cfi_restore 10
 13666              		.cfi_restore 9
 13667              		.cfi_restore 8
 13668              		.cfi_restore 7
 13669              		.cfi_restore 6
 13670              		.cfi_restore 5
 13671              		.cfi_restore 4
 13672              		.cfi_def_cfa_offset 12
 13673 0232 03B0     		add	sp, sp, #12
 13674              	.LCFI148:
 13675              		.cfi_restore 3
 13676              		.cfi_restore 2
 13677              		.cfi_restore 1
 13678              		.cfi_def_cfa_offset 0
 13679 0234 7047     		bx	lr
 13680              		.cfi_endproc
 13681              	.LFE416:
 13683              		.section	.bss.FatFs,"aw",%nobits
 13684              		.align	2
 13685              		.set	.LANCHOR2,. + 0
 13688              	FatFs:
 13689 0000 00000000 		.space	4
 13690              		.section	.bss.Files,"aw",%nobits
 13691              		.align	2
 13692              		.set	.LANCHOR0,. + 0
 13695              	Files:
 13696 0000 00000000 		.space	32
 13696      00000000 
 13696      00000000 
 13696      00000000 
 13696      00000000 
 13697              		.section	.bss.Fsid,"aw",%nobits
 13698              		.align	1
 13699              		.set	.LANCHOR3,. + 0
 13702              	Fsid:
 13703 0000 0000     		.space	2
 13704              		.section	.bss.LfnBuf,"aw",%nobits
 13705              		.align	2
 13706              		.set	.LANCHOR4,. + 0
ARM GAS  /tmp/cc9mPikx.s 			page 417


 13709              	LfnBuf:
 13710 0000 00000000 		.space	512
 13710      00000000 
 13710      00000000 
 13710      00000000 
 13710      00000000 
 13711              		.section	.rodata.ExCvt,"a"
 13712              		.align	2
 13713              		.set	.LANCHOR5,. + 0
 13716              	ExCvt:
 13717 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
 13717      41414143 
 13717      45454549 
 13717      49494141 
 13717      4592924F 
 13718 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
 13718      A8A9AAAB 
 13718      ACADAEAF 
 13718      B0
 13719 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
 13719      414141B8 
 13719      B9BABBBC 
 13719      BDBEBF
 13720 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
 13720      C4C54141 
 13720      C8C9CACB 
 13720      CCCDCE
 13721 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
 13721      45454949 
 13721      4949D9DA 
 13721      DBDCDD49 
 13721      DF4FE14F 
 13722 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
 13722      E8555555 
 13722      5959EEEF 
 13722      F0F1F2F3 
 13722      F4F5
 13723 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
 13723      FAFBFCFD 
 13723      FEFF
 13724              		.section	.rodata.LfnOfs,"a"
 13725              		.align	2
 13726              		.set	.LANCHOR1,. + 0
 13729              	LfnOfs:
 13730 0000 01030507 		.ascii	"\001\003\005\007\011\016\020\022\024\026\030\034\036"
 13730      090E1012 
 13730      1416181C 
 13730      1E
 13731              		.section	.rodata.cst.14586,"a"
 13732              		.align	2
 13733              		.set	.LANCHOR7,. + 0
 13736              	cst.14586:
 13737 0000 0100     		.short	1
 13738 0002 0400     		.short	4
 13739 0004 1000     		.short	16
 13740 0006 4000     		.short	64
 13741 0008 0001     		.short	256
ARM GAS  /tmp/cc9mPikx.s 			page 418


 13742 000a 0002     		.short	512
 13743 000c 0000     		.short	0
 13744              		.section	.rodata.cst32.14587,"a"
 13745              		.align	2
 13746              		.set	.LANCHOR6,. + 0
 13749              	cst32.14587:
 13750 0000 0100     		.short	1
 13751 0002 0200     		.short	2
 13752 0004 0400     		.short	4
 13753 0006 0800     		.short	8
 13754 0008 1000     		.short	16
 13755 000a 2000     		.short	32
 13756 000c 0000     		.short	0
 13757              		.text
 13758              	.Letext0:
 13759              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 13760              		.file 3 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 13761              		.file 4 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 13762              		.file 5 "Drivers/CMSIS/Include/core_cm7.h"
 13763              		.file 6 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 13764              		.file 7 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/lib/gcc/arm-none-eabi/
 13765              		.file 8 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 13766              		.file 9 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include/
 13767              		.file 10 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include
 13768              		.file 11 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include
 13769              		.file 12 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 13770              		.file 13 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 13771              		.file 14 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 13772              		.file 15 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 13773              		.file 16 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/arm-none-eabi/include
 13774              		.file 17 "Middlewares/Third_Party/FatFs/src/ff.h"
 13775              		.file 18 "Middlewares/Third_Party/FatFs/src/diskio.h"
 13776              		.file 19 "/nix/store/9w2nhnv8b84a8yg8jsii47ikl60bz16p-gcc-arm-embedded-9.3.1/lib/gcc/arm-none-eabi
 13777              		.file 20 "<built-in>"
ARM GAS  /tmp/cc9mPikx.s 			page 419


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
     /tmp/cc9mPikx.s:17     .text.ld_word:0000000000000000 $t
     /tmp/cc9mPikx.s:24     .text.ld_word:0000000000000000 ld_word
     /tmp/cc9mPikx.s:52     .text.ld_dword:0000000000000000 $t
     /tmp/cc9mPikx.s:58     .text.ld_dword:0000000000000000 ld_dword
     /tmp/cc9mPikx.s:97     .text.st_word:0000000000000000 $t
     /tmp/cc9mPikx.s:103    .text.st_word:0000000000000000 st_word
     /tmp/cc9mPikx.s:128    .text.st_dword:0000000000000000 $t
     /tmp/cc9mPikx.s:134    .text.st_dword:0000000000000000 st_dword
     /tmp/cc9mPikx.s:173    .text.mem_cpy:0000000000000000 $t
     /tmp/cc9mPikx.s:179    .text.mem_cpy:0000000000000000 mem_cpy
     /tmp/cc9mPikx.s:231    .text.mem_set:0000000000000000 $t
     /tmp/cc9mPikx.s:237    .text.mem_set:0000000000000000 mem_set
     /tmp/cc9mPikx.s:264    .text.mem_cmp:0000000000000000 $t
     /tmp/cc9mPikx.s:270    .text.mem_cmp:0000000000000000 mem_cmp
     /tmp/cc9mPikx.s:323    .text.chk_chr:0000000000000000 $t
     /tmp/cc9mPikx.s:329    .text.chk_chr:0000000000000000 chk_chr
     /tmp/cc9mPikx.s:364    .text.chk_lock:0000000000000000 $t
     /tmp/cc9mPikx.s:370    .text.chk_lock:0000000000000000 chk_lock
     /tmp/cc9mPikx.s:512    .text.chk_lock:0000000000000074 $d
     /tmp/cc9mPikx.s:517    .text.enq_lock:0000000000000000 $t
     /tmp/cc9mPikx.s:523    .text.enq_lock:0000000000000000 enq_lock
     /tmp/cc9mPikx.s:570    .text.enq_lock:000000000000001c $d
     /tmp/cc9mPikx.s:575    .text.inc_lock:0000000000000000 $t
     /tmp/cc9mPikx.s:581    .text.inc_lock:0000000000000000 inc_lock
     /tmp/cc9mPikx.s:762    .text.inc_lock:00000000000000a0 $d
     /tmp/cc9mPikx.s:767    .text.dec_lock:0000000000000000 $t
     /tmp/cc9mPikx.s:773    .text.dec_lock:0000000000000000 dec_lock
     /tmp/cc9mPikx.s:856    .text.dec_lock:000000000000003c $d
     /tmp/cc9mPikx.s:861    .text.clear_lock:0000000000000000 $t
     /tmp/cc9mPikx.s:867    .text.clear_lock:0000000000000000 clear_lock
     /tmp/cc9mPikx.s:948    .text.clear_lock:0000000000000038 $d
     /tmp/cc9mPikx.s:953    .text.clust2sect:0000000000000000 $t
     /tmp/cc9mPikx.s:959    .text.clust2sect:0000000000000000 clust2sect
     /tmp/cc9mPikx.s:999    .text.clmt_clust:0000000000000000 $t
     /tmp/cc9mPikx.s:1005   .text.clmt_clust:0000000000000000 clmt_clust
     /tmp/cc9mPikx.s:1076   .text.ld_clust:0000000000000000 $t
     /tmp/cc9mPikx.s:1082   .text.ld_clust:0000000000000000 ld_clust
     /tmp/cc9mPikx.s:1138   .text.st_clust:0000000000000000 $t
     /tmp/cc9mPikx.s:1144   .text.st_clust:0000000000000000 st_clust
     /tmp/cc9mPikx.s:1193   .text.pick_lfn:0000000000000000 $t
     /tmp/cc9mPikx.s:1199   .text.pick_lfn:0000000000000000 pick_lfn
     /tmp/cc9mPikx.s:1337   .text.pick_lfn:000000000000007c $d
     /tmp/cc9mPikx.s:1342   .text.put_lfn:0000000000000000 $t
     /tmp/cc9mPikx.s:1348   .text.put_lfn:0000000000000000 put_lfn
     /tmp/cc9mPikx.s:1477   .text.put_lfn:0000000000000074 $d
     /tmp/cc9mPikx.s:1482   .text.gen_numname:0000000000000000 $t
     /tmp/cc9mPikx.s:1488   .text.gen_numname:0000000000000000 gen_numname
     /tmp/cc9mPikx.s:1703   .text.sum_sfn:0000000000000000 $t
     /tmp/cc9mPikx.s:1709   .text.sum_sfn:0000000000000000 sum_sfn
     /tmp/cc9mPikx.s:1765   .text.get_ldnumber:0000000000000000 $t
     /tmp/cc9mPikx.s:1771   .text.get_ldnumber:0000000000000000 get_ldnumber
     /tmp/cc9mPikx.s:1873   .text.putc_init:0000000000000000 $t
     /tmp/cc9mPikx.s:1879   .text.putc_init:0000000000000000 putc_init
     /tmp/cc9mPikx.s:1902   .text.validate:0000000000000000 $t
     /tmp/cc9mPikx.s:1908   .text.validate:0000000000000000 validate
ARM GAS  /tmp/cc9mPikx.s 			page 420


     /tmp/cc9mPikx.s:2017   .text.sync_window:0000000000000000 $t
     /tmp/cc9mPikx.s:2023   .text.sync_window:0000000000000000 sync_window
     /tmp/cc9mPikx.s:2129   .text.move_window:0000000000000000 $t
     /tmp/cc9mPikx.s:2135   .text.move_window:0000000000000000 move_window
     /tmp/cc9mPikx.s:2206   .text.check_fs:0000000000000000 $t
     /tmp/cc9mPikx.s:2212   .text.check_fs:0000000000000000 check_fs
     /tmp/cc9mPikx.s:2308   .text.check_fs:000000000000006c $d
     /tmp/cc9mPikx.s:2315   .text.find_volume:0000000000000000 $t
     /tmp/cc9mPikx.s:2321   .text.find_volume:0000000000000000 find_volume
     /tmp/cc9mPikx.s:3037   .text.find_volume:0000000000000338 $d
     /tmp/cc9mPikx.s:3045   .text.find_volume:000000000000034c $t
     /tmp/cc9mPikx.s:3056   .text.put_fat:0000000000000000 $t
     /tmp/cc9mPikx.s:3062   .text.put_fat:0000000000000000 put_fat
     /tmp/cc9mPikx.s:3350   .text.get_fat:0000000000000000 $t
     /tmp/cc9mPikx.s:3356   .text.get_fat:0000000000000000 get_fat
     /tmp/cc9mPikx.s:3604   .text.dir_sdi:0000000000000000 $t
     /tmp/cc9mPikx.s:3610   .text.dir_sdi:0000000000000000 dir_sdi
     /tmp/cc9mPikx.s:3817   .text.create_chain:0000000000000000 $t
     /tmp/cc9mPikx.s:3823   .text.create_chain:0000000000000000 create_chain
     /tmp/cc9mPikx.s:4057   .text.remove_chain:0000000000000000 $t
     /tmp/cc9mPikx.s:4063   .text.remove_chain:0000000000000000 remove_chain
     /tmp/cc9mPikx.s:4224   .text.dir_next:0000000000000000 $t
     /tmp/cc9mPikx.s:4230   .text.dir_next:0000000000000000 dir_next
     /tmp/cc9mPikx.s:4539   .text.dir_alloc:0000000000000000 $t
     /tmp/cc9mPikx.s:4545   .text.dir_alloc:0000000000000000 dir_alloc
     /tmp/cc9mPikx.s:4657   .text.dir_read:0000000000000000 $t
     /tmp/cc9mPikx.s:4663   .text.dir_read:0000000000000000 dir_read
     /tmp/cc9mPikx.s:4884   .text.dir_remove:0000000000000000 $t
     /tmp/cc9mPikx.s:4890   .text.dir_remove:0000000000000000 dir_remove
     /tmp/cc9mPikx.s:4998   .text.sync_fs:0000000000000000 $t
     /tmp/cc9mPikx.s:5004   .text.sync_fs:0000000000000000 sync_fs
     /tmp/cc9mPikx.s:5118   .text.sync_fs:0000000000000080 $d
     /tmp/cc9mPikx.s:5124   .rodata.create_name.str1.4:0000000000000000 $d
     /tmp/cc9mPikx.s:5131   .text.create_name:0000000000000000 $t
     /tmp/cc9mPikx.s:5137   .text.create_name:0000000000000000 create_name
     /tmp/cc9mPikx.s:5690   .text.create_name:0000000000000228 $d
     /tmp/cc9mPikx.s:5697   .text.get_fileinfo:0000000000000000 $t
     /tmp/cc9mPikx.s:5703   .text.get_fileinfo:0000000000000000 get_fileinfo
     /tmp/cc9mPikx.s:6003   .text.cmp_lfn:0000000000000000 $t
     /tmp/cc9mPikx.s:6009   .text.cmp_lfn:0000000000000000 cmp_lfn
     /tmp/cc9mPikx.s:6169   .text.cmp_lfn:000000000000009c $d
     /tmp/cc9mPikx.s:6174   .text.dir_find:0000000000000000 $t
     /tmp/cc9mPikx.s:6180   .text.dir_find:0000000000000000 dir_find
     /tmp/cc9mPikx.s:6429   .text.follow_path:0000000000000000 $t
     /tmp/cc9mPikx.s:6435   .text.follow_path:0000000000000000 follow_path
     /tmp/cc9mPikx.s:6598   .text.dir_register:0000000000000000 $t
     /tmp/cc9mPikx.s:6604   .text.dir_register:0000000000000000 dir_register
     /tmp/cc9mPikx.s:6914   .text.dir_register:000000000000013c $d
     /tmp/cc9mPikx.s:6919   .text.f_mount:0000000000000000 $t
     /tmp/cc9mPikx.s:6926   .text.f_mount:0000000000000000 f_mount
     /tmp/cc9mPikx.s:7042   .text.f_mount:000000000000005c $d
     /tmp/cc9mPikx.s:7047   .text.f_open:0000000000000000 $t
     /tmp/cc9mPikx.s:7054   .text.f_open:0000000000000000 f_open
     /tmp/cc9mPikx.s:7616   .text.f_read:0000000000000000 $t
     /tmp/cc9mPikx.s:7623   .text.f_read:0000000000000000 f_read
     /tmp/cc9mPikx.s:8054   .text.f_write:0000000000000000 $t
     /tmp/cc9mPikx.s:8061   .text.f_write:0000000000000000 f_write
ARM GAS  /tmp/cc9mPikx.s 			page 421


     /tmp/cc9mPikx.s:8537   .text.putc_bfd:0000000000000000 $t
     /tmp/cc9mPikx.s:8543   .text.putc_bfd:0000000000000000 putc_bfd
     /tmp/cc9mPikx.s:8654   .text.putc_flush:0000000000000000 $t
     /tmp/cc9mPikx.s:8660   .text.putc_flush:0000000000000000 putc_flush
     /tmp/cc9mPikx.s:8739   .text.f_sync:0000000000000000 $t
     /tmp/cc9mPikx.s:8746   .text.f_sync:0000000000000000 f_sync
     /tmp/cc9mPikx.s:8894   .text.f_close:0000000000000000 $t
     /tmp/cc9mPikx.s:8901   .text.f_close:0000000000000000 f_close
     /tmp/cc9mPikx.s:8970   .text.f_lseek:0000000000000000 $t
     /tmp/cc9mPikx.s:8977   .text.f_lseek:0000000000000000 f_lseek
     /tmp/cc9mPikx.s:9692   .text.f_opendir:0000000000000000 $t
     /tmp/cc9mPikx.s:9699   .text.f_opendir:0000000000000000 f_opendir
     /tmp/cc9mPikx.s:9868   .text.f_closedir:0000000000000000 $t
     /tmp/cc9mPikx.s:9875   .text.f_closedir:0000000000000000 f_closedir
     /tmp/cc9mPikx.s:9941   .text.f_readdir:0000000000000000 $t
     /tmp/cc9mPikx.s:9948   .text.f_readdir:0000000000000000 f_readdir
     /tmp/cc9mPikx.s:10053  .text.f_stat:0000000000000000 $t
     /tmp/cc9mPikx.s:10060  .text.f_stat:0000000000000000 f_stat
     /tmp/cc9mPikx.s:10153  .text.f_getfree:0000000000000000 $t
     /tmp/cc9mPikx.s:10160  .text.f_getfree:0000000000000000 f_getfree
     /tmp/cc9mPikx.s:10442  .text.f_truncate:0000000000000000 $t
     /tmp/cc9mPikx.s:10449  .text.f_truncate:0000000000000000 f_truncate
     /tmp/cc9mPikx.s:10642  .text.f_unlink:0000000000000000 $t
     /tmp/cc9mPikx.s:10649  .text.f_unlink:0000000000000000 f_unlink
     /tmp/cc9mPikx.s:10876  .text.f_mkdir:0000000000000000 $t
     /tmp/cc9mPikx.s:10883  .text.f_mkdir:0000000000000000 f_mkdir
     /tmp/cc9mPikx.s:11260  .text.f_rename:0000000000000000 $t
     /tmp/cc9mPikx.s:11267  .text.f_rename:0000000000000000 f_rename
     /tmp/cc9mPikx.s:11545  .rodata.f_mkfs.str1.4:0000000000000000 $d
     /tmp/cc9mPikx.s:11555  .text.f_mkfs:0000000000000000 $t
     /tmp/cc9mPikx.s:11562  .text.f_mkfs:0000000000000000 f_mkfs
     /tmp/cc9mPikx.s:12147  .text.f_mkfs:00000000000002b8 $d
     /tmp/cc9mPikx.s:12155  .text.f_mkfs:00000000000002cc $t
     /tmp/cc9mPikx.s:12811  .text.f_mkfs:000000000000065c $d
     /tmp/cc9mPikx.s:12820  .text.f_mkfs:0000000000000674 $t
     /tmp/cc9mPikx.s:12851  .text.f_gets:0000000000000000 $t
     /tmp/cc9mPikx.s:12858  .text.f_gets:0000000000000000 f_gets
     /tmp/cc9mPikx.s:12963  .text.f_putc:0000000000000000 $t
     /tmp/cc9mPikx.s:12970  .text.f_putc:0000000000000000 f_putc
     /tmp/cc9mPikx.s:13014  .text.f_puts:0000000000000000 $t
     /tmp/cc9mPikx.s:13021  .text.f_puts:0000000000000000 f_puts
     /tmp/cc9mPikx.s:13078  .text.f_printf:0000000000000000 $t
     /tmp/cc9mPikx.s:13085  .text.f_printf:0000000000000000 f_printf
     /tmp/cc9mPikx.s:13271  .text.f_printf:000000000000009e $d
     /tmp/cc9mPikx.s:13684  .bss.FatFs:0000000000000000 $d
     /tmp/cc9mPikx.s:13688  .bss.FatFs:0000000000000000 FatFs
     /tmp/cc9mPikx.s:13691  .bss.Files:0000000000000000 $d
     /tmp/cc9mPikx.s:13695  .bss.Files:0000000000000000 Files
     /tmp/cc9mPikx.s:13698  .bss.Fsid:0000000000000000 $d
     /tmp/cc9mPikx.s:13702  .bss.Fsid:0000000000000000 Fsid
     /tmp/cc9mPikx.s:13705  .bss.LfnBuf:0000000000000000 $d
     /tmp/cc9mPikx.s:13709  .bss.LfnBuf:0000000000000000 LfnBuf
     /tmp/cc9mPikx.s:13712  .rodata.ExCvt:0000000000000000 $d
     /tmp/cc9mPikx.s:13716  .rodata.ExCvt:0000000000000000 ExCvt
     /tmp/cc9mPikx.s:13725  .rodata.LfnOfs:0000000000000000 $d
     /tmp/cc9mPikx.s:13729  .rodata.LfnOfs:0000000000000000 LfnOfs
     /tmp/cc9mPikx.s:13732  .rodata.cst.14586:0000000000000000 $d
ARM GAS  /tmp/cc9mPikx.s 			page 422


     /tmp/cc9mPikx.s:13736  .rodata.cst.14586:0000000000000000 cst.14586
     /tmp/cc9mPikx.s:13745  .rodata.cst32.14587:0000000000000000 $d
     /tmp/cc9mPikx.s:13749  .rodata.cst32.14587:0000000000000000 cst32.14587
     /tmp/cc9mPikx.s:13295  .text.f_printf:00000000000000b5 $d
     /tmp/cc9mPikx.s:13295  .text.f_printf:00000000000000b6 $t

UNDEFINED SYMBOLS
disk_status
disk_write
disk_read
disk_initialize
disk_ioctl
ff_convert
ff_wtoupper
get_fattime
